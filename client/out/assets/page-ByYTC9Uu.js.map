{"version":3,"file":"page-ByYTC9Uu.js","sources":["../../src/hooks/useAwards.ts","../../src/hooks/useAwardsPage.ts","../../src/pages/awards/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { api } from '../utils/api';\r\n\r\ninterface Award {\r\n  id: number;\r\n  title: string;\r\n  description: string | null;\r\n  imageId: number | null;\r\n  awardDate: string | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  image: any | null;\r\n}\r\n\r\nexport const useAwards = () => {\r\n  const [awards, setAwards] = useState<Award[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchAwards = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await api.get<Award[]>('/awards');\r\n        if (response.success && response.data) {\r\n          setAwards(response.data);\r\n        }\r\n      } catch (err: any) {\r\n        setError(err.message || 'Failed to fetch awards');\r\n        console.error('Error fetching awards:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAwards();\r\n  }, []);\r\n\r\n  return { awards, loading, error };\r\n};\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../utils/api';\r\n\r\ninterface AwardsPageContent {\r\n  id?: number;\r\n  heroTitle: string | null;\r\n  heroSubtitle: string | null;\r\n  heroImageId: number | null;\r\n  introText: string | null;\r\n  heroImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport const useAwardsPage = () => {\r\n  const [content, setContent] = useState<AwardsPageContent | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchAwardsPage = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        const response = await api.get<AwardsPageContent>('/awards/page-content');\r\n        if (response.success && response.data) {\r\n          const data = response.data as AwardsPageContent;\r\n          setContent({\r\n            id: data.id || undefined,\r\n            heroTitle: data.heroTitle || null,\r\n            heroSubtitle: data.heroSubtitle || null,\r\n            heroImageId: data.heroImageId || null,\r\n            introText: data.introText || null,\r\n            heroImage: data.heroImage\r\n          });\r\n        } else {\r\n          // Page content doesn't exist yet, use defaults\r\n          setContent({\r\n            heroTitle: null,\r\n            heroSubtitle: null,\r\n            heroImageId: null,\r\n            introText: null\r\n          });\r\n        }\r\n      } catch (err: any) {\r\n        // If it's a \"not found\" error, that's okay - use defaults\r\n        if (err.message && err.message.includes('not found')) {\r\n          setContent({\r\n            heroTitle: null,\r\n            heroSubtitle: null,\r\n            heroImageId: null,\r\n            introText: null\r\n          });\r\n          setError(null); // Don't treat \"not found\" as an error\r\n        } else {\r\n          setError(err.message || 'Failed to fetch awards page data');\r\n          console.error('Error fetching awards page:', err);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAwardsPage();\r\n  }, []);\r\n\r\n  return { content, loading, error };\r\n};\r\n\r\n","import { useEffect } from 'react';\nimport Header from '../../components/feature/Header';\nimport Footer from '../../components/feature/Footer';\nimport ContactUsSection from '../../components/reusable/ContactUsSection';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nimport { useAwards, useAwardsPage } from '../../hooks';\nimport { getDefaultImageUrl, getImageUrl } from '../../utils/imageUrl';\n\nexport default function AwardsPage() {\n  const { awards, loading, error } = useAwards();\n  const { content: pageContent, loading: contentLoading } = useAwardsPage();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    AOS.init({\n      duration: 800,\n      once: true,\n      easing: 'ease-out-cubic'\n    });\n  }, []);\n\n  // Fallback placeholder image - only used when image fails to load (server error)\n  const placeholderImage = getDefaultImageUrl('2025/04/Award01-1.jpg');\n\n  return (\n    <div className=\"pt-20\">\n      <Header />\n      {/* Hero Section */}\n      <section \n        className=\"relative bg-cover bg-center py-32 px-4\"\n        style={{\n          backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${\n            pageContent?.heroImage \n              ? getImageUrl(pageContent.heroImage) \n              : getDefaultImageUrl('2024/10/image-1-1.jpg')\n          })`\n        }}\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/40\"></div>\n        <div className=\"relative max-w-7xl mx-auto\">\n          <h1 className=\"text-5xl md:text-6xl font-bold text-[#9ACD32] mb-6\" data-aos=\"fade-down\">\n            {pageContent?.heroTitle || 'Awards'}\n          </h1>\n          {pageContent?.heroSubtitle && (\n            <p className=\"text-xl text-white font-light\" data-aos=\"fade-up\" data-aos-delay=\"100\">\n              {pageContent.heroSubtitle}\n            </p>\n          )}\n        </div>\n      </section>\n\n      {/* Awards Grid Section */}\n      <section className=\"py-16 px-4 bg-white\">\n        <div className=\"max-w-7xl mx-auto\">\n          {loading ? (\n            <div className=\"flex items-center justify-center h-64\">\n              <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-[#9ACD32]\"></div>\n            </div>\n          ) : error ? (\n            <div className=\"text-red-600 text-center p-8 bg-red-50 rounded-lg\">\n              <i className=\"ri-error-warning-line text-4xl mb-4\"></i>\n              <p className=\"text-lg\">Failed to load awards. Please try again later.</p>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {awards.map((award, index) => {\n                const imageUrl = award.image ? getImageUrl(award.image) : null;\n                const placeholderImage = getDefaultImageUrl('2025/04/Award01-1.jpg');\n                \n                return (\n                  <div \n                    key={award.id} \n                    className=\"cursor-pointer group\"\n                    data-aos=\"zoom-in\"\n                    data-aos-delay={index * 50}\n                    title={award.title}\n                  >\n                    <div className=\"overflow-hidden bg-white shadow-md hover:shadow-2xl transition-all duration-500 hover:-translate-y-2\">\n                      {imageUrl ? (\n                        <img\n                          src={imageUrl}\n                          alt={award.title}\n                          className=\"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-110\"\n                          loading={index < 4 ? 'eager' : 'lazy'}\n                          onError={(e) => {\n                            // Only fallback if image fails to load (server error)\n                            const target = e.target as HTMLImageElement;\n                            if (target.src !== placeholderImage) {\n                              target.src = placeholderImage;\n                            }\n                          }}\n                        />\n                      ) : (\n                        <div className=\"w-full aspect-square bg-gray-100 flex items-center justify-center\">\n                          <i className=\"ri-image-line text-4xl text-gray-400\"></i>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </section>\n      {/* Contact Section */}\n      <ContactUsSection />\n      <Footer />\n    </div>\n  );\n}\n"],"names":["useAwards","awards","setAwards","useState","loading","setLoading","error","setError","useEffect","response","api","err","useAwardsPage","content","setContent","data","AwardsPage","pageContent","AOS","getDefaultImageUrl","jsxs","jsx","Header","getImageUrl","award","index","imageUrl","placeholderImage","e","target","ContactUsSection","Footer"],"mappings":"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"}