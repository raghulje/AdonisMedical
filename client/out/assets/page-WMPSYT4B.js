const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DePFSs3Q.js","assets/index-o8LTlsr2.js","assets/index-BAcv56w7.css","assets/quill-D32Un0ak.css"])))=>i.map(i=>d[i]);
import{r as i,j as e,a as u,_ as Ie,u as Pe,c as Ee,A as De}from"./index-o8LTlsr2.js";import{g as xe,a as ge}from"./imageUrl-BzcOWJ-M.js";function H({isOpen:r,onClose:c,title:d,children:n,size:t="lg",showCloseButton:a=!0}){if(i.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:x=>{x.target===x.currentTarget&&c()},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-black bg-opacity-50","aria-hidden":"true"}),e.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${l[t]}`,children:[e.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d}),a&&e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-500 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsx("div",{className:"bg-white px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:n})]})]})})}function m({label:r,required:c=!1,error:d,hint:n,children:t}){return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r,c&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,n&&e.jsx("p",{className:"text-xs text-gray-500",children:n}),d&&e.jsx("p",{className:"text-xs text-red-500",children:d})]})}function G({items:r,onReorder:c,renderItem:d,keyExtractor:n,emptyMessage:t="No items yet. Add your first item!"}){const[a,l]=i.useState(null),[x,g]=i.useState(null),j=p=>{l(p)},w=(p,F)=>{p.preventDefault(),!(a===null||a===F)&&g(F)},v=(p,F)=>{if(p.preventDefault(),a===null)return;const b=[...r],[k]=b.splice(a,1);b.splice(F,0,k);const h=b.map((D,S)=>({...D,orderIndex:S}));c(h),l(null),g(null)},f=()=>{l(null),g(null)};return r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-inbox-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:t})]}):e.jsx("div",{className:"space-y-3",children:r.map((p,F)=>e.jsx("div",{draggable:!0,onDragStart:()=>j(F),onDragOver:b=>w(b,F),onDrop:b=>v(b,F),onDragEnd:f,className:`
            transition-all duration-200 cursor-move
            ${a===F?"opacity-50":""}
            ${x===F?"transform translate-y-2 border-blue-400":""}
          `,children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-md",children:[e.jsx("div",{className:"text-gray-400 cursor-grab active:cursor-grabbing",children:e.jsx("i",{className:"ri-drag-move-2-line text-2xl"})}),e.jsx("div",{className:"flex-1",children:d(p,F)}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",F+1]})]})},n(p)))})}function U({value:r,onChange:c,label:d="Image",required:n=!1,aspectRatio:t="16/9",currentImage:a=null}){const[l,x]=i.useState(!1),[g,j]=i.useState(null),[w,v]=i.useState(null),[f,p]=i.useState(""),[F,b]=i.useState([]),[k,h]=i.useState(!1),[D,S]=i.useState(1),[N,y]=i.useState(null),A=typeof r=="number",I=typeof r=="string"&&(r.startsWith("http")||r.startsWith("/uploads"));i.useEffect(()=>{w==="gallery"&&L()},[w,D]),i.useEffect(()=>{if(a&&a.filePath&&A&&r){const O="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";j(`${O}${a.filePath}`),y({id:r,fileName:a.fileName||"",filePath:a.filePath})}else A&&r?M(r):I&&r?j(r.startsWith("http")?r:xe(r.replace("/uploads/",""))):(j(null),y(null))},[r,a]);const M=async O=>{try{const J=await u.get(`/media/${O}`);if(J.success&&J.data){const T="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";j(`${T}${J.data.filePath}`),y(J.data)}}catch(J){console.error("Error fetching media:",J)}},L=async()=>{h(!0);try{const O=await u.get(`/media?fileType=image&page=${D}&limit=20`);O.success&&O.data&&b(O.data.media||[])}catch(O){console.error("Error fetching gallery:",O),alert("Failed to load gallery. Please try again.")}finally{h(!1)}},C=async O=>{const J=O.target.files?.[0];if(J){x(!0);try{const T=new FormData;T.append("image",J);const B=localStorage.getItem("auth_token"),W=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/image`,{method:"POST",headers:{Authorization:`Bearer ${B||""}`},body:T})).json();if(W.success&&W.mediaId){c(W.mediaId);const K="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";j(`${K}${W.imageUrl}`),v(null)}}catch(T){console.error("Upload error:",T),alert("Failed to upload image. Please try again.")}finally{x(!1)}}},P=O=>{c(O.id);const J="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";j(`${J}${O.filePath}`),y(O),v(null)},R=()=>{f.trim()&&(c(f.trim()),j(f.startsWith("http")?f:xe(f.replace("/uploads/",""))),p(""),v(null))},Q=()=>{c(null),j(null),y(null),v(null)},_=()=>g||(A&&r?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}/placeholder`:null);return e.jsxs("div",{className:"space-y-3",children:[d&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[d,n&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),_()&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:_()||"",alt:"Preview",className:`w-full rounded-lg object-cover ${t==="16/9"?"aspect-video":t==="1/1"?"aspect-square":""}`,style:{maxHeight:"300px"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[e.jsxs("button",{onClick:()=>v(null),className:"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change"]}),e.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 cursor-pointer",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Remove"]})]})})]}),N&&e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:N.fileName})]}),!_()||w!==null?e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:w?w==="upload"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Upload New Image"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:l,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer"}),l&&e.jsxs("div",{className:"text-sm text-blue-600",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Uploading..."]})]}):w==="gallery"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose from Gallery"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading gallery..."})]}):F.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"No images in gallery"}):e.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto",children:F.map(O=>{const T=`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${O.filePath}`;return e.jsx("div",{onClick:()=>P(O),className:`relative aspect-square cursor-pointer rounded-lg overflow-hidden border-2 ${N?.id===O.id?"border-blue-500":"border-gray-200"} hover:border-blue-300`,children:e.jsx("img",{src:T,alt:O.fileName,className:"w-full h-full object-cover"})},O.id)})})]}):w==="url"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Enter Image URL"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:f,onChange:O=>p(O.target.value),placeholder:"https://example.com/image.jpg or /uploads/2025/05/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:O=>O.key==="Enter"&&R()}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:R,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer",children:"Use URL"}),f&&e.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg p-2",children:e.jsx("img",{src:f.startsWith("http")?f:xe(f.replace("/uploads/","")),alt:"Preview",className:"w-full h-20 object-cover rounded",onError:O=>{O.target.style.display="none"}})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports local paths (/uploads/YYYY/MM/filename.jpg) or external URLs (https://...)"})]})]}):null:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select image source:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>v("upload"),className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-upload-2-line mr-2"}),"Upload"]}),e.jsxs("button",{onClick:()=>v("gallery"),className:"px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-image-line mr-2"}),"Gallery"]}),e.jsxs("button",{onClick:()=>v("url"),className:"px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-links-line mr-2"}),"URL"]})]}),e.jsx("button",{onClick:()=>v(null),className:"mt-4 text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:"Cancel"})]})}):e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>v(null),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change Image"]})})]})}function Te(){const[r,c]=i.useState("hero"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:"",subtitle:"",backgroundImageId:null,titleColor:"#FFFFFF",subtitleColor:"#FFFFFF",overlayOpacity:40}),[g,j]=i.useState({title:null,subtitle:null,introText:null,mainImageId:null,ctaText:null,ctaUrl:null}),[w,v]=i.useState([]),[f,p]=i.useState(!1),[F,b]=i.useState(null),[k,h]=i.useState([]),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState({title:"",content:"",imageId:null}),[M,L]=i.useState({heading:"",description:"",ctaText:"",ctaUrl:""}),[C,P]=i.useState([]),[R,Q]=i.useState(!1),[_,O]=i.useState(null),[J,T]=i.useState({heading:"",description:"",imageId:null,ctaText:"",ctaUrl:""}),[B,Y]=i.useState({subtitle:"",heading:""}),[W,K]=i.useState({heading:"",companyName:"",address:"",phone:"",email:"",imageId:null}),Z=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"about",label:"About Section",icon:"ri-information-line"},{id:"stats",label:"Statistics",icon:"ri-bar-chart-line"},{id:"products",label:"Products Section",icon:"ri-shopping-bag-line"},{id:"quality",label:"Quality Section",icon:"ri-shield-check-line"},{id:"specialties",label:"Specialties Section",icon:"ri-medicine-bottle-line"},{id:"testimonials",label:"Testimonials Section",icon:"ri-quote-text-line"},{id:"contact",label:"Contact Section",icon:"ri-phone-line"}];i.useEffect(()=>{X()},[r]);const X=async()=>{n(!0);try{switch(r){case"hero":const $=await u.get("/home-hero-section");$.success&&$.data&&x($.data);break;case"about":const q=await u.get("/home-about-section");if(q.success&&q.data){const ae=q.data;j({id:ae.id,title:ae.title||null,subtitle:ae.subtitle||null,introText:ae.introText||null,mainImageId:ae.mainImageId||null,ctaText:ae.ctaText||null,ctaUrl:ae.ctaUrl||null,mainImage:ae.mainImage}),v(ae.paragraphs||[])}else j({title:null,subtitle:null,introText:null,mainImageId:null,ctaText:null,ctaUrl:null}),v([]);break;case"stats":const te=await u.get("/home-stats");te.success&&te.data&&h(te.data.sort((ae,Ce)=>ae.orderIndex-Ce.orderIndex));break;case"products":const ce=await u.get("/home-products-section");ce.success&&ce.data?L(ce.data):L({heading:"",description:"",ctaText:"",ctaUrl:""});const ye=await u.get("/home-products-cards");ye.success&&ye.data?P(ye.data.sort((ae,Ce)=>ae.orderIndex-Ce.orderIndex)):P([]);break;case"quality":const je=await u.get("/home-quality-section");je.success&&je.data&&I(je.data);break;case"specialties":const ve=await u.get("/home-specialties-section");ve.success&&ve.data&&T(ve.data);break;case"testimonials":const Ne=await u.get("/home-testimonials-section");Ne.success&&Ne.data&&Y(Ne.data);break;case"contact":const we=await u.get("/home-contact-section");we.success&&we.data&&K(we.data);break}}catch($){console.error("Error fetching data:",$),alert($.message||"Failed to load data")}finally{n(!1)}},ee=async()=>{a(!0);try{(await u.put("/home-hero-section",l)).success&&alert("Hero section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},s=async()=>{a(!0);try{if((await u.put("/home-about-section",{...g,paragraphs:w})).success){alert("About section saved successfully!");const q=await u.get("/home-about-section");if(q.success&&q.data){const te=q.data;j({id:te.id,title:te.title||null,subtitle:te.subtitle||null,introText:te.introText||null,mainImageId:te.mainImageId||null,ctaText:te.ctaText||null,ctaUrl:te.ctaUrl||null,mainImage:te.mainImage}),v(te.paragraphs||[])}}}catch($){alert($.message||"Failed to save")}finally{a(!1)}},o=async $=>{a(!0);try{$.id?await u.put(`/home-about-paragraphs/${$.id}`,$):await u.post("/home-about-paragraphs",{...$,orderIndex:w.length}),p(!1),b(null),X(),alert("Paragraph saved successfully!")}catch(q){alert(q.message||"Failed to save")}finally{a(!1)}},z=async $=>{if(confirm("Are you sure you want to delete this paragraph?")){a(!0);try{await u.delete(`/home-about-paragraphs/${$}`),v(w.filter(q=>q.id!==$)),alert("Paragraph deleted successfully!")}catch(q){alert(q.message||"Failed to delete")}finally{a(!1)}}},me=async $=>{a(!0);try{for(let q=0;q<$.length;q++)await u.put(`/home-about-paragraphs/${$[q].id}`,{...$[q],orderIndex:q});v($),alert("Paragraphs order updated successfully!")}catch(q){alert(q.message||"Failed to update order")}finally{a(!1)}},he=async $=>{a(!0);try{for(let q=0;q<$.length;q++)await u.put(`/home-stats/${$[q].id}`,{...$[q],orderIndex:q});h($),alert("Statistics order updated successfully!")}catch(q){alert(q.message||"Failed to update order")}finally{a(!1)}},pe=async $=>{a(!0);try{$.id?await u.put(`/home-stats/${$.id}`,$):await u.post("/home-stats",{...$,orderIndex:k.length}),S(!1),y(null),X(),alert("Stat saved successfully!")}catch(q){alert(q.message||"Failed to save")}finally{a(!1)}},be=async $=>{if(confirm("Are you sure you want to delete this statistic?")){a(!0);try{await u.delete(`/home-stats/${$}`),h(k.filter(q=>q.id!==$)),alert("Stat deleted successfully!")}catch(q){alert(q.message||"Failed to delete")}finally{a(!1)}}},E=async()=>{a(!0);try{(await u.put("/home-quality-section",A)).success&&alert("Quality section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},V=async()=>{a(!0);try{(await u.put("/home-products-section",M)).success&&alert("Products section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},se=async $=>{a(!0);try{$.id&&$.id>0?await u.put(`/home-products-cards/${$.id}`,$):await u.post("/home-products-cards",{...$,orderIndex:C.length}),Q(!1),O(null);const q=await u.get("/home-products-cards");q.success&&q.data&&P(q.data.sort((te,ce)=>te.orderIndex-ce.orderIndex)),alert("Product card saved successfully!")}catch(q){alert(q.message||"Failed to save card")}finally{a(!1)}},oe=async $=>{if(confirm("Are you sure you want to delete this product card?")){a(!0);try{await u.delete(`/home-products-cards/${$}`),P(C.filter(q=>q.id!==$)),alert("Product card deleted successfully!")}catch(q){alert(q.message||"Failed to delete")}finally{a(!1)}}},re=async $=>{a(!0);try{for(let q=0;q<$.length;q++)await u.put(`/home-products-cards/${$[q].id}`,{...$[q],orderIndex:q});P($),alert("Product cards order updated successfully!")}catch(q){alert(q.message||"Failed to update order")}finally{a(!1)}},ie=async()=>{a(!0);try{(await u.put("/home-specialties-section",J)).success&&alert("Specialties section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},de=async()=>{a(!0);try{(await u.put("/home-testimonials-section",B)).success&&alert("Testimonials section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},fe=async()=>{a(!0);try{(await u.put("/home-contact-section",W)).success&&alert("Contact section saved successfully!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},le=$=>$?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${$.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Home Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of your home page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Z.map($=>e.jsxs("button",{onClick:()=>c($.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===$.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:$.icon}),e.jsx("span",{children:$.label})]},$.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[r==="hero"&&e.jsx($e,{data:l,onChange:x,onSave:ee,saving:t,getImageUrl:le}),r==="about"&&e.jsx(Me,{data:g,onChange:j,onSave:s,saving:t,getImageUrl:le,paragraphs:w,onAddParagraph:()=>{b({id:0,content:"",orderIndex:w.length}),p(!0)},onEditParagraph:$=>{b($),p(!0)},onDeleteParagraph:z,onReorderParagraphs:me}),r==="stats"&&e.jsx(Ue,{stats:k,onReorder:he,onEdit:$=>{y($),S(!0)},onDelete:be,onAdd:()=>{y({id:0,iconClass:"",imageId:null,number:"",label:"",orderIndex:k.length}),S(!0)},getImageUrl:le}),r==="products"&&e.jsx(Ve,{data:M,onChange:L,onSave:V,saving:t,cards:C,onAddCard:()=>{O({id:0,name:"",backgroundImageId:null,cardImageId:null,internalLink:null,orderIndex:C.length,isActive:!0}),Q(!0)},onEditCard:$=>{O($),Q(!0)},onDeleteCard:oe,onReorderCards:re,getImageUrl:le}),r==="quality"&&e.jsx(Re,{data:A,onChange:I,onSave:E,saving:t,getImageUrl:le}),r==="specialties"&&e.jsx(Be,{data:J,onChange:T,onSave:ie,saving:t,getImageUrl:le}),r==="testimonials"&&e.jsx(qe,{data:B,onChange:Y,onSave:de,saving:t}),r==="contact"&&e.jsx(He,{data:W,onChange:K,onSave:fe,saving:t,getImageUrl:le})]})})]}),D&&N&&e.jsx(Oe,{stat:N,onSave:pe,onClose:()=>{S(!1),y(null)},saving:t,getImageUrl:le}),f&&F&&e.jsx(Le,{paragraph:F,onSave:o,onClose:()=>{p(!1),b(null)},saving:t}),R&&_&&e.jsx(ze,{card:_,onSave:se,onClose:()=>{Q(!1),O(null)},saving:t})]})}function $e({data:r,onChange:c,onSave:d,saving:n,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hero Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:r.title??"",onChange:a=>c({...r,title:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:r.subtitle??"",onChange:a=>c({...r,subtitle:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter subtitle"})}),e.jsx(U,{value:r.backgroundImageId,onChange:a=>c({...r,backgroundImageId:a}),label:"Background Image"}),e.jsx(m,{label:"Title Color",children:e.jsx("input",{type:"color",value:r.titleColor??"#FFFFFF",onChange:a=>c({...r,titleColor:a.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Subtitle Color",children:e.jsx("input",{type:"color",value:r.subtitleColor??"#FFFFFF",onChange:a=>c({...r,subtitleColor:a.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Overlay Opacity",hint:"0-100",children:e.jsx("input",{type:"number",min:"0",max:"100",value:r.overlayOpacity??40,onChange:a=>c({...r,overlayOpacity:parseInt(a.target.value)||40}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),r.backgroundImage&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview:"}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden",style:{height:"300px"},children:[e.jsx("img",{src:t(r.backgroundImage),alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center px-8",style:{backgroundColor:`rgba(0,0,0,${r.overlayOpacity/100})`},children:e.jsxs("div",{children:[e.jsx("h1",{style:{color:r.titleColor},className:"text-3xl font-bold mb-2",children:r.title}),e.jsx("p",{style:{color:r.subtitleColor},className:"text-lg",children:r.subtitle})]})})]})]})]})}function Me({data:r,onChange:c,onSave:d,saving:n,getImageUrl:t,paragraphs:a=[],onAddParagraph:l,onEditParagraph:x,onDeleteParagraph:g,onReorderParagraphs:j}){const w=r||{},v=Array.isArray(a)?a:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Title",children:e.jsx("input",{type:"text",value:w.title||"",onChange:f=>c({...w,title:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Title (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:w.subtitle||"",onChange:f=>c({...w,subtitle:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Subtitle (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text (Fallback if no paragraphs)",children:e.jsx("textarea",{value:w.introText||"",onChange:f=>c({...w,introText:f.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter intro text (used if no paragraphs are added)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:w.mainImageId||null,onChange:f=>c({...w,mainImageId:f}),label:"Section Image"})}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:w.ctaText||"",onChange:f=>c({...w,ctaText:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"More About Us"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:w.ctaUrl||"",onChange:f=>c({...w,ctaUrl:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about"})})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>l&&l(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder. If paragraphs are added, they will be displayed instead of the intro text."]}),e.jsx(G,{items:v,onReorder:j||(()=>{}),keyExtractor:f=>f.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:f=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:f.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x&&x(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>g&&g(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}function Le({paragraph:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r||{id:0,content:"",orderIndex:0});return i.useEffect(()=>{r&&a(r)},[r]),e.jsx(H,{isOpen:!0,onClose:d,title:r?.id?"Edit Paragraph":"Add Paragraph",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t?.content||"",onChange:l=>a({...t,content:l.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t?.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ue({stats:r,onReorder:c,onEdit:d,onDelete:n,onAdd:t,getImageUrl:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Statistics"}),e.jsxs("button",{onClick:t,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Statistic"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Drag and drop items to reorder them. Changes are saved automatically."]}),e.jsx(G,{items:r,onReorder:c,keyExtractor:l=>l.id,emptyMessage:"No statistics yet. Click 'Add Statistic' to get started!",renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[l.image&&l.image.filePath?e.jsx("img",{src:a(l.image),alt:l.image.altText||l.label,className:"h-10 w-10 object-contain"}):l.iconClass?e.jsx("i",{className:`${l.iconClass} text-2xl text-blue-600`}):e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx("i",{className:"ri-image-line text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:l.number}),e.jsx("p",{className:"text-sm text-gray-600",children:l.label})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>n(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})}function Re({data:r,onChange:c,onSave:d,saving:n,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:r.title||"",onChange:a=>c({...r,title:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:r.content||"",onChange:a=>c({...r,content:a.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.imageId,onChange:a=>c({...r,imageId:a}),label:"Section Image"})})]})]})}function Ve({data:r={},onChange:c,onSave:d,saving:n,cards:t=[],onAddCard:a,onEditCard:l,onDeleteCard:x,onReorderCards:g,getImageUrl:j}){const w=p=>!p||!p.cardImage?"":`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${p.cardImage.filePath}`,v=Array.isArray(t)?t:[],f=r||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:f.heading||"",onChange:p=>c&&c({...f,heading:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:f.description||"",onChange:p=>c&&c({...f,description:p.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter products section description"})})}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:f.ctaText||"",onChange:p=>c&&c({...f,ctaText:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"View All Products"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:f.ctaUrl||"",onChange:p=>c&&c({...f,ctaUrl:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products Cards"}),e.jsxs("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),v.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No cards yet. Add your first product card!"})]}):e.jsx(G,{items:v,onReorder:g||(()=>{}),onReorder:g,keyExtractor:p=>p.id,emptyMessage:"No cards yet. Click 'Add Card' to get started!",renderItem:p=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[p.cardImage&&e.jsx("img",{src:w(p),alt:p.name||"Card image",className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:p.name||"Unnamed Card"}),p.internalLink&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Link: ",p.internalLink]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>l&&l(p),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>x&&x(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})}function Be({data:r,onChange:c,onSave:d,saving:n,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Specialties Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:a=>c({...r,heading:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Specialties"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:r.description||"",onChange:a=>c({...r,description:a.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialties section description"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.imageId,onChange:a=>c({...r,imageId:a}),label:"Section Image"})}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:r.ctaText||"",onChange:a=>c({...r,ctaText:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explore Products"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:r.ctaUrl||"",onChange:a=>c({...r,ctaUrl:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]})]})}function qe({data:r,onChange:c,onSave:d,saving:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Testimonials Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:r.subtitle||"",onChange:t=>c({...r,subtitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Testimonial"})}),e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:t=>c({...r,heading:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Client Stories & Experiences"})})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Note: Testimonials content is managed separately. This section only controls the header."]})})]})}function He({data:r,onChange:c,onSave:d,saving:n,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:a=>c({...r,heading:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Company Name",children:e.jsx("input",{type:"text",value:r.companyName||"",onChange:a=>c({...r,companyName:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ADONIS MEDICAL SYSTEMS PVT LTD"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:r.address||"",onChange:a=>c({...r,address:a.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071."})})}),e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:r.phone||"",onChange:a=>c({...r,phone:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9872003273"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:r.email||"",onChange:a=>c({...r,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"support@adonismedical.com"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.imageId,onChange:a=>c({...r,imageId:a}),label:"Section Image"})})]})]})}function Oe({stat:r,onSave:c,onClose:d,saving:n,getImageUrl:t}){const[a,l]=i.useState(r),x=a.number&&a.label&&(a.iconClass||a.imageId);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id?"Edit Statistic":"Add Statistic",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{label:"Icon Class",hint:"Use RemixIcon class names (e.g., ri-user-line) or upload an image below",children:[e.jsx("input",{type:"text",value:a.iconClass||"",onChange:g=>l({...a,iconClass:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-number-1"}),a.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:a.iconClass})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"OR"}),e.jsx(U,{value:a.imageId||null,onChange:g=>l({...a,imageId:g}),label:"Upload Icon Image (JPG, PNG, SVG, etc.)"}),a.image&&a.image.filePath&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Image:"}),e.jsx("img",{src:t(a.image),alt:a.image.altText||"Stat icon",className:"h-12 w-12 object-contain border border-gray-200 rounded"})]})]}),e.jsx(m,{label:"Number/Value",required:!0,children:e.jsx("input",{type:"text",value:a.number||"",onChange:g=>l({...a,number:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"100+"})}),e.jsx(m,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:a.label||"",onChange:g=>l({...a,label:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Happy Clients"})}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"You can use either an icon class or upload an image. If both are provided, the image will take priority."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(a),disabled:n||!x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function ze({card:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return i.useEffect(()=>{a(r)},[r]),e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Product Card":"Add New Product Card",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Card Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:l=>a({...t,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"HF Mobile"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(U,{value:t.backgroundImageId,onChange:l=>a({...t,backgroundImageId:l}),label:"Background Image"}),e.jsx(U,{value:t.cardImageId,onChange:l=>a({...t,cardImageId:l}),label:"Card Image"})]}),e.jsx(m,{label:"Internal Link",hint:"Page URL to redirect to (e.g., /products/hf-mobile)",children:e.jsx("input",{type:"text",value:t.internalLink||"",onChange:l=>a({...t,internalLink:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products/hf-mobile"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Card":"Create Card"})]})]})})}function Qe(){const[r,c]=i.useState("header"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState([]),[g,j]=i.useState(!1),[w,v]=i.useState(null),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(null),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState([]),[C,P]=i.useState(!1),[R,Q]=i.useState(null),[_,O]=i.useState([]),[J,T]=i.useState(!1),[B,Y]=i.useState(null);i.useEffect(()=>{r==="header"?W():(K(),Z(),X())},[r]);const W=async()=>{n(!0);try{const E=await u.get("/navigation");if(E.success&&E.data){const V=E.data,oe=V.filter(re=>!re.parentId).sort((re,ie)=>re.orderIndex-ie.orderIndex).map(re=>{const ie=V.filter(de=>de.parentId===re.id).sort((de,fe)=>de.orderIndex-fe.orderIndex);return{...re,children:ie.length>0?ie:void 0}});x(oe)}}catch(E){alert(E.message||"Failed to load")}finally{n(!1)}},K=async()=>{n(!0);try{const E=await u.get("/footer/sections");if(E.success&&E.data){const V=E.data.sort((se,oe)=>se.orderIndex-oe.orderIndex);p(V)}}catch(E){alert(E.message||"Failed to load")}finally{n(!1)}},Z=async()=>{try{const E=await u.get("/footer/logos");E.success&&E.data&&L(E.data.sort((V,se)=>V.orderIndex-se.orderIndex))}catch(E){console.error("Error fetching footer logos:",E)}},X=async()=>{try{const E=await u.get("/social-links");E.success&&E.data&&O(E.data.sort((V,se)=>V.orderIndex-se.orderIndex))}catch(E){console.error("Error fetching social links:",E)}},ee=async E=>{a(!0);try{E.id&&E.id>0?await u.put(`/navigation/${E.id}`,E):await u.post("/navigation",{...E,orderIndex:l.length}),j(!1),v(null),W(),alert("Navigation item saved!")}catch(V){alert(V.message||"Failed to save")}finally{a(!1)}},s=async E=>{if(confirm("Delete this navigation item?")){a(!0);try{await u.delete(`/navigation/${E}`),x(l.filter(V=>V.id!==E)),alert("Navigation item deleted!")}catch(V){alert(V.message||"Failed to delete")}finally{a(!1)}}},o=async E=>{a(!0);try{E.id&&E.id>0?await u.put(`/footer/sections/${E.id}`,E):await u.post("/footer/sections",{...E,orderIndex:f.length}),b(!1),S(null),K(),alert("Footer section saved!")}catch(V){alert(V.message||"Failed to save")}finally{a(!1)}},z=async E=>{if(confirm("Are you sure you want to delete this footer section? This will also delete all links within this section.")){a(!0);try{await u.delete(`/footer/sections/${E}`),p(f.filter(V=>V.id!==E)),alert("Footer section deleted successfully!")}catch(V){alert(V.message||"Failed to delete")}finally{a(!1)}}},me=async E=>{a(!0);try{if(E.id&&E.id>0)await u.put(`/footer/links/${E.id}`,E);else{const V=f.find(se=>se.id===A);await u.post("/footer/links",{...E,footerSectionId:A,iconSvg:E.iconSvg||null,iconImageId:E.iconImageId||null,orderIndex:V?.links?.length||0})}h(!1),y(null),K(),alert("Footer link saved!")}catch(V){alert(V.message||"Failed to save")}finally{a(!1)}},he=async E=>{if(confirm("Are you sure you want to delete this link?")){a(!0);try{await u.delete(`/footer/links/${E}`),K(),alert("Footer link deleted successfully!")}catch(V){alert(V.message||"Failed to delete")}finally{a(!1)}}},pe=async E=>{a(!0);try{E.id&&E.id>0?await u.put(`/footer/logos/${E.id}`,E):await u.post("/footer/logos",E),P(!1),Q(null),Z(),alert("Logo saved!")}catch(V){alert(V.message||"Failed to save")}finally{a(!1)}},be=async E=>{a(!0);try{E.id&&E.id>0?await u.put(`/social-links/${E.id}`,E):await u.post("/social-links",E),T(!1),Y(null),X(),alert("Social link saved!")}catch(V){alert(V.message||"Failed to save")}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Header & Footer Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage navigation menu and footer content"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("header"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="header"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Navigation"}),e.jsx("button",{onClick:()=>c("footer"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="footer"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Footer"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="header"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Navigation Menu"}),e.jsxs("button",{onClick:()=>{v({id:0,label:"",url:null,parentId:null,orderIndex:l.length,isActive:!0,openInNewTab:!1}),j(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Item"]})]}),l.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-menu-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No navigation items yet"})]}):e.jsx("div",{className:"space-y-3",children:l.map(E=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:E.label}),E.children&&E.children.length>0&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[E.children.length," sub-menu",E.children.length!==1?"s":""]})]}),E.url&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.isActive?"Active":"Inactive"}),e.jsxs("button",{onClick:()=>{v({id:0,label:"",url:null,parentId:E.id,orderIndex:E.children?.length||0,isActive:!0,openInNewTab:!1}),j(!0)},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",title:"Add Sub-menu",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Sub-menu"]}),e.jsx("button",{onClick:()=>{v(E),j(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>s(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),E.children&&E.children.length>0&&e.jsx("div",{className:"ml-4 mt-3 space-y-2 border-l-2 border-gray-300 pl-4",children:E.children.map(V=>e.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded p-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:V.label}),V.url&&e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:V.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${V.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:V.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{v(V),j(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>s(V.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},V.id))})]},E.id))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b pb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo and Social Media Icons"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Logos"}),e.jsxs("button",{onClick:()=>{const E=M.find(se=>se.name==="refex"),V=M.find(se=>se.name==="adonis");E?V||(Q({id:0,name:"adonis",logoImageId:null,orderIndex:1,isActive:!0}),P(!0)):(Q({id:0,name:"refex",logoImageId:null,orderIndex:0,isActive:!0}),P(!0))},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Logo"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:M.map(E=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium capitalize",children:[E.name," Logo"]}),e.jsx("button",{onClick:()=>{Q(E),P(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]}),E.logoImage&&e.jsx("img",{src:Ge(E),alt:`${E.name} logo`,className:"h-12 w-auto object-contain"})]},E.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Social Media Icons"}),e.jsxs("button",{onClick:()=>{Y({id:0,platform:"",url:"",iconClass:null,orderIndex:_.length,isActive:!0}),T(!0)},className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Social Link"]})]}),_.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No social links yet"}):e.jsx("div",{className:"space-y-2",children:_.map(E=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[E.iconClass&&e.jsx("i",{className:`${E.iconClass} text-xl text-[#FF6B35]`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.platform}),e.jsx("p",{className:"text-sm text-gray-600",children:E.url})]})]}),e.jsx("button",{onClick:()=>{Y(E),T(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]},E.id))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"}),' Create sections like "Quick Links", "Our Products", and "Contact Information". For Contact Information, upload icon images (JPG, PNG, SVG) for Phone, Email, and Location.']})})]})}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Footer Sections"}),e.jsxs("button",{onClick:()=>{S({id:0,title:"",orderIndex:f.length}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Section"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-layout-bottom-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No footer sections yet"})]}):e.jsx("div",{className:"space-y-4",children:f.map(E=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:E.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{I(E.id),y({id:0,footerSectionId:E.id,label:"",url:"",iconImageId:null,orderIndex:E.links?.length||0}),h(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer text-sm",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Link"]}),e.jsx("button",{onClick:()=>{S(E),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit Section",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>z(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete Section",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),E.links&&E.links.length>0&&e.jsx("div",{className:"space-y-2",children:E.links.map(V=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[V.iconImage&&e.jsx("img",{src:Je(V),alt:V.label,className:"w-5 h-5 object-contain"}),!V.iconImage&&V.iconSvg&&e.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-[#FF6B35]",dangerouslySetInnerHTML:{__html:V.iconSvg}}),e.jsxs("span",{className:"text-sm text-gray-700",children:[V.label," - ",V.url]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>{y(V),h(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",title:"Edit Link",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>he(V.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",title:"Delete Link",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},V.id))})]},E.id))})]})]})})]}),g&&w&&e.jsx(We,{item:w,onSave:ee,onClose:()=>{j(!1),v(null)},saving:t}),F&&D&&e.jsx(Ke,{section:D,onSave:o,onClose:()=>{b(!1),S(null)},saving:t}),k&&N&&e.jsx(Xe,{link:N,onSave:me,onClose:()=>{h(!1),y(null)},saving:t}),C&&R&&e.jsx(_e,{logo:R,onSave:pe,onClose:()=>{P(!1),Q(null)},saving:t}),J&&B&&e.jsx(Ye,{social:B,onSave:be,onClose:()=>{T(!1),Y(null)},saving:t})]})}function Ge(r){return r.logoImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.logoImage.filePath}`:""}function Je(r){return r.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.iconImage.filePath}`:""}function _e({logo:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Logo":"Add Logo",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Logo Name",required:!0,children:e.jsxs("select",{value:t.name,onChange:l=>a({...t,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:r.id>0,children:[e.jsx("option",{value:"refex",children:"Refex"}),e.jsx("option",{value:"adonis",children:"Adonis"})]})}),e.jsx(U,{value:t.logoImageId,onChange:l=>a({...t,logoImageId:l}),label:"Logo Image"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ye({social:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:t.platform,onChange:l=>a({...t,platform:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook, Twitter, Instagram, LinkedIn"})}),e.jsx(m,{label:"URL",required:!0,children:e.jsx("input",{type:"text",value:t.url,onChange:l=>a({...t,url:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsx(m,{label:"Icon Class (Optional)",children:e.jsx("input",{type:"text",value:t.iconClass||"",onChange:l=>a({...t,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-fill"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.platform||!t.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function We({item:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r),l=r.parentId!==null&&r.parentId!==void 0;return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?l?"Edit Sub-menu Item":"Edit Navigation Item":l?"Add Sub-menu Item":"Add Navigation Item",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[l&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"This will be added as a sub-menu item under its parent."]})}),e.jsx(m,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:t.label,onChange:x=>a({...t,label:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Home, About Us, Products"})}),e.jsxs(m,{label:"URL",children:[e.jsx("input",{type:"text",value:t.url||"",onChange:x=>a({...t,url:x.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about or /products (optional for parent with sub-menus)"}),!l&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Parent items can have both a URL and sub-menus. Leave empty if this is only a dropdown parent."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:x=>a({...t,isActive:x.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx(m,{label:"Open in New Tab",children:e.jsxs("select",{value:t.openInNewTab?"yes":"no",onChange:x=>a({...t,openInNewTab:x.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.label,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ke({section:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Footer Section":"Add Footer Section",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Section Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:l=>a({...t,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Xe({link:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState({...r,iconSvg:r.iconSvg||"",iconImageId:r.iconImageId||null}),l=x=>x?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${x.filePath}`:"";return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Footer Link":"Add Footer Link",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Link Label (Title)",required:!0,children:e.jsx("input",{type:"text",value:t.label,onChange:x=>a({...t,label:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Phone, Email, Location"})}),e.jsxs(m,{label:"Data (URL or Content)",required:!0,children:[e.jsx("input",{type:"text",value:t.url,onChange:x=>a({...t,url:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"tel:+1234567890, mailto:email@example.com, or /about"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"For Contact Info: Use tel: for phone, mailto: for email, or plain text for address"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Icon (Choose one method)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon Image Upload (JPG, PNG, SVG)"}),e.jsx(U,{value:t.iconImageId,onChange:x=>a({...t,iconImageId:x,iconSvg:null}),label:""}),t.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:l(t.iconImage),alt:"Icon preview",className:"w-8 h-8 object-contain"})})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"OR"}),e.jsxs(m,{label:"SVG Icon Code (Alternative)",children:[e.jsx("textarea",{value:t.iconSvg||"",onChange:x=>a({...t,iconSvg:x.target.value||null,iconImageId:null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'Paste SVG code here, e.g., <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M..."/></svg>'}),t.iconSvg&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview:"}),e.jsx("div",{className:"w-8 h-8 text-[#FF6B35]",dangerouslySetInnerHTML:{__html:t.iconSvg}})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.label||!t.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ze(){const[r,c]=i.useState("hero"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,overviewHeading:null,overviewContent:null,overviewImageId:null,safetyHeading:null,safetyContent:null,safetyImageId:null,excellenceHeading:null,excellenceContent:null,excellenceImageId:null}),g=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"overview",label:"Company Overview",icon:"ri-file-text-line"},{id:"safety",label:"Safety & Innovation",icon:"ri-shield-check-line"},{id:"excellence",label:"Excellence",icon:"ri-award-line"}];i.useEffect(()=>{j()},[]);const j=async()=>{n(!0);try{const f=await u.get("/about");f.success&&f.data&&x(f.data)}catch(f){console.error("Error fetching content:",f),alert(f.message||"Failed to load content")}finally{n(!1)}},w=async()=>{a(!0);try{(await u.put("/about",l)).success&&(alert("About page saved successfully!"),j())}catch(f){alert(f.message||"Failed to save")}finally{a(!1)}},v=f=>f?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${f.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"About Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of the about page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:g.map(f=>e.jsxs("button",{onClick:()=>c(f.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===f.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:f.icon}),e.jsx("span",{children:f.label})]},f.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[r==="hero"&&e.jsx(ue,{title:"Hero Section",fields:[{label:"Hero Title",value:l.heroTitle||"",onChange:f=>x({...l,heroTitle:f||null}),type:"text"},{label:"Hero Subtitle",value:l.heroSubtitle||"",onChange:f=>x({...l,heroSubtitle:f||null}),type:"textarea"}],imageSelector:e.jsx(U,{value:l.heroImageId,onChange:f=>x({...l,heroImageId:f}),label:"Hero Image"}),previewImage:l.heroImage?v(l.heroImage):null,onSave:w,saving:t}),r==="overview"&&e.jsx(ue,{title:"Company Overview Section",fields:[{label:"Heading",value:l.overviewHeading||"",onChange:f=>x({...l,overviewHeading:f||null}),type:"text"},{label:"Content",value:l.overviewContent||"",onChange:f=>x({...l,overviewContent:f||null}),type:"textarea",rows:6}],imageSelector:e.jsx(U,{value:l.overviewImageId,onChange:f=>x({...l,overviewImageId:f}),label:"Overview Image"}),previewImage:l.overviewImage?v(l.overviewImage):null,onSave:w,saving:t}),r==="safety"&&e.jsx(ue,{title:"Safety & Innovation Section",fields:[{label:"Heading",value:l.safetyHeading||"",onChange:f=>x({...l,safetyHeading:f||null}),type:"text"},{label:"Content",value:l.safetyContent||"",onChange:f=>x({...l,safetyContent:f||null}),type:"textarea",rows:6}],imageSelector:e.jsx(U,{value:l.safetyImageId,onChange:f=>x({...l,safetyImageId:f}),label:"Safety Image"}),previewImage:l.safetyImage?v(l.safetyImage):null,onSave:w,saving:t}),r==="excellence"&&e.jsx(ue,{title:"Excellence Section",fields:[{label:"Heading",value:l.excellenceHeading||"",onChange:f=>x({...l,excellenceHeading:f||null}),type:"text"},{label:"Content",value:l.excellenceContent||"",onChange:f=>x({...l,excellenceContent:f||null}),type:"textarea",rows:6}],imageSelector:e.jsx(U,{value:l.excellenceImageId,onChange:f=>x({...l,excellenceImageId:f}),label:"Excellence Image"}),previewImage:l.excellenceImage?v(l.excellenceImage):null,onSave:w,saving:t})]})})]})]})}function ue({title:r,fields:c,imageSelector:d,previewImage:n,onSave:t,saving:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),e.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:a?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map((l,x)=>e.jsx("div",{className:l.type==="textarea"?"md:col-span-2":"",children:e.jsx(m,{label:l.label,children:l.type==="textarea"?e.jsx("textarea",{value:l.value,onChange:g=>l.onChange(g.target.value),rows:l.rows||4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}):e.jsx("input",{type:l.type||"text",value:l.value,onChange:g=>l.onChange(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})},x)),e.jsx("div",{className:"md:col-span-2",children:d}),n&&e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Preview",children:e.jsx("img",{src:n,alt:"Preview",className:"w-full rounded-lg max-h-64 object-cover"})})})]})]})}const Se={super_admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!0},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!0},"global-settings":{view:!0,edit:!0,delete:!0},"social-links":{view:!0,edit:!0,delete:!0},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!0},smtp:{view:!0,edit:!0,delete:!0},logs:{view:!0,edit:!0,delete:!0},bin:{view:!0,edit:!0,delete:!0},versions:{view:!0,edit:!0,delete:!0}},admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!1},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!0,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!1},smtp:{view:!0,edit:!1,delete:!1},logs:{view:!0,edit:!1,delete:!1},bin:{view:!0,edit:!1,delete:!1},versions:{view:!0,edit:!1,delete:!1}},editor:{home:{view:!0,edit:!0,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!0,delete:!1},products:{view:!0,edit:!0,delete:!1},awards:{view:!0,edit:!0,delete:!1},careers:{view:!0,edit:!0,delete:!1},specialties:{view:!0,edit:!0,delete:!1},investors:{view:!0,edit:!0,delete:!1},clients:{view:!0,edit:!0,delete:!1},management:{view:!0,edit:!0,delete:!1},presence:{view:!0,edit:!0,delete:!1},production:{view:!0,edit:!0,delete:!1},quality:{view:!0,edit:!0,delete:!1},demo:{view:!0,edit:!0,delete:!1},contact:{view:!0,edit:!0,delete:!1},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}},viewer:{home:{view:!0,edit:!1,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!1,delete:!1},products:{view:!0,edit:!1,delete:!1},awards:{view:!0,edit:!1,delete:!1},careers:{view:!0,edit:!1,delete:!1},specialties:{view:!0,edit:!1,delete:!1},investors:{view:!0,edit:!1,delete:!1},clients:{view:!0,edit:!1,delete:!1},management:{view:!0,edit:!1,delete:!1},presence:{view:!0,edit:!1,delete:!1},production:{view:!0,edit:!1,delete:!1},quality:{view:!0,edit:!1,delete:!1},demo:{view:!0,edit:!1,delete:!1},contact:{view:!0,edit:!1,delete:!1},"contact-info":{view:!0,edit:!1,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!1,delete:!1},testimonials:{view:!0,edit:!1,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}}},et={home:{label:"Home",icon:"ri-home-line"},"header-footer":{label:"Header & Footer",icon:"ri-layout-line"},about:{label:"About",icon:"ri-information-line"},products:{label:"Products",icon:"ri-product-hunt-line"},awards:{label:"Awards",icon:"ri-award-line"},careers:{label:"Careers",icon:"ri-briefcase-line"},specialties:{label:"Specialties",icon:"ri-stethoscope-line"},investors:{label:"Investors",icon:"ri-line-chart-line"},clients:{label:"Clients",icon:"ri-user-heart-line"},management:{label:"Management",icon:"ri-team-line"},presence:{label:"Our Presence",icon:"ri-map-2-line"},production:{label:"Production",icon:"ri-factory-line"},quality:{label:"Quality",icon:"ri-shield-check-line"},demo:{label:"Request Demo",icon:"ri-calendar-check-line"},contact:{label:"Contact",icon:"ri-mail-line"},"contact-info":{label:"Contact Info",icon:"ri-contacts-line"},"global-settings":{label:"Global Settings",icon:"ri-settings-3-line"},"social-links":{label:"Social Links",icon:"ri-share-line"},testimonials:{label:"Testimonials",icon:"ri-chat-quote-line"},users:{label:"Users",icon:"ri-user-settings-line"},smtp:{label:"SMTP",icon:"ri-mail-settings-line"},logs:{label:"Activity Logs",icon:"ri-file-list-3-line"},bin:{label:"Recycle Bin",icon:"ri-delete-bin-line"},versions:{label:"Version History",icon:"ri-history-line"}};function tt(){const[r,c]=i.useState("list"),[d,n]=i.useState(null),[t,a]=i.useState([]),[l,x]=i.useState(!1),[g,j]=i.useState(!1),[w,v]=i.useState({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),[f,p]=i.useState(null);i.useEffect(()=>{F()},[]);const F=async()=>{x(!0);try{const C=await u.get("/users");if(C.success&&C.data){const P=C.data.map(R=>({id:R.id,username:R.username,name:R.fullName||R.username,email:R.email,role:R.role,status:R.isActive?"active":"inactive",createdAt:new Date(R.createdAt).toLocaleDateString(),lastLogin:R.lastLoginAt?new Date(R.lastLoginAt).toLocaleString():"Never"}));a(P)}}catch(C){console.error("Error fetching users:",C),alert(C.message||"Failed to load users")}finally{x(!1)}},b=()=>{v({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),n(null),c("create")},k=async C=>{n(C),v({username:C.username,name:C.name,email:C.email,password:"",role:C.role,status:C.status});try{const P=await u.get(`/users/${C.id}`);if(P.success&&P.data){const R=P.data;R.permissions&&Object.keys(R.permissions).length>0?p(R.permissions):p(null)}}catch(P){console.error("Error fetching user details:",P),p(null)}c("edit")},h=async()=>{if(!w.email||!w.username){alert("Email and username are required");return}if(r==="create"&&!w.password){alert("Password is required when creating a new user");return}j(!0);try{const C={username:w.username,email:w.email,fullName:w.name,role:w.role,permissions:f||null};if(r==="create"){C.password=w.password;const P=await u.post("/users",C);if(P.success)alert("User created successfully!"),F(),c("list"),n(null),p(null);else throw new Error(P.message||"Failed to create user")}else{if(!d)return;C.isActive=w.status==="active",w.password&&(C.password=w.password);const P=await u.put(`/users/${d.id}`,C);if(P.success)alert("User updated successfully!"),F(),c("list"),n(null),p(null);else throw new Error(P.message||"Failed to update user")}}catch(C){console.error("Error saving user:",C),alert(C.message||"Failed to save user")}finally{j(!1)}},D=()=>{c("list"),n(null)},S=C=>{v({...w,role:C}),p(null)},N=()=>f||Se[w.role]||Se.editor,y=(C,P,R)=>{const Q=N(),_={...Q,[C]:{...Q[C],[P]:R}};p(_)},A=()=>{p(null)},I=async C=>{if(window.confirm("Are you sure you want to delete this user?")){j(!0);try{const P=await u.delete(`/users/${C}`);if(P.success)alert("User deleted successfully!"),F();else throw new Error(P.message||"Failed to delete user")}catch(P){console.error("Error deleting user:",P),alert(P.message||"Failed to delete user")}finally{j(!1)}}},M=C=>{switch(C){case"super_admin":return"bg-[#7C3AED] text-white";case"admin":return"bg-[#2563EB] text-white";case"editor":return"bg-[#10B981] text-white";case"viewer":return"bg-[#6B7280] text-white";default:return"bg-[#6B7280] text-white"}},L=C=>C==="active"?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]";return l&&t.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]"})})}):e.jsxs("div",{children:[r==="list"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"User Management"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Manage admin users and their permissions"})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-add-line"}),e.jsx("span",{children:"Add New User"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-[#E5E7EB]",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Last Login"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(C=>{const P=Se[C.role];return Object.values(P).some(R=>R.view),Object.values(P).some(R=>R.edit),Object.values(P).some(R=>R.delete),e.jsxs("tr",{className:"border-b border-[#F3F4F6] hover:bg-[#F9FAFB] transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#1F2937]",children:C.name}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:C.email})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${M(C.role)}`,children:C.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${L(C.status)}`,children:C.status.toUpperCase()})}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:C.createdAt}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:C.lastLogin}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(C),className:"p-2 text-[#2563EB] hover:bg-[#EFF6FF] rounded-lg transition-all duration-300 cursor-pointer",title:"Edit User",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>I(C.id),className:"p-2 text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg transition-all duration-300 cursor-pointer",title:"Delete User",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})})]},C.id)}),t.length===0&&!l&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-[#6B7280]",children:'No users found. Click "Add New User" to create one.'})})]})]})})]}),(r==="create"||r==="edit")&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:r==="create"?"Create New User":`Edit User: ${d?.name}`}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:D,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",disabled:g,children:"Cancel"}),e.jsx("button",{onClick:h,disabled:g,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":r==="create"?"Create User":"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username *"}),e.jsx("input",{type:"text",value:w.username,onChange:C=>v({...w,username:C.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:w.name,onChange:C=>v({...w,name:C.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:w.email,onChange:C=>v({...w,email:C.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"user@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:r==="create"?"Password *":"New Password (leave blank to keep current)"}),e.jsx("input",{type:"password",value:w.password,onChange:C=>v({...w,password:C.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter password",required:r==="create"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Role"}),e.jsxs("select",{value:w.role,onChange:C=>S(C.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"super_admin",children:"Super Admin - Full access to everything"}),e.jsx("option",{value:"admin",children:"Admin - Manage content and users"}),e.jsx("option",{value:"editor",children:"Editor - Edit content only"}),e.jsx("option",{value:"viewer",children:"Viewer - View only access"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Status"}),e.jsxs("select",{value:w.status,onChange:C=>v({...w,status:C.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2 flex-1",children:"Permissions"}),f&&e.jsxs("button",{onClick:A,className:"text-sm text-[#2563EB] hover:text-[#1D4ED8] cursor-pointer",title:"Reset to role defaults",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset to Defaults"]})]}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-4",children:f?"Custom permissions (overriding role defaults)":"Permissions are automatically set based on the selected role. You can customize them below:"}),e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:Object.entries(N()).map(([C,P])=>{const R=et[C]||{label:C,icon:"ri-file-line"};return e.jsxs("div",{className:"bg-white rounded-lg border border-[#E5E7EB] p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"text-sm font-medium text-[#1F2937] flex items-center space-x-2",children:[e.jsx("i",{className:`${R.icon} text-[#6B7280]`}),e.jsx("span",{children:R.label})]})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.view,onChange:Q=>y(C,"view",Q.target.checked),className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${P.view?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["View ",P.view?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.edit,onChange:Q=>y(C,"edit",Q.target.checked),disabled:!P.view,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${P.edit?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Edit ",P.edit?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.delete,onChange:Q=>y(C,"delete",Q.target.checked),disabled:!P.edit,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${P.delete?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Delete ",P.delete?"":""]})]})]})]},C)})})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1E40AF] mb-1",children:"Permission Guidelines"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"View:"})," User can see the page/section content"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edit:"})," User can modify existing content (requires View)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Delete:"})," User can remove content (requires Edit)"]})]}),e.jsx("p",{className:"text-xs text-[#1E40AF] mt-2",children:"You can customize permissions by checking/unchecking the boxes above. Changes will override the role defaults."})]})]})})]})]})]})]})}function st(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/hf-mobile");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/hf-mobile/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/hf-mobile/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/hf-mobile/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/hf-mobile",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-mobile/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-mobile/images/${s.id}`,s):await u.post("/products/hf-mobile/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/hf-mobile/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-mobile/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-mobile/features/${s.id}`,s):await u.post("/products/hf-mobile/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/hf-mobile/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-mobile/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-mobile/variants/${s.id}`,s):await u.post("/products/hf-mobile/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/hf-mobile/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HF Mobile Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(at,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(rt,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(lt,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function at({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function rt({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function lt({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function nt(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/hf-fixed");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/hf-fixed/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/hf-fixed/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/hf-fixed/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/hf-fixed",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-fixed/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-fixed/images/${s.id}`,s):await u.post("/products/hf-fixed/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/hf-fixed/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-fixed/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-fixed/features/${s.id}`,s):await u.post("/products/hf-fixed/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/hf-fixed/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-fixed/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-fixed/variants/${s.id}`,s):await u.post("/products/hf-fixed/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/hf-fixed/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HF Fixed Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(it,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(ot,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(dt,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function it({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function ot({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function dt({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function ct(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/fpd-c-arm");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/fpd-c-arm/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/fpd-c-arm/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/fpd-c-arm/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/fpd-c-arm",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/fpd-c-arm/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/fpd-c-arm/images/${s.id}`,s):await u.post("/products/fpd-c-arm/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/fpd-c-arm/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/fpd-c-arm/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/fpd-c-arm/features/${s.id}`,s):await u.post("/products/fpd-c-arm/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/fpd-c-arm/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/fpd-c-arm/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/fpd-c-arm/variants/${s.id}`,s):await u.post("/products/fpd-c-arm/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/fpd-c-arm/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FPD C-Arm Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(ut,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(xt,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(gt,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function ut({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function xt({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function gt({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function mt(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/hf-c-arm-1k");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/hf-c-arm-1k/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/hf-c-arm-1k/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/hf-c-arm-1k/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/hf-c-arm-1k",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-c-arm-1k/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-c-arm-1k/images/${s.id}`,s):await u.post("/products/hf-c-arm-1k/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/hf-c-arm-1k/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-c-arm-1k/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-c-arm-1k/features/${s.id}`,s):await u.post("/products/hf-c-arm-1k/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/hf-c-arm-1k/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/hf-c-arm-1k/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/hf-c-arm-1k/variants/${s.id}`,s):await u.post("/products/hf-c-arm-1k/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/hf-c-arm-1k/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1K*1K High End HF C-ARM Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(ht,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(pt,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(bt,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function ht({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function pt({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function bt({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function ft(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/line-frequency");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/line-frequency/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/line-frequency/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/line-frequency/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/line-frequency",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/line-frequency/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/line-frequency/images/${s.id}`,s):await u.post("/products/line-frequency/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/line-frequency/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/line-frequency/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/line-frequency/features/${s.id}`,s):await u.post("/products/line-frequency/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/line-frequency/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/line-frequency/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/line-frequency/variants/${s.id}`,s):await u.post("/products/line-frequency/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/line-frequency/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Line Frequency Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(yt,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(jt,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(vt,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function yt({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function jt({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function vt({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Nt(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/digital-radiography");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/digital-radiography/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/digital-radiography/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/digital-radiography/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/digital-radiography",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/digital-radiography/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/digital-radiography/images/${s.id}`,s):await u.post("/products/digital-radiography/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/digital-radiography/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/digital-radiography/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/digital-radiography/features/${s.id}`,s):await u.post("/products/digital-radiography/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/digital-radiography/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/digital-radiography/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/digital-radiography/variants/${s.id}`,s):await u.post("/products/digital-radiography/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/digital-radiography/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Digital Radiography Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(wt,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(Ct,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(St,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function wt({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ct({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function St({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function It(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,j]=i.useState([]),[w,v]=i.useState([]),[f,p]=i.useState([]),[F,b]=i.useState(!1),[k,h]=i.useState(!1),[D,S]=i.useState(!1),[N,y]=i.useState(null),[A,I]=i.useState(null),[M,L]=i.useState(null);i.useEffect(()=>{r==="content"?C():r==="images"?P():r==="features"?R():Q()},[r]);const C=async()=>{n(!0);try{const s=await u.get("/products/dream-series");s.success&&s.data&&x(s.data)}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},P=async()=>{n(!0);try{const s=await u.get("/products/dream-series/images");s.success&&s.data&&j(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},R=async()=>{n(!0);try{const s=await u.get("/products/dream-series/features");s.success&&s.data&&v(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},Q=async()=>{n(!0);try{const s=await u.get("/products/dream-series/variants");s.success&&s.data&&p(s.data.sort((o,z)=>o.orderIndex-z.orderIndex))}catch(s){alert(s.message||"Failed to load")}finally{n(!1)}},_=async()=>{a(!0);try{await u.put("/products/dream-series",l),alert("Page content saved!")}catch(s){alert(s.message||"Failed to save")}finally{a(!1)}},O=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/dream-series/images/${s[o].id}`,{...s[o],orderIndex:o});j(s),alert("Images order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},J=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/dream-series/images/${s.id}`,s):await u.post("/products/dream-series/images",{...s,orderIndex:g.length}),b(!1),y(null),P(),alert("Image saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},T=async s=>{if(confirm("Delete this image?")){a(!0);try{await u.delete(`/products/dream-series/images/${s}`),j(g.filter(o=>o.id!==s)),alert("Image deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},B=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/dream-series/features/${s[o].id}`,{...s[o],orderIndex:o});v(s),alert("Features order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Y=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/dream-series/features/${s.id}`,s):await u.post("/products/dream-series/features",{...s,orderIndex:w.length}),h(!1),I(null),R(),alert("Feature saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},W=async s=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/products/dream-series/features/${s}`),v(w.filter(o=>o.id!==s)),alert("Feature deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},K=async s=>{a(!0);try{for(let o=0;o<s.length;o++)await u.put(`/products/dream-series/variants/${s[o].id}`,{...s[o],orderIndex:o});p(s),alert("Variants order updated!")}catch(o){alert(o.message||"Failed to update")}finally{a(!1)}},Z=async s=>{a(!0);try{s.id&&s.id>0?await u.put(`/products/dream-series/variants/${s.id}`,s):await u.post("/products/dream-series/variants",{...s,orderIndex:f.length}),S(!1),L(null),Q(),alert("Variant saved!")}catch(o){alert(o.message||"Failed to save")}finally{a(!1)}},X=async s=>{if(confirm("Delete this variant?")){a(!0);try{await u.delete(`/products/dream-series/variants/${s}`),p(f.filter(o=>o.id!==s)),alert("Variant deleted!")}catch(o){alert(o.message||"Failed to delete")}finally{a(!1)}}},ee=s=>s?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${s.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dream Series Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===s.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:s.icon}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:s=>x({...l,title:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:s=>x({...l,deploymentInfo:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:s=>x({...l,mainImageId:s}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:s=>x({...l,shortDescription:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:s=>x({...l,fullDescription:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{y({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(G,{items:g,onReorder:O,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.image&&e.jsx("img",{src:ee(s.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:s.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{y(s),b(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{I({id:0,featureText:"",orderIndex:w.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:w,onReorder:B,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:s.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{I(s),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:f.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),f.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(G,{items:f,onReorder:K,keyExtractor:s=>s.id,renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:s.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(s),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),F&&N&&e.jsx(Ft,{image:N,onSave:J,onClose:()=>{b(!1),y(null)},saving:t}),k&&A&&e.jsx(kt,{feature:A,onSave:Y,onClose:()=>{h(!1),I(null)},saving:t}),D&&M&&e.jsx(At,{variant:M,onSave:Z,onClose:()=>{S(!1),L(null)},saving:t})]})}function Ft({image:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:l=>a({...t,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function kt({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:l=>a({...t,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function At({variant:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:l=>a({...t,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Pt(){const[r,c]=i.useState("hf-mobile"),d=[{id:"hf-mobile",label:"HF Mobile",icon:"ri-truck-line"},{id:"hf-fixed",label:"HF Fixed",icon:"ri-hospital-line"},{id:"fpd-c-arm",label:"FPD C-Arm",icon:"ri-scan-line"},{id:"hf-c-arm-1k",label:"1K*1K High End HF C-ARM",icon:"ri-vip-crown-line"},{id:"line-frequency",label:"Line Frequency",icon:"ri-pulse-line"},{id:"digital-radiography",label:"Digital Radiography",icon:"ri-image-line"},{id:"dream-series",label:"Dream Series",icon:"ri-star-line"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:d.map(n=>e.jsxs("button",{onClick:()=>c(n.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===n.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:n.icon}),e.jsx("span",{children:n.label})]},n.id))})})}),e.jsxs("div",{children:[r==="hf-mobile"&&e.jsx(st,{}),r==="hf-fixed"&&e.jsx(nt,{}),r==="fpd-c-arm"&&e.jsx(ct,{}),r==="hf-c-arm-1k"&&e.jsx(mt,{}),r==="line-frequency"&&e.jsx(ft,{}),r==="digital-radiography"&&e.jsx(Nt,{}),r==="dream-series"&&e.jsx(It,{})]})]})}function Et(){const[r,c]=i.useState("content"),[d,n]=i.useState([]),[t,a]=i.useState(null),[l,x]=i.useState(!1),[g,j]=i.useState(!1),[w,v]=i.useState(!1),[f,p]=i.useState(null),[F,b]=i.useState(null);i.useEffect(()=>{r==="content"?k():h()},[r]);const k=async()=>{x(!0);try{const A=await u.get("/awards/page-content");A.success&&A.data?a(A.data):a({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null})}catch(A){A.message&&A.message.includes("not found")?a({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}):(console.error("Error fetching page content:",A),alert(A.message||"Failed to load page content"))}finally{x(!1)}},h=async()=>{x(!0);try{const A=await u.get("/awards");A.success&&A.data&&n(A.data.sort((I,M)=>I.orderIndex-M.orderIndex))}catch(A){console.error("Error fetching awards:",A),alert(A.message||"Failed to load awards")}finally{x(!1)}},D=async()=>{if(t){j(!0);try{const A={heroTitle:t.heroTitle||null,heroSubtitle:t.heroSubtitle||null,heroImageId:t.heroImageId||null,introText:t.introText||null};(await u.put("/awards/page-content",A)).success&&(alert("Page content saved successfully!"),k())}catch(A){alert(A.message||"Failed to save page content")}finally{j(!1)}}},S=async A=>{j(!0);try{for(let I=0;I<A.length;I++)await u.put(`/awards/${A[I].id}`,{...A[I],orderIndex:I});n(A),alert("Awards order updated successfully!")}catch(I){alert(I.message||"Failed to update order")}finally{j(!1)}},N=async A=>{j(!0);try{A.id&&A.id>0?await u.put(`/awards/${A.id}`,A):await u.post("/awards",{...A,orderIndex:d.length}),v(!1),p(null),h(),alert("Award saved successfully!")}catch(I){alert(I.message||"Failed to save award")}finally{j(!1)}},y=async A=>{if(confirm("Are you sure you want to delete this award?")){j(!0);try{await u.delete(`/awards/${A}`),n(d.filter(I=>I.id!==A)),alert("Award deleted successfully!")}catch(I){alert(I.message||"Failed to delete award")}finally{j(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Awards Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage awards page content and awards list"})]})}),e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>c("content"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>c("awards"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="awards"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-award-line mr-2"}),"Awards List"]})]})})]}),r==="content"&&e.jsx(Dt,{content:t,setContent:a,onSave:D,saving:g,loading:l}),r==="awards"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Awards List"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage individual awards and certifications"})]}),e.jsxs("button",{onClick:()=>{p({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:d.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop awards to reorder them. The order shown here will appear on the website. Only award images are shown on the frontend (no titles)."]})})]})}),l?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading awards..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-award-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No awards yet. Add your first award!"}),e.jsxs("button",{onClick:()=>{p({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:0,isActive:!0}),v(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(G,{items:d,onReorder:S,keyExtractor:A=>A.id,emptyMessage:"No awards yet. Click 'Add Award' to get started!",renderItem:A=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[A.image&&e.jsx("img",{src:ge(A.image),alt:A.title,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description}),A.awardDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),new Date(A.awardDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>b(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{p(A),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),w&&f&&e.jsx(Tt,{award:f,onSave:N,onClose:()=>{v(!1),p(null)},saving:g}),F&&e.jsx($t,{award:F,onClose:()=>b(null),onEdit:()=>{p(F),b(null),v(!0)},getImageUrl:ge})]})}function Dt({content:r,setContent:c,onSave:d,saving:n,loading:t}){return t?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading page content..."})]}):r?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:a=>c({...r,heroTitle:a.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title (e.g., Awards & Recognition)"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:r.heroSubtitle||"",onChange:a=>c({...r,heroSubtitle:a.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero subtitle (optional)"})}),e.jsx(U,{value:r.heroImageId,onChange:a=>c({...r,heroImageId:a||null}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:r.heroImage}),e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:a=>c({...r,introText:a.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text (optional)"})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:d,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Page Content"})})]})]}):e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("p",{className:"text-gray-600",children:"No page content found."})})}function Tt({award:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Award":"Add New Award",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Award Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:l=>a({...t,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award title"})}),e.jsx(m,{label:"Description",required:!0,children:e.jsx("textarea",{value:t.description,onChange:l=>a({...t,description:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award description"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Award Date",children:e.jsx("input",{type:"date",value:t.awardDate?new Date(t.awardDate).toISOString().split("T")[0]:"",onChange:l=>a({...t,awardDate:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Award Image",aspectRatio:"1/1"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.title||!t.description,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Award":"Create Award"})]})]})})}function $t({award:r,onClose:c,onEdit:d,getImageUrl:n}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Award Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.image&&e.jsx("div",{className:"rounded-lg overflow-hidden",children:e.jsx("img",{src:n(r.image),alt:r.title,className:"w-full h-64 object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),r.awardDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"Awarded on: ",new Date(r.awardDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Award"]})]})]})})}function Mt(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,introImageId:null,lifeAtAdonisTitle:null,lifeAtAdonisBackgroundImageId:null,lifeAtAdonisImageId:null}),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(null),[F,b]=i.useState(null);i.useEffect(()=>{r==="content"?k():h()},[r]);const k=async()=>{n(!0);try{const y=await u.get("/careers");y.success&&y.data&&x(y.data)}catch(y){alert(y.message||"Failed to load content")}finally{n(!1)}},h=async()=>{n(!0);try{const y=await u.get("/careers/jobs");y.success&&y.data&&j(y.data)}catch(y){alert(y.message||"Failed to load jobs")}finally{n(!1)}},D=async()=>{a(!0);try{(await u.put("/careers",l)).success&&alert("Page content saved successfully!")}catch(y){alert(y.message||"Failed to save")}finally{a(!1)}},S=async y=>{a(!0);try{y.id&&y.id>0?await u.put(`/careers/jobs/${y.id}`,y):await u.post("/careers/jobs",{...y,postedDate:new Date().toISOString()}),v(!1),p(null),h(),alert("Job saved successfully!")}catch(A){alert(A.message||"Failed to save job")}finally{a(!1)}},N=async y=>{if(confirm("Are you sure you want to delete this job?")){a(!0);try{await u.delete(`/careers/jobs/${y}`),j(g.filter(A=>A.id!==y)),alert("Job deleted successfully!")}catch(A){alert(A.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Careers Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage careers page content and job listings"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("jobs"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="jobs"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Job Listings"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):r==="content"?e.jsx(Lt,{content:l,onChange:x,onSave:D,saving:t}):e.jsx(Ut,{jobs:g,onAdd:()=>{p({id:0,title:"",department:null,location:null,employmentType:null,description:null,requirements:null,responsibilities:null,salaryRange:null,isActive:!0,postedDate:null}),v(!0)},onEdit:y=>{p(y),v(!0)},onView:b,onDelete:N})})]}),w&&f&&e.jsx(Rt,{job:f,onSave:S,onClose:()=>{v(!1),p(null)},saving:t}),F&&e.jsx(Vt,{job:F,onClose:()=>b(null),onEdit:()=>{p(F),b(null),v(!0)}})]})}function Lt({content:r,onChange:c,onSave:d,saving:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>c({...r,heroTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:r.heroSubtitle||"",onChange:t=>c({...r,heroSubtitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.heroImageId,onChange:t=>c({...r,heroImageId:t}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>c({...r,introText:t.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(U,{value:r.introImageId,onChange:t=>c({...r,introImageId:t}),label:"Intro Image"})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Life at Adonis Medical Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Title",children:e.jsx("input",{type:"text",value:r.lifeAtAdonisTitle||"",onChange:t=>c({...r,lifeAtAdonisTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Life at Adonis Medical"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.lifeAtAdonisBackgroundImageId,onChange:t=>c({...r,lifeAtAdonisBackgroundImageId:t}),label:"Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.lifeAtAdonisImageId,onChange:t=>c({...r,lifeAtAdonisImageId:t}),label:"Section Image"})})]})]})]})}function Ut({jobs:r,onAdd:c,onEdit:d,onView:n,onDelete:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Job Listings"}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Job"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-briefcase-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No jobs yet. Add your first job!"})]}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[a.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),a.department]}),a.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),a.location]}),a.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),a.employmentType]})]}),a.postedDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Posted: ",new Date(a.postedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>n(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>d(a),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>t(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},a.id))})]})}function Rt({job:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Job":"Add New Job",size:"xl",children:e.jsxs("div",{className:"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Job Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:l=>a({...t,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Department",children:e.jsx("input",{type:"text",value:t.department||"",onChange:l=>a({...t,department:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Location",children:e.jsx("input",{type:"text",value:t.location||"",onChange:l=>a({...t,location:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Employment Type",children:e.jsxs("select",{value:t.employmentType||"",onChange:l=>a({...t,employmentType:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Internship",children:"Internship"})]})}),e.jsx(m,{label:"Salary Range",children:e.jsx("input",{type:"text",value:t.salaryRange||"",onChange:l=>a({...t,salaryRange:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., $50,000 - $70,000"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(m,{label:"Job Description",children:e.jsx("textarea",{value:t.description||"",onChange:l=>a({...t,description:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Requirements",children:e.jsx("textarea",{value:t.requirements||"",onChange:l=>a({...t,requirements:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Responsibilities",children:e.jsx("textarea",{value:t.responsibilities||"",onChange:l=>a({...t,responsibilities:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Job":"Create Job"})]})]})})}function Vt({job:r,onClose:c,onEdit:d}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Job Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:r.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[r.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),r.department]}),r.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),r.location]}),r.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),r.employmentType]}),r.salaryRange&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-money-dollar-circle-line mr-1"}),r.salaryRange]})]}),r.postedDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Posted: ",new Date(r.postedDate).toLocaleDateString()]})]}),r.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.description})]}),r.requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Requirements"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.requirements})]}),r.responsibilities&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsibilities"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.responsibilities})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Job"]})]})]})})}function Bt(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({heroTitle:null,heroSubtitle:null,introText:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const g=await u.get("/contact-us");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{c(!1)}},x=async()=>{n(!0);try{(await u.put("/contact-us",t)).success&&(alert("Contact page saved successfully!"),l())}catch(g){alert(g.message||"Failed to save")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Us Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage contact page content"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:g=>a({...t,heroTitle:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:t.heroSubtitle||"",onChange:g=>a({...t,heroSubtitle:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Get in touch with us"})})]})})]})}function qt(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState(null),[l,x]=i.useState({host:"smtp.gmail.com",port:"587",username:"your-email@gmail.com",password:"",fromEmail:"noreply@adonismedical.com",fromName:"Adonis Medical",encryption:"tls",enabled:!0}),[g,j]=i.useState(""),w=()=>{console.log("Saving SMTP configuration:",l),c(!1),a({success:!0,message:"SMTP configuration saved successfully!"}),setTimeout(()=>a(null),5e3)},v=()=>{c(!1)},f=async()=>{if(!g){a({success:!1,message:"Please enter a test email address"});return}n(!0),a(null),setTimeout(()=>{n(!1),a({success:!0,message:`Test email sent successfully to ${g}! Please check your inbox.`})},2e3)},p=[{name:"Gmail",host:"smtp.gmail.com",port:"587",encryption:"tls",note:"Use App Password for Gmail accounts with 2FA enabled"},{name:"Outlook/Office 365",host:"smtp.office365.com",port:"587",encryption:"tls",note:"Use your Microsoft account credentials"},{name:"Yahoo Mail",host:"smtp.mail.yahoo.com",port:"587",encryption:"tls",note:"Generate an app password in Yahoo account settings"},{name:"SendGrid",host:"smtp.sendgrid.net",port:"587",encryption:"tls",note:'Use "apikey" as username and your API key as password'},{name:"Mailgun",host:"smtp.mailgun.org",port:"587",encryption:"tls",note:"Use your Mailgun SMTP credentials"}],F=b=>{x({...l,host:b.host,port:b.port,encryption:b.encryption}),c(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"SMTP Configuration"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Configure email server settings for sending emails"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:v,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Save Configuration"})]}):e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Configuration"]})})]}),t&&e.jsx("div",{className:`mb-6 p-4 rounded-lg border ${t.success?"bg-[#D1FAE5] border-[#6EE7B7] text-[#065F46]":"bg-[#FEE2E2] border-[#FCA5A5] text-[#991B1B]"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:`${t.success?"ri-checkbox-circle-line":"ri-error-warning-line"} text-xl`}),e.jsx("p",{className:"text-sm font-medium",children:t.message})]})}),r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Enable SMTP"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Turn on/off email sending functionality"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enabled,onChange:b=>x({...l,enabled:b.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-[#D1D5DB] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#BFDBFE] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#D1D5DB] after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#2563EB]"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Server Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Host"}),e.jsx("input",{type:"text",value:l.host,onChange:b=>x({...l,host:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"smtp.example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Port"}),e.jsx("input",{type:"text",value:l.port,onChange:b=>x({...l,port:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Encryption"}),e.jsxs("select",{value:l.encryption,onChange:b=>x({...l,encryption:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"ssl",children:"SSL"}),e.jsx("option",{value:"tls",children:"TLS (Recommended)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username"}),e.jsx("input",{type:"text",value:l.username,onChange:b=>x({...l,username:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"your-email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Password"}),e.jsx("input",{type:"password",value:l.password,onChange:b=>x({...l,password:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Sender Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Email"}),e.jsx("input",{type:"email",value:l.fromEmail,onChange:b=>x({...l,fromEmail:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"noreply@example.com"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Email address that will appear as sender"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Name"}),e.jsx("input",{type:"text",value:l.fromName,onChange:b=>x({...l,fromName:b.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Your Company Name"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Name that will appear as sender"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Test Email Connection"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"email",value:g,onChange:b=>j(b.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"test@example.com"}),e.jsx("button",{onClick:f,disabled:d,className:"w-full px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending Test Email..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-mail-send-line mr-2"}),"Send Test Email"]})})]})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.enabled?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:l.enabled?"Enabled":"Disabled"})]})}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Server Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Host:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.host})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Port:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.port})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Encryption:"}),e.jsx("span",{className:"text-[#1F2937] font-medium uppercase",children:l.encryption})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Username:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.username})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Sender Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Email:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.fromEmail})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Name:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.fromName})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937] mb-4",children:"Common SMTP Providers"}),e.jsx("p",{className:"text-sm text-[#6B7280] mb-6",children:"Quick setup with popular email service providers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(b=>e.jsxs("div",{className:"border border-[#E5E7EB] rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:b.name}),e.jsx("button",{onClick:()=>F(b),className:"px-3 py-1 bg-[#2563EB] text-white text-xs rounded-lg hover:bg-[#1D4ED8] transition-all cursor-pointer whitespace-nowrap",children:"Use This"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-[#6B7280] mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Host:"})," ",b.host]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Port:"})," ",b.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Encryption:"})," ",b.encryption.toUpperCase()]})]}),e.jsxs("p",{className:"text-xs text-[#6B7280] bg-[#F9FAFB] p-2 rounded",children:[e.jsx("i",{className:"ri-information-line mr-1"}),b.note]})]},b.name))})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-2xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1E40AF] mb-2",children:"SMTP Configuration Help"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Port 587 (TLS):"})," Recommended for most providers, uses STARTTLS encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 465 (SSL):"})," Uses SSL encryption, supported by some providers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 25:"})," Standard SMTP port, often blocked by ISPs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gmail Users:"}),' Enable "Less secure app access" or use App Passwords with 2FA']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Testing:"})," Always send a test email after configuration to verify settings"]})]})]})]})})]})}function Ht(){const[r,c]=i.useState("page"),[d,n]=i.useState([]),[t,a]=i.useState(!1),[l,x]=i.useState(!1),[g,j]=i.useState(!1),[w,v]=i.useState(null),[f,p]=i.useState(null),[F,b]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[k,h]=i.useState([]),[D,S]=i.useState(!1),[N,y]=i.useState(null);i.useEffect(()=>{r==="page"?(A(),I()):M()},[r]);const A=async()=>{a(!0);try{const T=await u.get("/specialties/page/content");T.success&&T.data&&b(T.data)}catch(T){console.error("Error fetching page content:",T)}finally{a(!1)}},I=async()=>{a(!0);try{const T=await u.get("/specialties/page/cards");T.success&&T.data&&h(T.data.sort((B,Y)=>B.orderIndex-Y.orderIndex))}catch(T){console.error("Error fetching page cards:",T)}finally{a(!1)}},M=async()=>{a(!0);try{const T=await u.get("/specialties");T.success&&T.data&&n(T.data.sort((B,Y)=>B.orderIndex-Y.orderIndex))}catch(T){console.error("Error fetching specialties:",T),alert(T.message||"Failed to load specialties")}finally{a(!1)}},L=async()=>{x(!0);try{(await u.put("/specialties/page/content",F)).success&&alert("Page content saved successfully!")}catch(T){alert(T.message||"Failed to save")}finally{x(!1)}},C=async T=>{x(!0);try{T.id&&T.id>0?await u.put(`/specialties/page/cards/${T.id}`,T):await u.post("/specialties/page/cards",{...T,orderIndex:k.length}),S(!1),y(null),I(),alert("Card saved successfully!")}catch(B){alert(B.message||"Failed to save card")}finally{x(!1)}},P=async T=>{if(confirm("Are you sure you want to delete this card?")){x(!0);try{await u.delete(`/specialties/page/cards/${T}`),h(k.filter(B=>B.id!==T)),alert("Card deleted successfully!")}catch(B){alert(B.message||"Failed to delete")}finally{x(!1)}}},R=async T=>{x(!0);try{for(let B=0;B<T.length;B++)await u.put(`/specialties/page/cards/${T[B].id}`,{...T[B],orderIndex:B});h(T),alert("Cards order updated successfully!")}catch(B){alert(B.message||"Failed to update order")}finally{x(!1)}},Q=async T=>{x(!0);try{for(let B=0;B<T.length;B++)await u.put(`/specialties/${T[B].id}`,{...T[B],orderIndex:B});n(T),alert("Specialties order updated successfully!")}catch(B){alert(B.message||"Failed to update order")}finally{x(!1)}},_=async T=>{x(!0);try{!T.slug&&T.name&&(T.slug=T.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")),T.id&&T.id>0?await u.put(`/specialties/${T.id}`,T):await u.post("/specialties",{...T,orderIndex:d.length}),j(!1),v(null),M(),alert("Specialty saved successfully!")}catch(B){alert(B.message||"Failed to save specialty")}finally{x(!1)}},O=async T=>{if(confirm("Are you sure you want to delete this specialty?")){x(!0);try{await u.delete(`/specialties/${T}`),n(d.filter(B=>B.id!==T)),alert("Specialty deleted successfully!")}catch(B){alert(B.message||"Failed to delete specialty")}finally{x(!1)}}},J=T=>T.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${T.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Specialties Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specialties page content and cards"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("page"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="page"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content & Cards"}),e.jsx("button",{onClick:()=>c("specialties"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="specialties"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"General Specialties"})]})}),e.jsx("div",{className:"p-6",children:t?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):r==="page"?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{content:F,onChange:b,onSave:L,saving:l}),e.jsx("div",{className:"border-t mt-8 pt-8",children:e.jsx(zt,{cards:k,onAdd:()=>{y({id:0,name:"",backgroundImageId:null,cardImageId:null,internalLink:null,orderIndex:k.length,isActive:!0}),S(!0)},onEdit:T=>{y(T),S(!0)},onDelete:P,onReorder:R,saving:l})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"General Specialties"}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",slug:"",description:null,imageId:null,iconClass:null,orderIndex:d.length,isActive:!0}),j(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Specialty"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop specialties to reorder them."]})})]})}),d.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-stethoscope-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No specialties yet. Add your first specialty!"})]}):e.jsx(G,{items:d,onReorder:Q,keyExtractor:T=>T.id,emptyMessage:"No specialties yet. Click 'Add Specialty' to get started!",renderItem:T=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[T.iconClass&&e.jsx("i",{className:`${T.iconClass} text-3xl text-blue-600`}),T.image&&!T.iconClass&&e.jsx("img",{src:J(T),alt:T.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),T.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:T.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>p(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{v(T),j(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>O(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),D&&N&&e.jsx(Gt,{card:N,onSave:C,onClose:()=>{S(!1),y(null)},saving:l}),g&&w&&e.jsx(Jt,{specialty:w,onSave:_,onClose:()=>{j(!1),v(null)},saving:l}),f&&e.jsx(_t,{specialty:f,onClose:()=>p(null),onEdit:()=>{v(f),p(null),j(!0)},getImageUrl:J})]})}function Ot({content:r,onChange:c,onSave:d,saving:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hero Section"}),e.jsx("button",{onClick:d,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>c({...r,heroTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:r.heroSubtitle||"",onChange:t=>c({...r,heroSubtitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:r.heroImageId,onChange:t=>c({...r,heroImageId:t}),label:"Hero Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>c({...r,introText:t.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]})}function zt({cards:r,onAdd:c,onEdit:d,onDelete:n,onReorder:t,saving:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Specialties Cards"}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No cards yet. Add your first card!"})]}):e.jsx(G,{items:r,onReorder:t,keyExtractor:l=>l.id,emptyMessage:"No cards yet. Click 'Add Card' to get started!",renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.cardImage&&e.jsx("img",{src:Qt(l),alt:l.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.name}),l.internalLink&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Link: ",l.internalLink]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>d(l),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>n(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})}function Qt(r){return r.cardImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.cardImage.filePath}`:""}function Gt({card:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return i.useEffect(()=>{a(r)},[r]),e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Card":"Add New Card",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Card Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:l=>a({...t,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Radiology"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(U,{value:t.backgroundImageId,onChange:l=>a({...t,backgroundImageId:l}),label:"Background Image"}),e.jsx(U,{value:t.cardImageId,onChange:l=>a({...t,cardImageId:l}),label:"Card Image"})]}),e.jsx(m,{label:"Internal Link",hint:"Page URL to redirect to (e.g., /products, /about)",children:e.jsx("input",{type:"text",value:t.internalLink||"",onChange:l=>a({...t,internalLink:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Card":"Create Card"})]})]})})}function Jt({specialty:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Specialty":"Add New Specialty",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Specialty Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:l=>{const x=l.target.value;a({...t,name:x,slug:x.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Cardiology"})}),e.jsx(m,{label:"Slug",hint:"Auto-generated from name, or customize",children:e.jsx("input",{type:"text",value:t.slug,onChange:l=>a({...t,slug:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"cardiology"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:l=>a({...t,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialty description"})}),e.jsxs(m,{label:"Icon Class",hint:"Use RemixIcon class (e.g., ri-heart-line)",children:[e.jsx("input",{type:"text",value:t.iconClass||"",onChange:l=>a({...t,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-heart-line"}),t.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:t.iconClass})]})]}),e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Specialty Image",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name||!t.slug,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Specialty":"Create Specialty"})]})]})})}function _t({specialty:r,onClose:c,onEdit:d,getImageUrl:n}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Specialty Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[r.iconClass&&e.jsx("i",{className:`${r.iconClass} text-5xl text-blue-600`}),r.image&&!r.iconClass&&e.jsx("img",{src:n(r),alt:r.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Slug: ",r.slug]})]})]}),r.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Specialty"]})]})]})})}function Yt(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(null);i.useEffect(()=>{r==="content"?F():b()},[r]);const F=async()=>{n(!0);try{const N=await u.get("/investor-relations");N.success&&N.data&&x(N.data)}catch(N){alert(N.message||"Failed to load content")}finally{n(!1)}},b=async()=>{n(!0);try{const N=await u.get("/investor-relations/documents");N.success&&N.data&&j(N.data.sort((y,A)=>y.orderIndex-A.orderIndex))}catch(N){alert(N.message||"Failed to load documents")}finally{n(!1)}},k=async()=>{a(!0);try{await u.put("/investor-relations",l),alert("Page content saved successfully!")}catch(N){alert(N.message||"Failed to save")}finally{a(!1)}},h=async N=>{a(!0);try{for(let y=0;y<N.length;y++)await u.put(`/investor-relations/documents/${N[y].id}`,{...N[y],orderIndex:y});j(N),alert("Documents order updated!")}catch(y){alert(y.message||"Failed to update order")}finally{a(!1)}},D=async N=>{a(!0);try{N.id&&N.id>0?await u.put(`/investor-relations/documents/${N.id}`,N):await u.post("/investor-relations/documents",{...N,orderIndex:g.length}),v(!1),p(null),b(),alert("Document saved successfully!")}catch(y){alert(y.message||"Failed to save")}finally{a(!1)}},S=async N=>{if(confirm("Delete this document?")){a(!0);try{await u.delete(`/investor-relations/documents/${N}`),j(g.filter(y=>y.id!==N)),alert("Document deleted!")}catch(y){alert(y.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investor Relations"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and investor documents"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("documents"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="documents"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Documents"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:k,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:N=>x({...l,heroTitle:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:N=>x({...l,heroSubtitle:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.heroImageId,onChange:N=>x({...l,heroImageId:N}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:N=>x({...l,introText:N.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Investor Documents"}),e.jsxs("button",{onClick:()=>{p({id:0,title:"",description:null,fileId:null,documentType:null,publishDate:null,orderIndex:g.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Document"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-file-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No documents yet"})]}):e.jsx(G,{items:g,onReorder:h,keyExtractor:N=>N.id,renderItem:N=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:N.title}),N.documentType&&e.jsx("p",{className:"text-sm text-gray-600",children:N.documentType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{p(N),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>S(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),w&&f&&e.jsx(Wt,{document:f,onSave:D,onClose:()=>{v(!1),p(null)},saving:t})]})}function Wt({document:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r),[l,x]=i.useState(!1),g=async j=>{const w=j.target.files?.[0];if(w){x(!0);try{const v=new FormData;v.append("file",w);const f=localStorage.getItem("auth_token"),F=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/file`,{method:"POST",headers:{Authorization:`Bearer ${f||""}`},body:v})).json();F.success&&F.mediaId&&a({...t,fileId:F.mediaId})}catch{alert("Upload failed")}finally{x(!1)}}};return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Document":"Add Document",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:j=>a({...t,title:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:j=>a({...t,description:j.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Document Type",children:e.jsxs("select",{value:t.documentType||"",onChange:j=>a({...t,documentType:j.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Annual Report",children:"Annual Report"}),e.jsx("option",{value:"Quarterly Report",children:"Quarterly Report"}),e.jsx("option",{value:"Press Release",children:"Press Release"}),e.jsx("option",{value:"Other",children:"Other"})]})}),e.jsx(m,{label:"Publish Date",children:e.jsx("input",{type:"date",value:t.publishDate?new Date(t.publishDate).toISOString().split("T")[0]:"",onChange:j=>a({...t,publishDate:j.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs(m,{label:"Document File",children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:g,disabled:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),l&&e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Uploading..."})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:j=>a({...t,isActive:j.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Kt(){const[r,c]=i.useState("content"),[d,n]=i.useState([]),[t,a]=i.useState(!1),[l,x]=i.useState(!1),[g,j]=i.useState(!1),[w,v]=i.useState(null),[f,p]=i.useState(null),[F,b]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null});i.useEffect(()=>{r==="content"?k():h()},[r]);const k=async()=>{a(!0);try{const I=await u.get("/clients/page-content");if(I.success&&I.data){const M=I.data;b({id:M.id||void 0,heroTitle:M.heroTitle||null,heroSubtitle:M.heroSubtitle||null,heroImageId:M.heroImageId||null,introText:M.introText||null,heroImage:M.heroImage})}}catch(I){console.error("Error fetching page content:",I),I.message?.includes("not found")||alert(I.message||"Failed to load page content")}finally{a(!1)}},h=async()=>{a(!0);try{const I=await u.get("/clients");I.success&&I.data&&n(I.data.sort((M,L)=>M.orderIndex-L.orderIndex))}catch(I){console.error("Error fetching clients:",I),alert(I.message||"Failed to load clients")}finally{a(!1)}},D=async()=>{x(!0);try{const I={heroTitle:F.heroTitle||null,heroSubtitle:F.heroSubtitle||null,heroImageId:F.heroImageId||null,introText:F.introText||null},M=await u.put("/clients/page-content",I);if(M.success)alert("Page content saved successfully!"),k();else throw new Error(M.message||"Failed to save page content")}catch(I){console.error("Error saving page content:",I),alert(I.message||"Failed to save page content")}finally{x(!1)}},S=I=>{if(I.name&&!I.name.match(/^Client\s+\d+$/i))return I.name;if(I.logo?.altText)return I.logo.altText;if(I.logo?.fileName){const M=I.logo.fileName.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,L=>L.toUpperCase());if(M&&M!=="Logo")return M}return I.name||"Unnamed Client"},N=async I=>{x(!0);try{for(let M=0;M<I.length;M++)await u.put(`/clients/${I[M].id}`,{...I[M],orderIndex:M});n(I),alert("Clients order updated successfully!")}catch(M){alert(M.message||"Failed to update order")}finally{x(!1)}},y=async I=>{x(!0);try{if(I.id&&I.id>0){const M=await u.put(`/clients/${I.id}`,I);if(!M.success)throw new Error(M.message||"Failed to update client")}else{const M=await u.post("/clients",{...I,orderIndex:d.length});if(!M.success)throw new Error(M.message||"Failed to create client")}j(!1),v(null),h(),alert("Client saved successfully!")}catch(M){const L=M.message||"Failed to save client";L.includes("not found")?(alert("This client no longer exists. Please refresh the page and try again."),h()):alert(L)}finally{x(!1)}},A=async I=>{if(confirm("Are you sure you want to delete this client?")){x(!0);try{const M=await u.delete(`/clients/${I}`);if(!M.success)throw new Error(M.message||"Failed to delete client");n(d.filter(L=>L.id!==I)),alert("Client deleted successfully!")}catch(M){const L=M.message||"Failed to delete client";L.includes("not found")?(alert("This client no longer exists. The list will be refreshed."),h()):alert(L)}finally{x(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Clients Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage clients page content and client list"})]})}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>c("content"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>c("clients"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="clients"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-group-line mr-2"}),"Clients List"]})]})})]}),r==="content"?e.jsx(Xt,{content:F,onChange:b,onSave:D,saving:l}):e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clients"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage client logos and information"})]}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:d.length,isActive:!0}),j(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop clients to reorder them. The order will appear on your clients page."]})})]})}),t?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading clients..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-user-heart-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No clients yet. Add your first client!"}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:0,isActive:!0}),j(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(G,{items:d,onReorder:N,keyExtractor:I=>I.id,emptyMessage:"No clients yet. Click 'Add Client' to get started!",renderItem:I=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[I.logo&&e.jsx("img",{src:ge(I.logo),alt:S(I),className:"w-20 h-20 object-contain bg-gray-50 rounded-lg p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:S(I)}),I.websiteUrl&&e.jsxs("a",{href:I.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-1"}),I.websiteUrl]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>p(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{v(I),j(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>A(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),g&&w&&e.jsx(Zt,{client:w,onSave:y,onClose:()=>{j(!1),v(null)},saving:l}),f&&e.jsx(es,{client:f,onClose:()=>p(null),onEdit:()=>{v(f),p(null),j(!0)},getImageUrl:I=>ge(I),getClientDisplayName:S})]})}function Xt({content:r,onChange:c,onSave:d,saving:n}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>c({...r,heroTitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Clients"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:r.heroSubtitle||"",onChange:t=>c({...r,heroSubtitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Unlock Your Potential"})}),e.jsx(U,{value:r.heroImageId,onChange:t=>c({...r,heroImageId:t}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:r.heroImage}),e.jsx(m,{label:"Intro Text",hint:"Optional text below hero section",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>c({...r,introText:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Add introduction text here..."})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:d,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})})]})]})}function Zt({client:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Client":"Add New Client",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:l=>a({...t,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})}),e.jsx(m,{label:"Website URL",hint:"Optional - Include https://",children:e.jsx("input",{type:"url",value:t.websiteUrl||"",onChange:l=>a({...t,websiteUrl:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})}),e.jsx(U,{value:t.logoId,onChange:l=>a({...t,logoId:l}),label:"Client Logo",aspectRatio:"3/2"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Client":"Create Client"})]})]})})}function es({client:r,onClose:c,onEdit:d,getImageUrl:n,getClientDisplayName:t}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Client Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.logo&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:n(r.logo),alt:t(r),className:"max-w-xs max-h-48 object-contain bg-gray-50 rounded-lg p-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:t(r)}),r.websiteUrl&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsxs("a",{href:r.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-2"}),r.websiteUrl]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Client"]})]})]})})}function ts(){const[r,c]=i.useState([]),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState(!1),[g,j]=i.useState(null),[w,v]=i.useState(null);i.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const h=await u.get("/leaders");h.success&&h.data&&c(h.data.sort((D,S)=>D.orderIndex-S.orderIndex))}catch(h){console.error("Error fetching leaders:",h),alert(h.message||"Failed to load leaders")}finally{n(!1)}},p=async h=>{a(!0);try{for(let D=0;D<h.length;D++)await u.put(`/leaders/${h[D].id}`,{...h[D],orderIndex:D});c(h),alert("Leaders order updated successfully!")}catch(D){alert(D.message||"Failed to update order")}finally{a(!1)}},F=async h=>{a(!0);try{h.id&&h.id>0?await u.put(`/leaders/${h.id}`,h):await u.post("/leaders",{...h,orderIndex:r.length}),x(!1),j(null),f(),alert("Leader saved successfully!")}catch(D){alert(D.message||"Failed to save leader")}finally{a(!1)}},b=async h=>{if(confirm("Are you sure you want to delete this leader?")){a(!0);try{await u.delete(`/leaders/${h}`),c(r.filter(D=>D.id!==h)),alert("Leader deleted successfully!")}catch(D){alert(D.message||"Failed to delete leader")}finally{a(!1)}}},k=h=>h.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${h.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Management Team"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage leadership team members"})]}),e.jsxs("button",{onClick:()=>{j({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:r.length,isActive:!0}),x(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop leaders to reorder them on the management page."]})})]})}),d?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading leaders..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-team-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No leaders yet. Add your first team member!"}),e.jsxs("button",{onClick:()=>{j({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:0,isActive:!0}),x(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(G,{items:r,onReorder:p,keyExtractor:h=>h.id,emptyMessage:"No leaders yet. Click 'Add Leader' to get started!",renderItem:h=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[h.image&&e.jsx("img",{src:k(h),alt:h.fullName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:h.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:h.position}),h.department&&e.jsx("p",{className:"text-xs text-gray-500",children:h.department})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(h),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{j(h),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>b(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),l&&g&&e.jsx(ss,{leader:g,onSave:F,onClose:()=>{x(!1),j(null)},saving:t}),w&&e.jsx(as,{leader:w,onClose:()=>v(null),onEdit:()=>{j(w),v(null),x(!0)},getImageUrl:k})]})}function ss({leader:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id&&r.id>0?"Edit Leader":"Add New Leader",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Full Name",required:!0,children:e.jsx("input",{type:"text",value:t.fullName,onChange:l=>a({...t,fullName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})}),e.jsx(m,{label:"Position",required:!0,children:e.jsx("input",{type:"text",value:t.position,onChange:l=>a({...t,position:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CEO"})})]}),e.jsx(m,{label:"Department",children:e.jsx("input",{type:"text",value:t.department||"",onChange:l=>a({...t,department:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Executive"})}),e.jsx(m,{label:"Bio",children:e.jsx("textarea",{value:t.bio||"",onChange:l=>a({...t,bio:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter leader's biography"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:l=>a({...t,email:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})}),e.jsx(m,{label:"LinkedIn URL",children:e.jsx("input",{type:"url",value:t.linkedinUrl||"",onChange:l=>a({...t,linkedinUrl:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/johndoe"})})]}),e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"Profile Photo",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.fullName||!t.position,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r.id&&r.id>0?"Update Leader":"Create Leader"})]})]})})}function as({leader:r,onClose:c,onEdit:d,getImageUrl:n}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Leader Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.image&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:n(r),alt:r.fullName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.fullName}),e.jsx("p",{className:"text-lg text-gray-700 mb-1",children:r.position}),r.department&&e.jsx("p",{className:"text-blue-600 font-medium",children:r.department})]}),r.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Biography"}),e.jsx("p",{className:"text-gray-600",children:r.bio})]}),e.jsxs("div",{className:"space-y-2",children:[r.email&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-mail-line mr-2 text-gray-500"}),e.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline",children:r.email})]}),r.linkedinUrl&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-linkedin-line mr-2 text-gray-500"}),e.jsx("a",{href:r.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Leader"]})]})]})})}function rs(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,mapImageId:null,salesServiceHeading:null,salesServiceContent:null,salesServiceImageId:null}),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(null);i.useEffect(()=>{r==="content"?F():b()},[r]);const F=async()=>{n(!0);try{const S=await u.get("/our-presence");S.success&&S.data&&x(S.data)}catch(S){alert(S.message||"Failed to load")}finally{n(!1)}},b=async()=>{n(!0);try{const S=await u.get("/our-presence/locations");S.success&&S.data&&j(S.data)}catch(S){alert(S.message||"Failed to load")}finally{n(!1)}},k=async()=>{a(!0);try{await u.put("/our-presence",l),alert("Saved successfully!")}catch(S){alert(S.message||"Failed to save")}finally{a(!1)}},h=async S=>{a(!0);try{S.id&&S.id>0?await u.put(`/our-presence/locations/${S.id}`,S):await u.post("/our-presence/locations",S),v(!1),p(null),b(),alert("Location saved!")}catch(N){alert(N.message||"Failed to save")}finally{a(!1)}},D=async S=>{if(confirm("Delete this location?")){a(!0);try{await u.delete(`/our-presence/locations/${S}`),j(g.filter(N=>N.id!==S)),alert("Location deleted!")}catch(N){alert(N.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Presence"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and office locations"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("locations"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="locations"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Office Locations"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:k,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:S=>x({...l,heroTitle:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:S=>x({...l,heroSubtitle:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.heroImageId,onChange:S=>x({...l,heroImageId:S}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:S=>x({...l,introText:S.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mapImageId,onChange:S=>x({...l,mapImageId:S}),label:"Map Image"})}),e.jsx(m,{label:"Sales & Service Heading",children:e.jsx("input",{type:"text",value:l.salesServiceHeading||"",onChange:S=>x({...l,salesServiceHeading:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Sales & Service Content",children:e.jsx("textarea",{value:l.salesServiceContent||"",onChange:S=>x({...l,salesServiceContent:S.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.salesServiceImageId,onChange:S=>x({...l,salesServiceImageId:S}),label:"Sales & Service Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Office Locations"}),e.jsxs("button",{onClick:()=>{p({id:0,officeType:null,city:null,state:null,country:null,address:null,phone:null,email:null,latitude:null,longitude:null,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Location"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-map-pin-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No locations yet"})]}):e.jsx("div",{className:"space-y-3",children:g.map(S=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[S.city,", ",S.state||S.country]}),S.officeType&&e.jsx("p",{className:"text-sm text-gray-600",children:S.officeType}),S.address&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.address}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[S.phone&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-phone-line mr-1"}),S.phone]}),S.email&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-mail-line mr-1"}),S.email]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{p(S),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>D(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},S.id))})]})})]}),w&&f&&e.jsx(ls,{location:f,onSave:h,onClose:()=>{v(!1),p(null)},saving:t})]})}function ls({location:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Location":"Add Location",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Office Type",children:e.jsx("input",{type:"text",value:t.officeType||"",onChange:l=>a({...t,officeType:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Headquarters"})}),e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:l=>a({...t,city:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:l=>a({...t,state:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Country",children:e.jsx("input",{type:"text",value:t.country||"",onChange:l=>a({...t,country:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:t.address||"",onChange:l=>a({...t,address:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:t.phone||"",onChange:l=>a({...t,phone:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:l=>a({...t,email:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Latitude",children:e.jsx("input",{type:"number",step:"any",value:t.latitude||"",onChange:l=>a({...t,latitude:l.target.value?parseFloat(l.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Longitude",children:e.jsx("input",{type:"number",step:"any",value:t.longitude||"",onChange:l=>a({...t,longitude:l.target.value?parseFloat(l.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function ns(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,flexibilityHeading:null,flexibilityContent:null,flexibilityImageId:null,qualityHeading:null,qualityContent:null,qualityImageId:null}),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(null);i.useEffect(()=>{r==="content"?F():b()},[r]);const F=async()=>{n(!0);try{const N=await u.get("/production-facility");N.success&&N.data&&x(N.data)}catch(N){alert(N.message||"Failed to load")}finally{n(!1)}},b=async()=>{n(!0);try{const N=await u.get("/production-facility/features");N.success&&N.data&&j(N.data.sort((y,A)=>y.orderIndex-A.orderIndex))}catch(N){alert(N.message||"Failed to load")}finally{n(!1)}},k=async()=>{a(!0);try{await u.put("/production-facility",l),alert("Saved successfully!")}catch(N){alert(N.message||"Failed to save")}finally{a(!1)}},h=async N=>{a(!0);try{for(let y=0;y<N.length;y++)await u.put(`/production-facility/features/${N[y].id}`,{...N[y],orderIndex:y});j(N),alert("Order updated!")}catch(y){alert(y.message||"Failed to update")}finally{a(!1)}},D=async N=>{a(!0);try{N.id&&N.id>0?await u.put(`/production-facility/features/${N.id}`,N):await u.post("/production-facility/features",{...N,orderIndex:g.length}),v(!1),p(null),b(),alert("Feature saved!")}catch(y){alert(y.message||"Failed to save")}finally{a(!1)}},S=async N=>{if(confirm("Delete this feature?")){a(!0);try{await u.delete(`/production-facility/features/${N}`),j(g.filter(y=>y.id!==N)),alert("Feature deleted!")}catch(y){alert(y.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Production Facility"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and facility features"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("features"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="features"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Features"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:k,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:N=>x({...l,heroTitle:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:N=>x({...l,heroSubtitle:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.heroImageId,onChange:N=>x({...l,heroImageId:N}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:N=>x({...l,introText:N.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(m,{label:"Flexibility Heading",children:e.jsx("input",{type:"text",value:l.flexibilityHeading||"",onChange:N=>x({...l,flexibilityHeading:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Flexibility Content",children:e.jsx("textarea",{value:l.flexibilityContent||"",onChange:N=>x({...l,flexibilityContent:N.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.flexibilityImageId,onChange:N=>x({...l,flexibilityImageId:N}),label:"Flexibility Image"})}),e.jsx(m,{label:"Quality Heading",children:e.jsx("input",{type:"text",value:l.qualityHeading||"",onChange:N=>x({...l,qualityHeading:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Quality Content",children:e.jsx("textarea",{value:l.qualityContent||"",onChange:N=>x({...l,qualityContent:N.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.qualityImageId,onChange:N=>x({...l,qualityImageId:N}),label:"Quality Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Facility Features"}),e.jsxs("button",{onClick:()=>{p({id:0,iconClass:null,heading:null,description:null,orderIndex:g.length}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-settings-3-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(G,{items:g,onReorder:h,keyExtractor:N=>N.id,renderItem:N=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[N.iconClass&&e.jsx("i",{className:`${N.iconClass} text-2xl text-blue-600`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:N.heading}),N.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:N.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{p(N),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>S(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),w&&f&&e.jsx(is,{feature:f,onSave:D,onClose:()=>{v(!1),p(null)},saving:t})]})}function is({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{label:"Icon Class",hint:"RemixIcon class",children:[e.jsx("input",{type:"text",value:t.iconClass||"",onChange:l=>a({...t,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-settings-3-line"}),t.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:t.iconClass})]})]}),e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:t.heading||"",onChange:l=>a({...t,heading:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:l=>a({...t,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function os(){const[r,c]=i.useState("content"),[d,n]=i.useState(!1),[t,a]=i.useState(!1),[l,x]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,mainHeading:null,mainContent:null,mainImageId:null}),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(null);i.useEffect(()=>{r==="content"?F():b()},[r]);const F=async()=>{n(!0);try{const y=await u.get("/quality-assurance");y.success&&y.data&&x(y.data)}catch(y){alert(y.message||"Failed to load")}finally{n(!1)}},b=async()=>{n(!0);try{const y=await u.get("/quality-assurance/certifications");y.success&&y.data&&j(y.data.sort((A,I)=>A.orderIndex-I.orderIndex))}catch(y){alert(y.message||"Failed to load")}finally{n(!1)}},k=async()=>{a(!0);try{await u.put("/quality-assurance",l),alert("Saved successfully!")}catch(y){alert(y.message||"Failed to save")}finally{a(!1)}},h=async y=>{a(!0);try{for(let A=0;A<y.length;A++)await u.put(`/quality-assurance/certifications/${y[A].id}`,{...y[A],orderIndex:A});j(y),alert("Order updated!")}catch(A){alert(A.message||"Failed to update")}finally{a(!1)}},D=async y=>{a(!0);try{y.id&&y.id>0?await u.put(`/quality-assurance/certifications/${y.id}`,y):await u.post("/quality-assurance/certifications",{...y,orderIndex:g.length}),v(!1),p(null),b(),alert("Certification saved!")}catch(A){alert(A.message||"Failed to save")}finally{a(!1)}},S=async y=>{if(confirm("Delete this certification?")){a(!0);try{await u.delete(`/quality-assurance/certifications/${y}`),j(g.filter(A=>A.id!==y)),alert("Certification deleted!")}catch(A){alert(A.message||"Failed to delete")}finally{a(!1)}}},N=y=>y.logo?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${y.logo.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quality Assurance"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and certifications"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("certifications"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="certifications"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Certifications"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:k,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:y=>x({...l,heroTitle:y.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:y=>x({...l,heroSubtitle:y.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.heroImageId,onChange:y=>x({...l,heroImageId:y}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:y=>x({...l,introText:y.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(m,{label:"Main Heading",children:e.jsx("input",{type:"text",value:l.mainHeading||"",onChange:y=>x({...l,mainHeading:y.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Main Content",children:e.jsx("textarea",{value:l.mainContent||"",onChange:y=>x({...l,mainContent:y.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(U,{value:l.mainImageId,onChange:y=>x({...l,mainImageId:y}),label:"Main Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Certifications"}),e.jsxs("button",{onClick:()=>{p({id:0,name:"",abbreviation:null,logoId:null,description:null,orderIndex:g.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Certification"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-shield-check-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No certifications yet"})]}):e.jsx(G,{items:g,onReorder:h,keyExtractor:y=>y.id,renderItem:y=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[y.logo&&e.jsx("img",{src:N(y),alt:y.name,className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:y.name}),y.abbreviation&&e.jsx("p",{className:"text-sm text-gray-600",children:y.abbreviation})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${y.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{p(y),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>S(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),w&&f&&e.jsx(ds,{cert:f,onSave:D,onClose:()=>{v(!1),p(null)},saving:t})]})}function ds({cert:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Certification":"Add Certification",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Certification Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:l=>a({...t,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Abbreviation",children:e.jsx("input",{type:"text",value:t.abbreviation||"",onChange:l=>a({...t,abbreviation:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISO 13485"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:l=>a({...t,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(U,{value:t.logoId,onChange:l=>a({...t,logoId:l}),label:"Certification Logo",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function cs(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({heroTitle:null,introText:null,backgroundImageId:null}),[l,x]=i.useState([]),[g,j]=i.useState([]),[w,v]=i.useState(!1),[f,p]=i.useState(!1),[F,b]=i.useState(null),[k,h]=i.useState(null);i.useEffect(()=>{D()},[]);const D=async()=>{c(!0);try{const C=await u.get("/request-demo");if(C.success&&C.data){const P=C.data;a({id:P.id,heroTitle:P.heroTitle,introText:P.introText,backgroundImageId:P.backgroundImageId,backgroundImage:P.backgroundImage}),x(P.paragraphs||[]),j(P.features||[])}}catch(C){console.error("Error fetching content:",C),alert(C.message||"Failed to load content")}finally{c(!1)}},S=async()=>{n(!0);try{(await u.put("/request-demo",t)).success&&(alert("Request Demo page saved successfully!"),D())}catch(C){alert(C.message||"Failed to save")}finally{n(!1)}},N=async C=>{n(!0);try{C.id&&C.id>0?await u.put(`/request-demo/paragraphs/${C.id}`,C):await u.post("/request-demo/paragraphs",{...C,orderIndex:l.length}),v(!1),b(null),D(),alert("Paragraph saved successfully!")}catch(P){alert(P.message||"Failed to save")}finally{n(!1)}},y=async C=>{if(confirm("Are you sure you want to delete this paragraph?")){n(!0);try{await u.delete(`/request-demo/paragraphs/${C}`),x(l.filter(P=>P.id!==C)),alert("Paragraph deleted successfully!")}catch(P){alert(P.message||"Failed to delete")}finally{n(!1)}}},A=async C=>{n(!0);try{for(let P=0;P<C.length;P++)await u.put(`/request-demo/paragraphs/${C[P].id}`,{...C[P],orderIndex:P});x(C),alert("Paragraphs order updated successfully!")}catch(P){alert(P.message||"Failed to update order")}finally{n(!1)}},I=async C=>{n(!0);try{C.id&&C.id>0?await u.put(`/request-demo/features/${C.id}`,C):await u.post("/request-demo/features",{...C,orderIndex:g.length}),p(!1),h(null),D(),alert("Feature saved successfully!")}catch(P){alert(P.message||"Failed to save")}finally{n(!1)}},M=async C=>{if(confirm("Are you sure you want to delete this feature?")){n(!0);try{await u.delete(`/request-demo/features/${C}`),j(g.filter(P=>P.id!==C)),alert("Feature deleted successfully!")}catch(P){alert(P.message||"Failed to delete")}finally{n(!1)}}},L=async C=>{n(!0);try{for(let P=0;P<C.length;P++)await u.put(`/request-demo/features/${C[P].id}`,{...C[P],orderIndex:P});j(C),alert("Features order updated successfully!")}catch(P){alert(P.message||"Failed to update order")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Demo Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage request demo page content"})]}),e.jsx("button",{onClick:S,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:C=>a({...t,heroTitle:C.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Request a Demo"})}),e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:t.introText||"",onChange:C=>a({...t,introText:C.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Background Image"}),e.jsx(U,{value:t.backgroundImageId,onChange:C=>a({...t,backgroundImageId:C}),label:"Page Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image (e.g., Frame-75-1.png). This will replace the default gradient background."]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>{b({id:0,content:"",orderIndex:l.length}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder."]}),e.jsx(G,{items:l,onReorder:A,keyExtractor:C=>C.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:C=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:C.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{b(C),v(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Features"}),e.jsxs("button",{onClick:()=>{h({id:0,title:"",content:"",iconImageId:null,orderIndex:g.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add feature blocks with icon, title, and content. Drag and drop to reorder."]}),e.jsx(G,{items:g,onReorder:L,keyExtractor:C=>C.id,emptyMessage:"No features yet. Click 'Add Feature' to get started!",renderItem:C=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[C.iconImage&&e.jsx("img",{src:us(C),alt:C.iconImage.altText||C.title,className:"w-10 h-10 object-contain"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:C.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:C.content})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{h(C),p(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>M(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}),w&&e.jsx(xs,{paragraph:F,onSave:N,onClose:()=>{v(!1),b(null)},saving:d}),f&&e.jsx(gs,{feature:k,onSave:I,onClose:()=>{p(!1),h(null)},saving:d})]})}function us(r){return r.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.iconImage.filePath}`:""}function xs({paragraph:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r||{id:0,content:"",orderIndex:0});return i.useEffect(()=>{a(r||{id:0,content:"",orderIndex:0})},[r]),e.jsx(H,{isOpen:!0,onClose:d,title:r?.id&&r.id>0?"Edit Paragraph":"Add Paragraph",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t.content,onChange:l=>a({...t,content:l.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r?.id&&r.id>0?"Update Paragraph":"Create Paragraph"})]})]})})}function gs({feature:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r||{id:0,title:"",content:"",iconImageId:null,orderIndex:0}),l=x=>x?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${x.filePath}`:"";return i.useEffect(()=>{a(r||{id:0,title:"",content:"",iconImageId:null,orderIndex:0})},[r]),e.jsx(H,{isOpen:!0,onClose:d,title:r?.id&&r.id>0?"Edit Feature":"Add Feature",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:x=>a({...t,title:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., System Variety"})}),e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t.content,onChange:x=>a({...t,content:x.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., We offer 15+ models ranging from portable to high-powered fixed machines..."})}),e.jsx(U,{value:t.iconImageId,onChange:x=>a({...t,iconImageId:x}),label:"Icon Image (JPG, PNG, SVG)"}),t.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:l(t.iconImage),alt:"Icon preview",className:"w-16 h-16 object-contain"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.title||!t.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":r?.id&&r.id>0?"Update Feature":"Create Feature"})]})]})})}function ms(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({heroTitle:null,heroSubtitle:null,heroImageId:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const j=await u.get("/our-products/content");j.success&&j.data&&a(j.data)}catch(j){console.error("Error fetching content:",j),alert(j.message||"Failed to load content")}finally{c(!1)}},x=async()=>{n(!0);try{(await u.put("/our-products/content",t)).success&&(alert("Our Products Page Content saved successfully!"),l())}catch(j){alert(j.message||"Failed to save")}finally{n(!1)}},g=j=>j?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${j.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Products Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Our Products page content"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:j=>a({...t,heroTitle:j.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:t.heroSubtitle||"",onChange:j=>a({...t,heroSubtitle:j.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explore our comprehensive range of medical imaging solutions"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx(U,{value:t.heroImageId,onChange:j=>a({...t,heroImageId:j}),label:"Hero Background Image"}),t.heroImage&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Image:"}),e.jsx("img",{src:g(t.heroImage),alt:t.heroImage.altText||"Hero image",className:"w-full max-w-md h-auto rounded-lg shadow-md"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image for the hero section."]})]})]})})]})}class hs extends i.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,d){console.error("ErrorBoundary caught an error:",c,d),this.props.onError&&this.props.onError(c,d)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50",children:e.jsxs("p",{className:"text-red-800 text-sm",children:[e.jsx("i",{className:"ri-error-warning-line mr-2"}),"Editor encountered an error. Using fallback editor."]})}):this.props.children}}let ne=null,Fe=!1;const ps=async()=>{if(ne)return ne;try{const r=(await Ie(async()=>{const{default:c}=await import("./index-DePFSs3Q.js").then(d=>d.i);return{default:c}},__vite__mapDeps([0,1,2]))).default;return Fe||(await Ie(()=>Promise.resolve({}),__vite__mapDeps([3])),Fe=!0),ne=r,ne}catch(r){return console.error("Failed to load React Quill:",r),null}};function ke({value:r,onChange:c,placeholder:d,height:n}){return e.jsxs(e.Fragment,{children:[e.jsx("textarea",{value:r,onChange:t=>c(t.target.value),placeholder:d,style:{height:n,minHeight:n},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:20}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Using plain text editor. You can paste HTML content here."]})]})}function bs({value:r,onChange:c,modules:d,formats:n,placeholder:t,height:a,onError:l}){if(i.useEffect(()=>{const g=j=>{(j.message?.includes("quill")||j.message?.includes("ReactQuill"))&&(console.error("ReactQuill error detected:",j.error),l())};return window.addEventListener("error",g),()=>window.removeEventListener("error",g)},[l]),!ne)return null;const x=ne;try{return e.jsx(x,{theme:"snow",value:r,onChange:c,modules:d,formats:n,placeholder:t,style:{height:`calc(${a} - 42px)`}})}catch(g){return console.error("Error rendering ReactQuill:",g),l(),null}}function Ae({value:r,onChange:c,label:d,placeholder:n="Enter content...",height:t="400px"}){const a=r??"",[l,x]=i.useState(!1),[g,j]=i.useState(!1),[w,v]=i.useState(!1);i.useEffect(()=>{x(!0),ps().then(b=>{b?j(!0):v(!0)}).catch(()=>{v(!0)})},[]);const f=b=>{c(b||"")},p=i.useMemo(()=>({toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1,matchers:[["BR",(b,k)=>k.compose(k.insert(`
`))]]}}),[]),F=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","align","link","color","background"];return!l||!g&&!w?e.jsx(m,{label:d,children:e.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})}):w||!ne?e.jsx(m,{label:d,children:e.jsx(ke,{value:a,onChange:f,placeholder:n,height:t})}):e.jsx(m,{label:d,children:e.jsx("div",{style:{height:t},children:e.jsx(hs,{fallback:e.jsx(ke,{value:a,onChange:f,placeholder:n,height:t}),onError:()=>v(!0),children:e.jsx(bs,{value:a,onChange:f,modules:p,formats:F,placeholder:n,height:t,onError:()=>v(!0)})})})})}function fs(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({title:null,subtitle:null,richTextContent:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const g=await u.get("/terms-privacy/terms/content");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{c(!1)}},x=async()=>{n(!0);try{(await u.put("/terms-privacy/terms/content",t)).success&&(alert("Terms and Conditions page saved successfully!"),l())}catch(g){alert(g.message||"Failed to save")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Terms and Conditions"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Terms and Conditions page content"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Page Title",children:e.jsx("input",{type:"text",value:t.title||"",onChange:g=>a({...t,title:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Terms and Conditions"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("textarea",{value:t.subtitle||"",onChange:g=>a({...t,subtitle:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Please read these terms carefully before using our services"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content"}),e.jsx(Ae,{value:t.richTextContent??"",onChange:g=>a({...t,richTextContent:g||null}),label:"Page Content",placeholder:"Enter the full Terms and Conditions content here. You can format text, add headings, lists, and more...",height:"600px"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[e.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsx("strong",{children:"How to use the editor:"})]}),e.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Paste your content into the editor"}),e.jsx("li",{children:"Select text and use the toolbar to format (bold, headings, etc.)"}),e.jsx("li",{children:"Use the heading dropdown to make titles bold and larger"}),e.jsx("li",{children:"Press Enter to create new paragraphs"}),e.jsx("li",{children:"All formatting will be preserved when saved"})]})]})]})]})})]})}function ys(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({title:null,subtitle:null,richTextContent:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const g=await u.get("/terms-privacy/privacy/content");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{c(!1)}},x=async()=>{n(!0);try{(await u.put("/terms-privacy/privacy/content",t)).success&&(alert("Privacy Policy page saved successfully!"),l())}catch(g){alert(g.message||"Failed to save")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Privacy Policy page content"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Page Title",children:e.jsx("input",{type:"text",value:t.title||"",onChange:g=>a({...t,title:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Privacy Policy"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("textarea",{value:t.subtitle||"",onChange:g=>a({...t,subtitle:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Your privacy is important to us. Learn how we protect your information."})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content"}),e.jsx(Ae,{value:t.richTextContent??"",onChange:g=>a({...t,richTextContent:g||null}),label:"Page Content",placeholder:"Enter the full Privacy Policy content here. You can format text, add headings, lists, and more...",height:"600px"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[e.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),e.jsx("strong",{children:"How to use the editor:"})]}),e.jsxs("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Paste your content into the editor"}),e.jsx("li",{children:"Select text and use the toolbar to format (bold, headings, etc.)"}),e.jsx("li",{children:"Use the heading dropdown to make titles bold and larger"}),e.jsx("li",{children:"Press Enter to create new paragraphs"}),e.jsx("li",{children:"All formatting will be preserved when saved"})]})]})]})]})})]})}function js(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({heroTitle:null,heroSubtitle:null,backgroundImageId:null,sectionBackgroundImageId:null,titleColor:"#FFFFFF",subtitleColor:"#FFFFFF",overlayOpacity:40}),[l,x]=i.useState([]),[g,j]=i.useState(!1),[w,v]=i.useState(null);i.useEffect(()=>{f()},[]);const f=async()=>{c(!0);try{const[h,D]=await Promise.all([u.get("/faqs/page",{params:{include:"backgroundImage,sectionBackgroundImage"}}),u.get("/faqs/items")]);h.success&&h.data&&a(h.data),D.success&&D.data&&x(D.data.sort((S,N)=>S.orderIndex-N.orderIndex))}catch(h){console.error("Error fetching data:",h),alert(h.message||"Failed to load data")}finally{c(!1)}},p=async()=>{n(!0);try{(await u.put("/faqs/page",t)).success&&(alert("FAQs page saved successfully!"),f())}catch(h){alert(h.message||"Failed to save")}finally{n(!1)}},F=async h=>{try{w?await u.put(`/faqs/items/${w.id}`,h):await u.post("/faqs/items",{...h,orderIndex:l.length,isActive:!0}),f(),j(!1),v(null)}catch(D){alert(D.message||"Failed to save FAQ item")}},b=async h=>{if(confirm("Are you sure you want to delete this FAQ item?"))try{await u.delete(`/faqs/items/${h}`),f()}catch(D){alert(D.message||"Failed to delete FAQ item")}},k=async h=>{try{const D=h.map((S,N)=>({id:S.id,orderIndex:N}));await u.post("/faqs/items/reorder",{items:D}),x(h)}catch(D){alert(D.message||"Failed to reorder FAQs"),f()}};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"FAQs Page Management"}),e.jsxs("div",{className:"border-b pb-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Hero Section"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:h=>a({...t,heroTitle:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:t.heroSubtitle||"",onChange:h=>a({...t,heroSubtitle:h.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero subtitle"})}),e.jsx(U,{value:t.backgroundImageId,onChange:h=>a({...t,backgroundImageId:h}),label:"Hero Background Image",currentImage:t.backgroundImage?{filePath:t.backgroundImage.filePath,fileName:t.backgroundImage.altText}:null}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(m,{label:"Title Color",children:e.jsx("input",{type:"color",value:t.titleColor,onChange:h=>a({...t,titleColor:h.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Subtitle Color",children:e.jsx("input",{type:"color",value:t.subtitleColor,onChange:h=>a({...t,subtitleColor:h.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Overlay Opacity (%)",children:e.jsx("input",{type:"number",min:"0",max:"100",value:t.overlayOpacity,onChange:h=>a({...t,overlayOpacity:parseInt(h.target.value)||40}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx("button",{onClick:p,disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Hero Section"})]})]}),e.jsxs("div",{className:"border-b pb-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"FAQs Section Background"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(U,{value:t.sectionBackgroundImageId,onChange:h=>a({...t,sectionBackgroundImageId:h}),label:"Section Background Image (PNG)",currentImage:t.sectionBackgroundImage?{filePath:t.sectionBackgroundImage.filePath,fileName:t.sectionBackgroundImage.altText}:null}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background PNG image for the FAQs section (the section with image and questions)."]}),e.jsx("button",{onClick:p,disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Section Background"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"FAQs Items"}),e.jsxs("button",{onClick:()=>{v(null),j(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add FAQ Item"]})]}),l.length>0?e.jsx(G,{items:l,onReorder:k,renderItem:h=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold text-sm",children:String(h.orderIndex+1).padStart(2,"0")}),e.jsx("h4",{className:"font-semibold text-gray-900",children:h.question})]}),e.jsx("p",{className:"text-sm text-gray-600 ml-11 line-clamp-2",children:h.answer})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{v(h),j(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>b(h.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:'No FAQs items yet. Click "Add FAQ Item" to get started.'})})]})]}),g&&e.jsx(vs,{item:w,onSave:F,onClose:()=>{j(!1),v(null)},saving:d})]})}function vs({item:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState({question:r?.question||"",answer:r?.answer||"",imageId:r?.imageId||null});return e.jsx(H,{isOpen:!0,onClose:d,title:r?"Edit FAQ Item":"Add FAQ Item",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Question",required:!0,children:e.jsx("input",{type:"text",value:t.question,onChange:l=>a({...t,question:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter question"})}),e.jsx(m,{label:"Answer",required:!0,children:e.jsx("textarea",{value:t.answer,onChange:l=>a({...t,answer:l.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter answer"})}),e.jsx(U,{value:t.imageId,onChange:l=>a({...t,imageId:l}),label:"FAQ Image (Displayed on left side)",currentImage:r?.image?{filePath:r.image.filePath,fileName:r.image.altText}:null}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"This image will be displayed on the left side of the FAQs section. The first FAQ item's image will be used."]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.question||!t.answer,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ns(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({companyName:"",addressLine1:null,addressLine2:null,city:null,state:null,postalCode:null,country:null,phone:null,email:null,supportEmail:null,googleMapsEmbedUrl:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const g=await u.get("/contact-info");g.success&&g.data&&a(g.data)}catch(g){alert(g.message||"Failed to load")}finally{c(!1)}},x=async()=>{n(!0);try{await u.put("/contact-info",t),alert("Contact info saved successfully!")}catch(g){alert(g.message||"Failed to save")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage company contact details"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Company Name",required:!0,children:e.jsx("input",{type:"text",value:t.companyName,onChange:g=>a({...t,companyName:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"tel",value:t.phone||"",onChange:g=>a({...t,phone:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:g=>a({...t,email:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Support Email",children:e.jsx("input",{type:"email",value:t.supportEmail||"",onChange:g=>a({...t,supportEmail:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Address Line 1",children:e.jsx("input",{type:"text",value:t.addressLine1||"",onChange:g=>a({...t,addressLine1:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Address Line 2",children:e.jsx("input",{type:"text",value:t.addressLine2||"",onChange:g=>a({...t,addressLine2:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:g=>a({...t,city:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:g=>a({...t,state:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Postal Code",children:e.jsx("input",{type:"text",value:t.postalCode||"",onChange:g=>a({...t,postalCode:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Country",children:e.jsx("input",{type:"text",value:t.country||"",onChange:g=>a({...t,country:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Google Maps Embed URL",children:e.jsx("textarea",{value:t.googleMapsEmbedUrl||"",onChange:g=>a({...t,googleMapsEmbedUrl:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Paste Google Maps embed iframe code here"})})})]})})]})}function ws(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState([]),[l,x]=i.useState(!1),[g,j]=i.useState(null);i.useEffect(()=>{w()},[]);const w=async()=>{c(!0);try{const p=await u.get("/global-settings");p.success&&p.data&&a(p.data)}catch(p){alert(p.message||"Failed to load")}finally{c(!1)}},v=async p=>{n(!0);try{p.id&&p.id>0?await u.put(`/global-settings/${p.id}`,p):await u.post("/global-settings",p),x(!1),j(null),w(),alert("Setting saved!")}catch(F){alert(F.message||"Failed to save")}finally{n(!1)}},f=async p=>{if(confirm("Delete this setting?")){n(!0);try{await u.delete(`/global-settings/${p}`),a(t.filter(F=>F.id!==p)),alert("Setting deleted!")}catch(F){alert(F.message||"Failed to delete")}finally{n(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Global Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage site-wide settings"})]}),e.jsxs("button",{onClick:()=>{j({id:0,settingKey:"",settingValue:null,settingType:"text",description:null}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Setting"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-settings-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No settings yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx("div",{className:"space-y-3",children:t.map(p=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.settingKey}),p.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 bg-gray-50 p-2 rounded",children:p.settingValue||"(empty)"}),e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:p.settingType})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{j(p),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>f(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},p.id))})}),l&&g&&e.jsx(Cs,{setting:g,onSave:v,onClose:()=>{x(!1),j(null)},saving:d})]})}function Cs({setting:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Setting":"Add Setting",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Setting Key",required:!0,hint:"Unique identifier (e.g., site_name)",children:e.jsx("input",{type:"text",value:t.settingKey,onChange:l=>a({...t,settingKey:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Setting Type",children:e.jsxs("select",{value:t.settingType,onChange:l=>a({...t,settingType:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"boolean",children:"Boolean"}),e.jsx("option",{value:"json",children:"JSON"})]})}),e.jsx(m,{label:"Setting Value",children:t.settingType==="boolean"?e.jsxs("select",{value:t.settingValue||"false",onChange:l=>a({...t,settingValue:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"true",children:"True"}),e.jsx("option",{value:"false",children:"False"})]}):t.settingType==="json"?e.jsx("textarea",{value:t.settingValue||"",onChange:l=>a({...t,settingValue:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'{"key": "value"}'}):e.jsx("input",{type:t.settingType==="number"?"number":"text",value:t.settingValue||"",onChange:l=>a({...t,settingValue:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Description",children:e.jsx("input",{type:"text",value:t.description||"",onChange:l=>a({...t,description:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.settingKey,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Ss(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState([]),[l,x]=i.useState(!1),[g,j]=i.useState(null);i.useEffect(()=>{w()},[]);const w=async()=>{c(!0);try{const F=await u.get("/social-links");F.success&&F.data&&a(F.data.sort((b,k)=>b.orderIndex-k.orderIndex))}catch(F){alert(F.message||"Failed to load")}finally{c(!1)}},v=async F=>{n(!0);try{for(let b=0;b<F.length;b++)await u.put(`/social-links/${F[b].id}`,{...F[b],orderIndex:b});a(F),alert("Order updated!")}catch(b){alert(b.message||"Failed to update")}finally{n(!1)}},f=async F=>{n(!0);try{F.id&&F.id>0?await u.put(`/social-links/${F.id}`,F):await u.post("/social-links",{...F,orderIndex:t.length}),x(!1),j(null),w(),alert("Social link saved!")}catch(b){alert(b.message||"Failed to save")}finally{n(!1)}},p=async F=>{if(confirm("Delete this social link?")){n(!0);try{await u.delete(`/social-links/${F}`),a(t.filter(b=>b.id!==F)),alert("Social link deleted!")}catch(b){alert(b.message||"Failed to delete")}finally{n(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Links"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage social media links"})]}),e.jsxs("button",{onClick:()=>{j({id:0,platform:"",url:"",iconClass:null,orderIndex:t.length,isActive:!0}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Link"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-share-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No social links yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(G,{items:t,onReorder:v,keyExtractor:F=>F.id,renderItem:F=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[F.iconClass&&e.jsx("i",{className:`${F.iconClass} text-2xl text-blue-600`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:F.platform}),e.jsx("p",{className:"text-sm text-gray-600",children:F.url})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{j(F),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>p(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),l&&g&&e.jsx(Is,{link:g,onSave:f,onClose:()=>{x(!1),j(null)},saving:d})]})}function Is({link:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r);return e.jsx(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:t.platform,onChange:l=>a({...t,platform:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook"})}),e.jsx(m,{label:"URL",required:!0,children:e.jsx("input",{type:"url",value:t.url,onChange:l=>a({...t,url:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsxs(m,{label:"Icon Class",hint:"RemixIcon class",children:[e.jsx("input",{type:"text",value:t.iconClass||"",onChange:l=>a({...t,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-line"}),t.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:t.iconClass})]})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:l=>a({...t,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.platform||!t.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save"})]})]})})}function Fs(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState([]),[l,x]=i.useState(!1),[g,j]=i.useState(null),[w,v]=i.useState(null);i.useEffect(()=>{f()},[]);const f=async()=>{c(!0);try{const h=await u.get("/testimonials",{params:{includeAll:"true"}});if(h.success&&h.data){const D=h.data.sort((S,N)=>S.orderIndex-N.orderIndex);a(D)}}catch(h){alert(h.message||"Failed to load")}finally{c(!1)}},p=async h=>{n(!0);try{for(let D=0;D<h.length;D++)await u.put(`/testimonials/${h[D].id}`,{...h[D],orderIndex:D});a(h),alert("Order updated!")}catch(D){alert(D.message||"Failed to update")}finally{n(!1)}},F=async h=>{n(!0);try{h.id&&h.id>0?await u.put(`/testimonials/${h.id}`,h):await u.post("/testimonials",{...h,orderIndex:t.length}),x(!1),j(null),f(),alert("Testimonial saved!")}catch(D){alert(D.message||"Failed to save")}finally{n(!1)}},b=async h=>{if(confirm("Delete this testimonial?")){n(!0);try{await u.delete(`/testimonials/${h}`),a(t.filter(D=>D.id!==h)),alert("Testimonial deleted!")}catch(D){alert(D.message||"Failed to delete")}finally{n(!1)}}},k=h=>h.clientImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${h.clientImage.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Testimonials"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer testimonials"})]}),e.jsxs("button",{onClick:()=>{j({id:0,clientName:"",clientPosition:null,clientCompany:null,clientImageId:null,testimonialText:"",rating:null,orderIndex:t.length,isFeatured:!1,isActive:!0}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Testimonial"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-chat-quote-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No testimonials yet"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Drag and drop cards to reorder. Cards display 2 per view with auto-scrolling."]}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Total: ",t.length," testimonial",t.length!==1?"s":""]})]}),e.jsx(G,{items:t,onReorder:p,keyExtractor:h=>h.id,renderItem:h=>e.jsxs("div",{className:"flex items-start gap-4 w-full p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold",children:h.orderIndex+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[h.clientImage?e.jsx("img",{src:k(h),alt:h.clientName,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-gray-600 font-bold text-sm",children:(h.clientName||"C").charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:h.clientName}),h.clientPosition&&h.clientCompany?e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[h.clientPosition,", ",h.clientCompany]}):h.clientCompany?e.jsx("p",{className:"text-sm text-gray-600 truncate",children:h.clientCompany}):h.clientPosition?e.jsx("p",{className:"text-sm text-gray-600 truncate",children:h.clientPosition}):null]})]}),e.jsxs("p",{className:"text-sm text-gray-500 line-clamp-2 italic",children:['"',h.testimonialText,'"']})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[h.isFeatured&&e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",title:"Featured",children:e.jsx("i",{className:"ri-star-fill"})}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(h),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{j(h),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>b(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}),l&&g&&e.jsx(ks,{testimonial:g,onSave:F,onClose:()=>{x(!1),j(null)},saving:d}),w&&e.jsx(As,{testimonial:w,onClose:()=>v(null),onEdit:()=>{j(w),v(null),x(!0)},getImageUrl:k})]})}function ks({testimonial:r,onSave:c,onClose:d,saving:n}){const[t,a]=i.useState(r),l="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";return e.jsxs(H,{isOpen:!0,onClose:d,title:r.id>0?"Edit Testimonial Card":"Add Testimonial Card",size:"xl",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Card Structure"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Each testimonial card displays: Quote icon, testimonial text, client avatar, name, and affiliation."})]}),e.jsxs(m,{label:"Testimonial Text",required:!0,children:[e.jsx("textarea",{value:t.testimonialText,onChange:x=>a({...t,testimonialText:x.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter the testimonial quote text..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This text will appear in white italic font on the orange card"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:t.clientName,onChange:x=>a({...t,clientName:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Dr. John Doe"})}),e.jsx(m,{label:"Client Position",children:e.jsx("input",{type:"text",value:t.clientPosition||"",onChange:x=>a({...t,clientPosition:x.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Surgeon"})})]}),e.jsxs(m,{label:"Client Company / Affiliation",children:[e.jsx("input",{type:"text",value:t.clientCompany||"",onChange:x=>a({...t,clientCompany:x.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Hospital Name"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If position is provided, it will show as: "Position, Company"'})]}),e.jsxs(m,{label:"Client Avatar / Icon",children:[e.jsx(U,{value:t.clientImageId,onChange:x=>a({...t,clientImageId:x}),label:"Upload Avatar Image",aspectRatio:"1/1",currentImage:t.clientImage?{filePath:t.clientImage.filePath,fileName:t.clientImage.altText}:null}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a circular avatar/icon image. This will be displayed in a circular frame on the card."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{label:"Order Position",children:[e.jsx("input",{type:"number",min:"0",value:t.orderIndex,onChange:x=>a({...t,orderIndex:parseInt(x.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:x=>a({...t,isActive:x.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(m,{label:"Featured",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isFeatured,onChange:x=>a({...t,isFeatured:x.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Mark as featured"})]})})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 sticky top-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Card Preview"}),e.jsxs("div",{className:"bg-[#FF6B35] p-6 rounded-lg text-white",children:[e.jsx("div",{className:"mb-4",children:e.jsx("i",{className:"ri-double-quotes-l text-5xl text-white/50"})}),e.jsx("p",{className:"text-white leading-relaxed mb-6 text-base italic min-h-[80px]",children:t.testimonialText||'"Your testimonial text will appear here..."'}),e.jsx("div",{className:"border-t border-white/30 pt-4 mt-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0 overflow-hidden",children:t.clientImage?.filePath?e.jsx("img",{src:`${l}${t.clientImage.filePath}`,alt:t.clientName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-white/30 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:(t.clientName||"C").charAt(0).toUpperCase()})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.clientName||"Client Name"}),t.clientPosition&&t.clientCompany?e.jsxs("p",{className:"text-sm text-white/90",children:[t.clientPosition,", ",t.clientCompany]}):t.clientCompany?e.jsx("p",{className:"text-sm text-white/90",children:t.clientCompany}):t.clientPosition?e.jsx("p",{className:"text-sm text-white/90",children:t.clientPosition}):e.jsx("p",{className:"text-sm text-white/60 italic",children:"Position, Company"})]})]})})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:e.jsx("strong",{children:"Card Features:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Orange background (#FF6B35)"}),e.jsx("li",{children:"White quotation marks icon"}),e.jsx("li",{children:"White italic testimonial text"}),e.jsx("li",{children:"Circular avatar with fallback initial"}),e.jsx("li",{children:"Client name in bold white"}),e.jsx("li",{children:"Position and company below name"})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(t),disabled:n||!t.clientName||!t.testimonialText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Testimonial Card"})]})]})}function As({testimonial:r,onClose:c,onEdit:d,getImageUrl:n}){return e.jsx(H,{isOpen:!0,onClose:c,title:"Testimonial Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.clientImage&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:n(r),alt:r.clientName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.clientName}),r.clientPosition&&e.jsx("p",{className:"text-gray-700",children:r.clientPosition}),r.clientCompany&&e.jsx("p",{className:"text-blue-600",children:r.clientCompany})]}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 italic text-lg",children:['"',r.testimonialText,'"']})}),r.rating&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rating:"}),e.jsx("div",{className:"flex",children:[...Array(5)].map((t,a)=>e.jsx("i",{className:`ri-star-${a<r.rating?"fill":"line"} text-yellow-400`},a))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]})]})]})})}function Ps(){const[r,c]=i.useState(!1),[d,n]=i.useState(!1),[t,a]=i.useState({heading:null,companyName:null,address:null,phone:null,email:null,imageId:null,backgroundImageId:null});i.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const g=await u.get("/reusable-contact-section");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{c(!1)}},x=async()=>{n(!0);try{(await u.put("/reusable-contact-section",t)).success&&(alert("Reusable Contact Section saved successfully!"),l())}catch(g){alert(g.message||"Failed to save")}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reusable Contact Us Component"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the reusable contact section used across multiple pages"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:t.heading||"",onChange:g=>a({...t,heading:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})}),e.jsx(m,{label:"Company Name",children:e.jsx("input",{type:"text",value:t.companyName||"",onChange:g=>a({...t,companyName:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ADONIS MEDICAL SYSTEMS PVT LTD"})}),e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:t.address||"",onChange:g=>a({...t,address:g.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:t.phone||"",onChange:g=>a({...t,phone:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9872003273"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:g=>a({...t,email:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"support@adonismedical.com"})})]}),e.jsxs("div",{className:"border-t pt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(U,{value:t.backgroundImageId,onChange:g=>a({...t,backgroundImageId:g}),label:"Background Image (PNG)"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a PNG background image for the contact section."]})]}),e.jsxs("div",{children:[e.jsx(U,{value:t.imageId,onChange:g=>a({...t,imageId:g}),label:"Contact Section Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload an image to display on the right side of the contact section."]})]})]})]})})]})}function Es(){const[r,c]=i.useState("all"),[d,n]=i.useState("all"),[t,a]=i.useState(""),[l,x]=i.useState({start:"",end:""}),[g]=i.useState([{id:"1",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"update",page:"Home",section:"Hero Section",field:"Title",oldValue:"Welcome to Adonis Medical",newValue:"Affordable Diagnostic Imaging Solutions",timestamp:new Date("2025-01-15T10:30:00"),ipAddress:"192.168.1.100"},{id:"2",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"login",page:"Admin",section:"Authentication",timestamp:new Date("2025-01-15T09:00:00"),ipAddress:"192.168.1.100"},{id:"3",user:"Editor User",userEmail:"editor@adonismedical.com",action:"create",page:"Products",section:"Product List",field:"New Product",newValue:"HF Mobile X-Ray System",timestamp:new Date("2025-01-14T15:45:00"),ipAddress:"192.168.1.101"},{id:"4",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"delete",page:"Awards",section:"Awards List",field:"Award Item",oldValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:20:00"),ipAddress:"192.168.1.100"},{id:"5",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"restore",page:"Awards",section:"Awards List",field:"Award Item",newValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:25:00"),ipAddress:"192.168.1.100"},{id:"6",user:"Editor User",userEmail:"editor@adonismedical.com",action:"update",page:"About",section:"Company Overview",field:"Description",oldValue:"We are a leading manufacturer...",newValue:"Adonis Medical Systems, a professionally managed...",timestamp:new Date("2025-01-13T11:30:00"),ipAddress:"192.168.1.101"}]),j={create:"bg-green-100 text-green-800",update:"bg-blue-100 text-blue-800",delete:"bg-red-100 text-red-800",restore:"bg-purple-100 text-purple-800",login:"bg-gray-100 text-gray-800",logout:"bg-gray-100 text-gray-800"},w={create:"ri-add-circle-line",update:"ri-edit-line",delete:"ri-delete-bin-line",restore:"ri-restart-line",login:"ri-login-box-line",logout:"ri-logout-box-line"},v=g.filter(p=>{const F=r==="all"||p.action===r,b=d==="all"||p.page===d,k=t===""||p.user.toLowerCase().includes(t.toLowerCase())||p.userEmail.toLowerCase().includes(t.toLowerCase())||p.page.toLowerCase().includes(t.toLowerCase())||p.section.toLowerCase().includes(t.toLowerCase());return F&&b&&k}),f=()=>{const p=[["Timestamp","User","Email","Action","Page","Section","Field","Old Value","New Value","IP Address"],...v.map(h=>[h.timestamp.toISOString(),h.user,h.userEmail,h.action,h.page,h.section,h.field||"",h.oldValue||"",h.newValue||"",h.ipAddress])].map(h=>h.join(",")).join("\\n"),F=new Blob([p],{type:"text/csv"}),b=window.URL.createObjectURL(F),k=document.createElement("a");k.href=b,k.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,k.click()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Logs"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track all user actions and changes"})]}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line"}),e.jsx("span",{children:"Export Logs"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:p=>a(p.target.value),placeholder:"Search user, email, page...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),e.jsxs("select",{value:r,onChange:p=>c(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Actions"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"restore",children:"Restore"}),e.jsx("option",{value:"login",children:"Login"}),e.jsx("option",{value:"logout",children:"Logout"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsxs("select",{value:d,onChange:p=>n(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Pages"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"About",children:"About"}),e.jsx("option",{value:"Products",children:"Products"}),e.jsx("option",{value:"Awards",children:"Awards"}),e.jsx("option",{value:"Careers",children:"Careers"}),e.jsx("option",{value:"Contact",children:"Contact"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:l.start,onChange:p=>x({...l,start:p.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx("input",{type:"date",value:l.end,onChange:p=>x({...l,end:p.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(p=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.timestamp.toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.user}),e.jsx("div",{className:"text-xs text-gray-500",children:p.userEmail})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j[p.action]}`,children:[e.jsx("i",{className:`${w[p.action]} mr-1`}),p.action.charAt(0).toUpperCase()+p.action.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.page}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.section}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p.field&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:p.field}),p.oldValue&&e.jsxs("div",{className:"text-xs text-red-600",children:[e.jsx("span",{className:"font-medium",children:"From:"})," ",p.oldValue.substring(0,50),p.oldValue.length>50?"...":""]}),p.newValue&&e.jsxs("div",{className:"text-xs text-green-600",children:[e.jsx("span",{className:"font-medium",children:"To:"})," ",p.newValue.substring(0,50),p.newValue.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.ipAddress})]},p.id))})]})}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-file-list-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No activity logs found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Actions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-bar-chart-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Updates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.filter(p=>p.action==="update").length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-edit-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Deletions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.filter(p=>p.action==="delete").length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Logins"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.filter(p=>p.action==="login").length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-login-box-line text-2xl text-purple-600"})})]})})]})]})}function Ds(){const[r,c]=i.useState([]),[d,n]=i.useState("all"),[t,a]=i.useState([{id:"1",type:"award",page:"Awards",section:"Awards List",title:"Best Innovation Award 2023",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-14T14:20:00"),data:{year:"2023",category:"Innovation",organization:"Healthcare Excellence Awards",description:"Recognized for breakthrough innovations in medical imaging technology"}},{id:"2",type:"product",page:"Products",section:"Product List",title:"Legacy X-Ray System",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-13T10:15:00"),data:{category:"X-Ray Systems",description:"Discontinued product line"}},{id:"3",type:"job",page:"Careers",section:"Job Openings",title:"Senior Software Engineer",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-12T16:30:00"),data:{department:"Engineering",location:"Mohali, India",type:"Full-time"}},{id:"4",type:"page-section",page:"Home",section:"Testimonials",title:"Customer Testimonial - Dr. Smith",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-11T09:45:00"),data:{author:"Dr. John Smith",content:"Excellent equipment and service..."}}]),l={"page-section":"ri-file-text-line",product:"ri-product-hunt-line",award:"ri-award-line",job:"ri-briefcase-line",client:"ri-user-heart-line",document:"ri-file-line"},x={"page-section":"bg-blue-100 text-blue-800",product:"bg-green-100 text-green-800",award:"bg-yellow-100 text-yellow-800",job:"bg-purple-100 text-purple-800",client:"bg-pink-100 text-pink-800",document:"bg-gray-100 text-gray-800"},g=d==="all"?t:t.filter(k=>k.type===d),j=()=>{r.length===g.length?c([]):c(g.map(k=>k.id))},w=k=>{c(h=>h.includes(k)?h.filter(D=>D!==k):[...h,k])},v=k=>{const h=t.find(D=>D.id===k);h&&(alert(`Restored: ${h.title}`),a(D=>D.filter(S=>S.id!==k)),c(D=>D.filter(S=>S!==k)))},f=()=>{r.length!==0&&confirm(`Restore ${r.length} selected item(s)?`)&&(a(k=>k.filter(h=>!r.includes(h.id))),c([]),alert(`${r.length} item(s) restored successfully!`))},p=k=>{const h=t.find(D=>D.id===k);h&&confirm(`Permanently delete "${h.title}"? This action cannot be undone.`)&&(a(D=>D.filter(S=>S.id!==k)),c(D=>D.filter(S=>S!==k)),alert("Item permanently deleted"))},F=()=>{t.length!==0&&confirm(`Permanently delete all ${t.length} item(s)? This action cannot be undone.`)&&(a([]),c([]),alert("Recycle bin emptied successfully"))},b=k=>{const h=Math.floor((new Date().getTime()-k.getTime())/864e5);return h===0?"Today":h===1?"Yesterday":`${h} days ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recycle Bin"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," deleted item(s)  Items are kept for 30 days"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[r.length>0&&e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsxs("span",{children:["Restore Selected (",r.length,")"]})]}),e.jsxs("button",{onClick:F,disabled:t.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Empty Bin"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="all"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Items (",t.length,")"]}),e.jsxs("button",{onClick:()=>n("page-section"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="page-section"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Page Sections (",t.filter(k=>k.type==="page-section").length,")"]}),e.jsxs("button",{onClick:()=>n("product"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="product"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Products (",t.filter(k=>k.type==="product").length,")"]}),e.jsxs("button",{onClick:()=>n("award"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="award"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Awards (",t.filter(k=>k.type==="award").length,")"]}),e.jsxs("button",{onClick:()=>n("job"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="job"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Jobs (",t.filter(k=>k.type==="job").length,")"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:g.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.length===g.length,onChange:j,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Select All"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(k=>e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("input",{type:"checkbox",checked:r.includes(k.id),onChange:()=>w(k.id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x[k.type]}`,children:e.jsx("i",{className:`${l[k.type]} text-xl`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${x[k.type]}`,children:k.type.replace("-"," ")}),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:[k.page," / ",k.section]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Deleted by ",k.deletedBy,"  ",b(k.deletedAt)]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>v(k.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>p(k.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Delete"})]})]})]})})]})},k.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-delete-bin-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Recycle bin is empty"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Deleted items will appear here"})]})})]})}function Ts(){const[r,c]=i.useState("all"),[d,n]=i.useState("all"),[t,a]=i.useState(!1),[l,x]=i.useState([]),[g]=i.useState([{id:"1",page:"Home",section:"Hero Section",versionNumber:5,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-15T10:30:00"),changes:["Updated title text","Changed background image","Modified button color"],data:{title:"Affordable Diagnostic Imaging Solutions",subtitle:"Leading manufacturer of high-quality X-ray systems",backgroundImage:"https://example.com/hero-bg.jpg"}},{id:"2",page:"Home",section:"Hero Section",versionNumber:4,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-14T15:20:00"),changes:["Updated subtitle","Changed overlay opacity"],data:{title:"Welcome to Adonis Medical",subtitle:"Quality medical imaging solutions",backgroundImage:"https://example.com/hero-bg-old.jpg"}},{id:"3",page:"About",section:"Company Overview",versionNumber:3,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-13T11:45:00"),changes:["Added new paragraph","Updated bullet points"],data:{paragraphs:["Updated company description..."],bulletPoints:["Innovation","Quality","Service"]}},{id:"4",page:"Products",section:"Product List",versionNumber:8,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-12T09:15:00"),changes:["Added new product","Updated product images"],data:{products:["HF Mobile","C-ARM","Digital Radiography"]}}]),j=["all",...Array.from(new Set(g.map(b=>b.page)))],w=r==="all"?["all"]:["all",...Array.from(new Set(g.filter(b=>b.page===r).map(b=>b.section)))],v=g.filter(b=>{const k=r==="all"||b.page===r,h=d==="all"||b.section===d;return k&&h}),f=b=>{l.includes(b)?x(k=>k.filter(h=>h!==b)):l.length<2&&x(k=>[...k,b])},p=b=>{confirm(`Restore ${b.page} - ${b.section} to version ${b.versionNumber}?`)&&alert(`Restored to version ${b.versionNumber}`)},F=()=>{l.length===2&&alert("Opening comparison view...")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Version History"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and restore previous versions of your content"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:b=>{a(b.target.checked),b.target.checked||x([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compare Mode"})]}),t&&l.length===2&&e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-git-compare-line"}),e.jsx("span",{children:"Compare Versions"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsx("select",{value:r,onChange:b=>{c(b.target.value),n("all")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:j.map(b=>e.jsx("option",{value:b,children:b==="all"?"All Pages":b},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),e.jsx("select",{value:d,onChange:b=>n(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:w.map(b=>e.jsx("option",{value:b,children:b==="all"?"All Sections":b},b))})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Version Timeline"}),v.length>0?e.jsx("div",{className:"space-y-6",children:v.map((b,k)=>e.jsxs("div",{className:"relative",children:[k!==v.length-1&&e.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"flex items-start space-x-4",children:[t&&e.jsx("input",{type:"checkbox",checked:l.includes(b.id),onChange:()=>f(b.id),disabled:!l.includes(b.id)&&l.length>=2,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"relative z-10 flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:["v",b.versionNumber]}),e.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:[b.page," - ",b.section]}),e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:["Version ",b.versionNumber]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[b.createdAt.toLocaleString(),"  by ",b.createdBy]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Changes:"}),e.jsx("ul",{className:"space-y-1",children:b.changes.map((h,D)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-start",children:[e.jsx("i",{className:"ri-arrow-right-s-line text-blue-500 mt-0.5"}),e.jsx("span",{children:h})]},D))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>alert("Opening preview..."),className:"flex items-center space-x-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-eye-line"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>p(b),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]})]})]})})]})]},b.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-history-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No version history found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Versions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-git-branch-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pages Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:new Set(g.map(b=>b.page)).size})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-list-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Latest Update"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 mt-1",children:g[0]?.createdAt.toLocaleDateString()})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-purple-600"})})]})})]})]})}function Ls(){Pe();const{user:r,logout:c}=Ee(),[d,n]=i.useState("home");i.useEffect(()=>{window.scrollTo(0,0),De.init({duration:600,once:!0,easing:"ease-out-cubic"})},[]);const t=()=>{c()},a=[{id:"home",label:"Home",icon:"ri-home-line"},{id:"header-footer",label:"Header & Footer",icon:"ri-layout-line"},{id:"about",label:"About",icon:"ri-information-line"},{id:"products",label:"Products",icon:"ri-product-hunt-line"},{id:"our-products",label:"Our Products",icon:"ri-shopping-bag-line"},{id:"awards",label:"Awards",icon:"ri-award-line"},{id:"careers",label:"Careers",icon:"ri-briefcase-line"},{id:"specialties",label:"Specialties",icon:"ri-stethoscope-line"},{id:"investors",label:"Investors",icon:"ri-line-chart-line"},{id:"clients",label:"Clients",icon:"ri-user-heart-line"},{id:"management",label:"Management",icon:"ri-team-line"},{id:"presence",label:"Our Presence",icon:"ri-map-2-line"},{id:"production",label:"Production",icon:"ri-factory-line"},{id:"quality",label:"Quality",icon:"ri-shield-check-line"},{id:"demo",label:"Request Demo",icon:"ri-calendar-check-line"},{id:"contact",label:"Contact",icon:"ri-mail-line"},{id:"contact-info",label:"Contact Info",icon:"ri-contacts-line"},{id:"reusable-contact",label:"Reusable Contact",icon:"ri-mail-send-line"},{id:"terms",label:"Terms & Conditions",icon:"ri-file-text-line"},{id:"privacy",label:"Privacy Policy",icon:"ri-shield-check-line"},{id:"faqs",label:"FAQs",icon:"ri-question-line"},{id:"global-settings",label:"Global Settings",icon:"ri-settings-3-line"},{id:"social-links",label:"Social Links",icon:"ri-share-line"},{id:"testimonials",label:"Testimonials",icon:"ri-chat-quote-line"},{id:"users",label:"Users",icon:"ri-user-settings-line"},{id:"smtp",label:"SMTP",icon:"ri-mail-settings-line"},{id:"logs",label:"Activity Logs",icon:"ri-file-list-3-line"},{id:"bin",label:"Recycle Bin",icon:"ri-delete-bin-line"},{id:"versions",label:"Version History",icon:"ri-history-line"}];return e.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[e.jsxs("div",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:xe("2024/09/logo_adonis_4x-1.svg"),alt:"Adonis Medical",className:"h-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#2563EB]",children:"Admin Dashboard"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Content Management System"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-[#1F2937]",children:["Welcome, ",e.jsx("span",{className:"text-[#2563EB]",children:r?.email||r?.fullName||"Admin"})]})}),e.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 bg-[#EF4444] text-white rounded-lg hover:bg-[#DC2626] transition-all duration-300 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line"}),e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:a.map(l=>e.jsxs("button",{onClick:()=>n(l.id),className:`flex items-center space-x-2 px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${d===l.id?"text-[#2563EB] border-[#2563EB] bg-gradient-to-b from-[#EFF6FF] to-transparent":"text-[#6B7280] border-transparent hover:text-[#2563EB] hover:bg-[#F9FAFB]"}`,children:[e.jsx("i",{className:`${l.icon} text-lg`}),e.jsx("span",{children:l.label})]},l.id))})})]}),e.jsxs("div",{className:"p-6",children:[d==="home"&&e.jsx(Te,{}),d==="header-footer"&&e.jsx(Qe,{}),d==="about"&&e.jsx(Ze,{}),d==="products"&&e.jsx(Pt,{}),d==="our-products"&&e.jsx(ms,{}),d==="awards"&&e.jsx(Et,{}),d==="careers"&&e.jsx(Mt,{}),d==="specialties"&&e.jsx(Ht,{}),d==="investors"&&e.jsx(Yt,{}),d==="clients"&&e.jsx(Kt,{}),d==="management"&&e.jsx(ts,{}),d==="presence"&&e.jsx(rs,{}),d==="production"&&e.jsx(ns,{}),d==="quality"&&e.jsx(os,{}),d==="demo"&&e.jsx(cs,{}),d==="contact"&&e.jsx(Bt,{}),d==="contact-info"&&e.jsx(Ns,{}),d==="reusable-contact"&&e.jsx(Ps,{}),d==="terms"&&e.jsx(fs,{}),d==="privacy"&&e.jsx(ys,{}),d==="faqs"&&e.jsx(js,{}),d==="global-settings"&&e.jsx(ws,{}),d==="social-links"&&e.jsx(Ss,{}),d==="testimonials"&&e.jsx(Fs,{}),d==="users"&&e.jsx(tt,{}),d==="smtp"&&e.jsx(qt,{}),d==="logs"&&e.jsx(Es,{}),d==="bin"&&e.jsx(Ds,{}),d==="versions"&&e.jsx(Ts,{})]})]})}export{Ls as default};
//# sourceMappingURL=page-WMPSYT4B.js.map
