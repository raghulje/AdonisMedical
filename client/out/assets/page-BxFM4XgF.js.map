{"version":3,"file":"page-BxFM4XgF.js","sources":["../../src/components/cms/Modal.tsx","../../src/components/cms/FormField.tsx","../../src/components/cms/DragDropList.tsx","../../src/components/cms/ImageSelector.tsx","../../src/pages/admin/dashboard/components/HomePageManagement.tsx","../../src/pages/admin/dashboard/components/HeaderFooterManagement.tsx","../../src/pages/admin/dashboard/components/AboutPageManagement.tsx","../../src/pages/admin/dashboard/components/UserManagement.tsx","../../src/pages/admin/dashboard/components/products/HfMobilePageManagement.tsx","../../src/pages/admin/dashboard/components/products/HfFixedPageManagement.tsx","../../src/pages/admin/dashboard/components/products/FpdCArmPageManagement.tsx","../../src/pages/admin/dashboard/components/products/HfCArm1kPageManagement.tsx","../../src/pages/admin/dashboard/components/products/LineFrequencyPageManagement.tsx","../../src/pages/admin/dashboard/components/products/DigitalRadiographyPageManagement.tsx","../../src/pages/admin/dashboard/components/products/DreamSeriesPageManagement.tsx","../../src/pages/admin/dashboard/components/ProductsPageManagement.tsx","../../src/pages/admin/dashboard/components/AwardsPageManagement.tsx","../../src/pages/admin/dashboard/components/CareersPageManagement.tsx","../../src/pages/admin/dashboard/components/ContactPageManagement.tsx","../../src/pages/admin/dashboard/components/SMTPConfiguration.tsx","../../src/pages/admin/dashboard/components/SpecialtiesPageManagement.tsx","../../src/pages/admin/dashboard/components/InvestorRelationsPageManagement.tsx","../../src/pages/admin/dashboard/components/ClientsPageManagement.tsx","../../src/pages/admin/dashboard/components/ManagementPageManagement.tsx","../../src/pages/admin/dashboard/components/OurPresencePageManagement.tsx","../../src/pages/admin/dashboard/components/ProductionFacilityPageManagement.tsx","../../src/pages/admin/dashboard/components/QualityAssurancePageManagement.tsx","../../src/pages/admin/dashboard/components/RequestDemoPageManagement.tsx","../../src/pages/admin/dashboard/components/ContactInfoManagement.tsx","../../src/pages/admin/dashboard/components/GlobalSettingsManagement.tsx","../../src/pages/admin/dashboard/components/SocialLinksManagement.tsx","../../src/pages/admin/dashboard/components/TestimonialsManagement.tsx","../../src/pages/admin/dashboard/components/ActivityLogsPage.tsx","../../src/pages/admin/dashboard/components/RecycleBinPage.tsx","../../src/pages/admin/dashboard/components/VersionHistoryPage.tsx","../../src/pages/admin/dashboard/page.tsx"],"sourcesContent":["import { ReactNode, useEffect } from 'react';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: ReactNode;\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\r\n  showCloseButton?: boolean;\r\n}\r\n\r\nexport default function Modal({ \r\n  isOpen, \r\n  onClose, \r\n  title, \r\n  children, \r\n  size = 'lg',\r\n  showCloseButton = true \r\n}: ModalProps) {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const sizeClasses = {\r\n    sm: 'max-w-md',\r\n    md: 'max-w-lg',\r\n    lg: 'max-w-2xl',\r\n    xl: 'max-w-4xl',\r\n    full: 'max-w-7xl'\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 z-50 overflow-y-auto\"\r\n      onClick={(e) => {\r\n        if (e.target === e.currentTarget) onClose();\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity bg-black bg-opacity-50\" aria-hidden=\"true\"></div>\r\n\r\n        <div className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${sizeClasses[size]}`}>\r\n          {/* Header */}\r\n          <div className=\"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900\">{title}</h3>\r\n            {showCloseButton && (\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-500 transition-colors cursor-pointer\"\r\n              >\r\n                <i className=\"ri-close-line text-2xl\"></i>\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"bg-white px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { ReactNode } from 'react';\r\n\r\ninterface FormFieldProps {\r\n  label: string;\r\n  required?: boolean;\r\n  error?: string;\r\n  hint?: string;\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function FormField({ label, required = false, error, hint, children }: FormFieldProps) {\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <label className=\"block text-sm font-medium text-gray-700\">\r\n        {label}\r\n        {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n      </label>\r\n      {children}\r\n      {hint && <p className=\"text-xs text-gray-500\">{hint}</p>}\r\n      {error && <p className=\"text-xs text-red-500\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\r\n\r\ninterface DragDropListProps<T> {\r\n  items: T[];\r\n  onReorder: (reorderedItems: T[]) => void;\r\n  renderItem: (item: T, index: number) => React.ReactNode;\r\n  keyExtractor: (item: T) => string | number;\r\n  emptyMessage?: string;\r\n}\r\n\r\nexport default function DragDropList<T>({ \r\n  items, \r\n  onReorder, \r\n  renderItem, \r\n  keyExtractor,\r\n  emptyMessage = 'No items yet. Add your first item!'\r\n}: DragDropListProps<T>) {\r\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\r\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\r\n\r\n  const handleDragStart = (index: number) => {\r\n    setDraggedIndex(index);\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent, index: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex === null || draggedIndex === index) return;\r\n    setDragOverIndex(index);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent, dropIndex: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex === null) return;\r\n\r\n    const newItems = [...items];\r\n    const [draggedItem] = newItems.splice(draggedIndex, 1);\r\n    newItems.splice(dropIndex, 0, draggedItem);\r\n\r\n    // Update orderIndex for each item\r\n    const reorderedItems = newItems.map((item: any, index) => ({\r\n      ...item,\r\n      orderIndex: index\r\n    }));\r\n\r\n    onReorder(reorderedItems);\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n        <i className=\"ri-inbox-line text-4xl text-gray-400 mb-2\"></i>\r\n        <p className=\"text-gray-500\">{emptyMessage}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {items.map((item, index) => (\r\n        <div\r\n          key={keyExtractor(item)}\r\n          draggable\r\n          onDragStart={() => handleDragStart(index)}\r\n          onDragOver={(e) => handleDragOver(e, index)}\r\n          onDrop={(e) => handleDrop(e, index)}\r\n          onDragEnd={handleDragEnd}\r\n          className={`\r\n            transition-all duration-200 cursor-move\r\n            ${draggedIndex === index ? 'opacity-50' : ''}\r\n            ${dragOverIndex === index ? 'transform translate-y-2 border-blue-400' : ''}\r\n          `}\r\n        >\r\n          <div className=\"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-md\">\r\n            <div className=\"text-gray-400 cursor-grab active:cursor-grabbing\">\r\n              <i className=\"ri-drag-move-2-line text-2xl\"></i>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              {renderItem(item, index)}\r\n            </div>\r\n            <div className=\"text-xs text-gray-400 font-medium\">\r\n              #{index + 1}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../utils/api';\r\nimport { getImageUrl, getDefaultImageUrl } from '../../utils/imageUrl';\r\n\r\ninterface ImageSelectorProps {\r\n  value: number | string | null; // Can be mediaId (number) or URL (string)\r\n  onChange: (value: number | string | null) => void;\r\n  label?: string;\r\n  required?: boolean;\r\n  aspectRatio?: string;\r\n  currentImage?: { filePath: string; fileName?: string } | null; // Pre-loaded image data from backend\r\n}\r\n\r\ntype InputMode = 'upload' | 'gallery' | 'url' | null;\r\n\r\nexport default function ImageSelector({ \r\n  value, \r\n  onChange, \r\n  label = 'Image',\r\n  required = false,\r\n  aspectRatio = '16/9',\r\n  currentImage = null\r\n}: ImageSelectorProps) {\r\n  const [uploading, setUploading] = useState(false);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n  const [inputMode, setInputMode] = useState<InputMode>(null);\r\n  const [urlInput, setUrlInput] = useState('');\r\n  const [gallery, setGallery] = useState<any[]>([]);\r\n  const [loadingGallery, setLoadingGallery] = useState(false);\r\n  const [galleryPage, setGalleryPage] = useState(1);\r\n  const [selectedMedia, setSelectedMedia] = useState<any | null>(null);\r\n\r\n  // Determine if value is a mediaId (number) or URL (string)\r\n  const isMediaId = typeof value === 'number';\r\n  const isUrl = typeof value === 'string' && (value.startsWith('http') || value.startsWith('/uploads'));\r\n\r\n  // Fetch gallery on mount and when page changes\r\n  useEffect(() => {\r\n    if (inputMode === 'gallery') {\r\n      fetchGallery();\r\n    }\r\n  }, [inputMode, galleryPage]);\r\n\r\n  // Update preview when value or currentImage changes\r\n  useEffect(() => {\r\n    // If we have pre-loaded image data, use it immediately\r\n    if (currentImage && currentImage.filePath && isMediaId && value) {\r\n      const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n      setPreview(`${baseUrl}${currentImage.filePath}`);\r\n      setSelectedMedia({\r\n        id: value,\r\n        fileName: currentImage.fileName || '',\r\n        filePath: currentImage.filePath\r\n      });\r\n    } else if (isMediaId && value) {\r\n      fetchMediaPreview(value);\r\n    } else if (isUrl && value) {\r\n      setPreview(value.startsWith('http') ? value : getDefaultImageUrl(value.replace('/uploads/', '')));\r\n    } else {\r\n      setPreview(null);\r\n      setSelectedMedia(null);\r\n    }\r\n  }, [value, currentImage]);\r\n\r\n  const fetchMediaPreview = async (mediaId: number) => {\r\n    try {\r\n      const response = await api.get(`/media/${mediaId}`);\r\n      if (response.success && response.data) {\r\n        const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n        setPreview(`${baseUrl}${response.data.filePath}`);\r\n        setSelectedMedia(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching media:', error);\r\n    }\r\n  };\r\n\r\n  const fetchGallery = async () => {\r\n    setLoadingGallery(true);\r\n    try {\r\n      const response = await api.get(`/media?fileType=image&page=${galleryPage}&limit=20`);\r\n      if (response.success && response.data) {\r\n        setGallery(response.data.media || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching gallery:', error);\r\n      alert('Failed to load gallery. Please try again.');\r\n    } finally {\r\n      setLoadingGallery(false);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n      \r\n      const token = localStorage.getItem('auth_token');\r\n      const response = await fetch(`${import.meta.env.VITE_API_URL?.replace('/api/v1', '')}/api/v1/upload/image`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success && data.mediaId) {\r\n        onChange(data.mediaId);\r\n        const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n        setPreview(`${baseUrl}${data.imageUrl}`);\r\n        setInputMode(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      alert('Failed to upload image. Please try again.');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectFromGallery = (media: any) => {\r\n    onChange(media.id);\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    setPreview(`${baseUrl}${media.filePath}`);\r\n    setSelectedMedia(media);\r\n    setInputMode(null);\r\n  };\r\n\r\n  const handleUrlSubmit = () => {\r\n    if (urlInput.trim()) {\r\n      // If it's a full URL, store as string\r\n      // If it's a relative path like /uploads/2025/05/file.jpg, store as string\r\n      onChange(urlInput.trim());\r\n      setPreview(urlInput.startsWith('http') ? urlInput : getDefaultImageUrl(urlInput.replace('/uploads/', '')));\r\n      setUrlInput('');\r\n      setInputMode(null);\r\n    }\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    onChange(null);\r\n    setPreview(null);\r\n    setSelectedMedia(null);\r\n    setInputMode(null);\r\n  };\r\n\r\n  const getPreviewUrl = () => {\r\n    if (preview) return preview;\r\n    if (isMediaId && value) {\r\n      return `${import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002'}/placeholder`;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {label && (\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n        </label>\r\n      )}\r\n\r\n      {/* Preview */}\r\n      {getPreviewUrl() && (\r\n        <div className=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n          <div className=\"relative group\">\r\n            <img \r\n              src={getPreviewUrl() || ''}\r\n              alt=\"Preview\"\r\n              className={`w-full rounded-lg object-cover ${aspectRatio === '16/9' ? 'aspect-video' : aspectRatio === '1/1' ? 'aspect-square' : ''}`}\r\n              style={{ maxHeight: '300px' }}\r\n            />\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center\">\r\n              <div className=\"opacity-0 group-hover:opacity-100 flex space-x-2\">\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-edit-line mr-2\"></i>Change\r\n                </button>\r\n                <button\r\n                  onClick={handleRemove}\r\n                  className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-delete-bin-line mr-2\"></i>Remove\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {selectedMedia && (\r\n            <p className=\"mt-2 text-xs text-gray-500\">\r\n              {selectedMedia.fileName}\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Input Mode Selection */}\r\n      {!getPreviewUrl() || inputMode !== null ? (\r\n        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\r\n          {!inputMode ? (\r\n            <div className=\"text-center py-4\">\r\n              <p className=\"text-sm text-gray-500 mb-4\">Select image source:</p>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                <button\r\n                  onClick={() => setInputMode('upload')}\r\n                  className=\"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-upload-2-line mr-2\"></i>Upload\r\n                </button>\r\n                <button\r\n                  onClick={() => setInputMode('gallery')}\r\n                  className=\"px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-image-line mr-2\"></i>Gallery\r\n                </button>\r\n                <button\r\n                  onClick={() => setInputMode('url')}\r\n                  className=\"px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-links-line mr-2\"></i>URL\r\n                </button>\r\n              </div>\r\n              <button\r\n                onClick={() => setInputMode(null)}\r\n                className=\"mt-4 text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          ) : inputMode === 'upload' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Upload New Image</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileUpload}\r\n                disabled={uploading}\r\n                className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer\"\r\n              />\r\n              {uploading && (\r\n                <div className=\"text-sm text-blue-600\">\r\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>Uploading...\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : inputMode === 'gallery' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Choose from Gallery</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              {loadingGallery ? (\r\n                <div className=\"text-center py-8\">\r\n                  <i className=\"ri-loader-4-line animate-spin text-2xl text-gray-400\"></i>\r\n                  <p className=\"text-sm text-gray-500 mt-2\">Loading gallery...</p>\r\n                </div>\r\n              ) : gallery.length === 0 ? (\r\n                <div className=\"text-center py-8 text-sm text-gray-500\">\r\n                  No images in gallery\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto\">\r\n                  {gallery.map((media) => {\r\n                    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n                    const mediaUrl = `${baseUrl}${media.filePath}`;\r\n                    return (\r\n                      <div\r\n                        key={media.id}\r\n                        onClick={() => handleSelectFromGallery(media)}\r\n                        className={`relative aspect-square cursor-pointer rounded-lg overflow-hidden border-2 ${\r\n                          selectedMedia?.id === media.id ? 'border-blue-500' : 'border-gray-200'\r\n                        } hover:border-blue-300`}\r\n                      >\r\n                        <img\r\n                          src={mediaUrl}\r\n                          alt={media.fileName}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : inputMode === 'url' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Enter Image URL</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={urlInput}\r\n                  onChange={(e) => setUrlInput(e.target.value)}\r\n                  placeholder=\"https://example.com/image.jpg or /uploads/2025/05/image.jpg\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleUrlSubmit()}\r\n                />\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={handleUrlSubmit}\r\n                    className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer\"\r\n                  >\r\n                    Use URL\r\n                  </button>\r\n                  {urlInput && (\r\n                    <div className=\"flex-1 border border-gray-200 rounded-lg p-2\">\r\n                      <img\r\n                        src={urlInput.startsWith('http') ? urlInput : getDefaultImageUrl(urlInput.replace('/uploads/', ''))}\r\n                        alt=\"Preview\"\r\n                        className=\"w-full h-20 object-cover rounded\"\r\n                        onError={(e) => {\r\n                          (e.target as HTMLImageElement).style.display = 'none';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-xs text-gray-500\">\r\n                  Supports local paths (/uploads/YYYY/MM/filename.jpg) or external URLs (https://...)\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center\">\r\n          <button\r\n            onClick={() => setInputMode(null)}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer\"\r\n          >\r\n            <i className=\"ri-edit-line mr-2\"></i>Change Image\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype SectionTab = 'hero' | 'about' | 'stats' | 'products' | 'quality' | 'specialties' | 'testimonials' | 'contact';\n\ninterface HeroSection {\n  id?: number;\n  title: string;\n  subtitle: string;\n  backgroundImageId: number | null;\n  titleColor: string;\n  subtitleColor: string;\n  overlayOpacity: number;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface AboutParagraph {\n  id: number;\n  content: string;\n  orderIndex: number;\n}\n\ninterface AboutSection {\n  id?: number;\n  title: string | null;\n  subtitle: string | null;\n  introText: string | null;\n  mainImageId: number | null;\n  ctaText: string | null;\n  ctaUrl: string | null;\n  mainImage?: {\n    filePath: string;\n    altText: string;\n  };\n  paragraphs?: AboutParagraph[];\n}\n\ninterface Stat {\n  id: number;\n  iconClass: string;\n  imageId: number | null;\n  number: string;\n  label: string;\n  orderIndex: number;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface QualitySection {\n  id?: number;\n  title: string;\n  content: string;\n  imageId: number | null;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface ProductsSection {\n  id?: number;\n  heading: string;\n  description: string;\n  ctaText: string;\n  ctaUrl: string;\n}\n\ninterface SpecialtiesSection {\n  id?: number;\n  heading: string;\n  description: string;\n  imageId: number | null;\n  ctaText: string;\n  ctaUrl: string;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface TestimonialsSection {\n  id?: number;\n  subtitle: string;\n  heading: string;\n}\n\ninterface ContactSection {\n  id?: number;\n  heading: string;\n  companyName: string;\n  address: string;\n  phone: string;\n  email: string;\n  imageId: number | null;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function HomePageManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('hero');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Hero Section\n  const [heroData, setHeroData] = useState<HeroSection>({\n    title: '',\n    subtitle: '',\n    backgroundImageId: null,\n    titleColor: '#FFFFFF',\n    subtitleColor: '#FFFFFF',\n    overlayOpacity: 40\n  });\n\n  // About Section\n  const [aboutData, setAboutData] = useState<AboutSection>({\n    title: null,\n    subtitle: null,\n    introText: null,\n    mainImageId: null,\n    ctaText: null,\n    ctaUrl: null\n  });\n  const [aboutParagraphs, setAboutParagraphs] = useState<AboutParagraph[]>([]);\n  const [showParagraphModal, setShowParagraphModal] = useState(false);\n  const [editingParagraph, setEditingParagraph] = useState<AboutParagraph | null>(null);\n\n  // Stats\n  const [stats, setStats] = useState<Stat[]>([]);\n  const [showStatModal, setShowStatModal] = useState(false);\n  const [editingStat, setEditingStat] = useState<Stat | null>(null);\n\n  // Quality Section\n  const [qualityData, setQualityData] = useState<QualitySection>({\n    title: '',\n    content: '',\n    imageId: null\n  });\n\n  // Products Section\n  const [productsData, setProductsData] = useState<ProductsSection>({\n    heading: '',\n    description: '',\n    ctaText: '',\n    ctaUrl: ''\n  });\n\n  // Specialties Section\n  const [specialtiesData, setSpecialtiesData] = useState<SpecialtiesSection>({\n    heading: '',\n    description: '',\n    imageId: null,\n    ctaText: '',\n    ctaUrl: ''\n  });\n\n  // Testimonials Section\n  const [testimonialsData, setTestimonialsData] = useState<TestimonialsSection>({\n    subtitle: '',\n    heading: ''\n  });\n\n  // Contact Section\n  const [contactData, setContactData] = useState<ContactSection>({\n    heading: '',\n    companyName: '',\n    address: '',\n    phone: '',\n    email: '',\n    imageId: null\n  });\n\n  const sectionTabs = [\n    { id: 'hero' as SectionTab, label: 'Hero Section', icon: 'ri-image-line' },\n    { id: 'about' as SectionTab, label: 'About Section', icon: 'ri-information-line' },\n    { id: 'stats' as SectionTab, label: 'Statistics', icon: 'ri-bar-chart-line' },\n    { id: 'products' as SectionTab, label: 'Products Section', icon: 'ri-shopping-bag-line' },\n    { id: 'quality' as SectionTab, label: 'Quality Section', icon: 'ri-shield-check-line' },\n    { id: 'specialties' as SectionTab, label: 'Specialties Section', icon: 'ri-medicine-bottle-line' },\n    { id: 'testimonials' as SectionTab, label: 'Testimonials Section', icon: 'ri-quote-text-line' },\n    { id: 'contact' as SectionTab, label: 'Contact Section', icon: 'ri-phone-line' }\n  ];\n\n  // Fetch data on mount and section change\n  useEffect(() => {\n    fetchSectionData();\n  }, [activeSection]);\n\n  const fetchSectionData = async () => {\n    setLoading(true);\n    try {\n      switch (activeSection) {\n        case 'hero':\n          const heroRes = await api.get<HeroSection>('/home-hero-section');\n          if (heroRes.success && heroRes.data) {\n            setHeroData(heroRes.data as HeroSection);\n          }\n          break;\n        case 'about':\n          const aboutRes = await api.get<AboutSection>('/home-about-section');\n          if (aboutRes.success && aboutRes.data) {\n            const data = aboutRes.data as AboutSection;\n            setAboutData({\n              id: data.id,\n              title: data.title || null,\n              subtitle: data.subtitle || null,\n              introText: data.introText || null,\n              mainImageId: data.mainImageId || null,\n              ctaText: data.ctaText || null,\n              ctaUrl: data.ctaUrl || null,\n              mainImage: data.mainImage\n            });\n            setAboutParagraphs(data.paragraphs || []);\n          } else {\n            // Initialize with empty values if no data exists\n            setAboutData({\n              title: null,\n              subtitle: null,\n              introText: null,\n              mainImageId: null,\n              ctaText: null,\n              ctaUrl: null\n            });\n            setAboutParagraphs([]);\n          }\n          break;\n        case 'stats':\n          const statsRes = await api.get<Stat[]>('/home-stats');\n          if (statsRes.success && statsRes.data) {\n            setStats((statsRes.data as Stat[]).sort((a, b) => a.orderIndex - b.orderIndex));\n          }\n          break;\n        case 'products':\n          const productsRes = await api.get<ProductsSection>('/home-products-section');\n          if (productsRes.success && productsRes.data) {\n            setProductsData(productsRes.data as ProductsSection);\n          }\n          break;\n        case 'quality':\n          const qualityRes = await api.get<QualitySection>('/home-quality-section');\n          if (qualityRes.success && qualityRes.data) {\n            setQualityData(qualityRes.data as QualitySection);\n          }\n          break;\n        case 'specialties':\n          const specialtiesRes = await api.get<SpecialtiesSection>('/home-specialties-section');\n          if (specialtiesRes.success && specialtiesRes.data) {\n            setSpecialtiesData(specialtiesRes.data as SpecialtiesSection);\n          }\n          break;\n        case 'testimonials':\n          const testimonialsRes = await api.get<TestimonialsSection>('/home-testimonials-section');\n          if (testimonialsRes.success && testimonialsRes.data) {\n            setTestimonialsData(testimonialsRes.data as TestimonialsSection);\n          }\n          break;\n        case 'contact':\n          const contactRes = await api.get<ContactSection>('/home-contact-section');\n          if (contactRes.success && contactRes.data) {\n            setContactData(contactRes.data as ContactSection);\n          }\n          break;\n      }\n    } catch (error: any) {\n      console.error('Error fetching data:', error);\n      alert(error.message || 'Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveHero = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-hero-section', heroData);\n      if (response.success) {\n        alert('Hero section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveAbout = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-about-section', { ...aboutData, paragraphs: aboutParagraphs });\n      if (response.success) {\n        alert('About section saved successfully!');\n        // Refresh the data\n        const aboutRes = await api.get<AboutSection>('/home-about-section');\n        if (aboutRes.success && aboutRes.data) {\n          const data = aboutRes.data as AboutSection;\n          setAboutData({\n            id: data.id,\n            title: data.title || null,\n            subtitle: data.subtitle || null,\n            introText: data.introText || null,\n            mainImageId: data.mainImageId || null,\n            ctaText: data.ctaText || null,\n            ctaUrl: data.ctaUrl || null,\n            mainImage: data.mainImage\n          });\n          setAboutParagraphs(data.paragraphs || []);\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveParagraph = async (paragraph: AboutParagraph) => {\n    setSaving(true);\n    try {\n      if (paragraph.id) {\n        await api.put(`/home-about-paragraphs/${paragraph.id}`, paragraph);\n      } else {\n        await api.post('/home-about-paragraphs', { ...paragraph, orderIndex: aboutParagraphs.length });\n      }\n      setShowParagraphModal(false);\n      setEditingParagraph(null);\n      fetchSectionData();\n      alert('Paragraph saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteParagraph = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this paragraph?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/home-about-paragraphs/${id}`);\n      setAboutParagraphs(aboutParagraphs.filter(p => p.id !== id));\n      alert('Paragraph deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderParagraphs = async (reorderedParagraphs: AboutParagraph[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedParagraphs.length; i++) {\n        await api.put(`/home-about-paragraphs/${reorderedParagraphs[i].id}`, {\n          ...reorderedParagraphs[i],\n          orderIndex: i\n        });\n      }\n      setAboutParagraphs(reorderedParagraphs);\n      alert('Paragraphs order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveStats = async (reorderedStats: Stat[]) => {\n    setSaving(true);\n    try {\n      // Update orderIndex for each stat\n      for (let i = 0; i < reorderedStats.length; i++) {\n        await api.put(`/home-stats/${reorderedStats[i].id}`, {\n          ...reorderedStats[i],\n          orderIndex: i\n        });\n      }\n      setStats(reorderedStats);\n      alert('Statistics order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveStat = async (stat: Stat) => {\n    setSaving(true);\n    try {\n      if (stat.id) {\n        await api.put(`/home-stats/${stat.id}`, stat);\n      } else {\n        await api.post('/home-stats', { ...stat, orderIndex: stats.length });\n      }\n      setShowStatModal(false);\n      setEditingStat(null);\n      fetchSectionData();\n      alert('Stat saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteStat = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this statistic?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/home-stats/${id}`);\n      setStats(stats.filter(s => s.id !== id));\n      alert('Stat deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveQuality = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-quality-section', qualityData);\n      if (response.success) {\n        alert('Quality section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveProducts = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-products-section', productsData);\n      if (response.success) {\n        alert('Products section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSpecialties = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-specialties-section', specialtiesData);\n      if (response.success) {\n        alert('Specialties section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveTestimonials = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-testimonials-section', testimonialsData);\n      if (response.success) {\n        alert('Testimonials section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveContact = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-contact-section', contactData);\n      if (response.success) {\n        alert('Contact section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Home Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage all sections of your home page</p>\n      </div>\n\n      {/* Section Tabs */}\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sectionTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveSection(tab.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === tab.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={tab.icon}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Section Content */}\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : (\n            <>\n              {activeSection === 'hero' && (\n                <HeroSectionEditor\n                  data={heroData}\n                  onChange={setHeroData}\n                  onSave={handleSaveHero}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'about' && (\n                <AboutSectionEditor\n                  data={aboutData}\n                  onChange={setAboutData}\n                  onSave={handleSaveAbout}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                  paragraphs={aboutParagraphs}\n                  onAddParagraph={() => {\n                    setEditingParagraph({\n                      id: 0,\n                      content: '',\n                      orderIndex: aboutParagraphs.length\n                    });\n                    setShowParagraphModal(true);\n                  }}\n                  onEditParagraph={(p) => {\n                    setEditingParagraph(p);\n                    setShowParagraphModal(true);\n                  }}\n                  onDeleteParagraph={handleDeleteParagraph}\n                  onReorderParagraphs={handleReorderParagraphs}\n                />\n              )}\n              {activeSection === 'stats' && (\n                <StatsSectionEditor\n                  stats={stats}\n                  onReorder={handleSaveStats}\n                  onEdit={(stat) => {\n                    setEditingStat(stat);\n                    setShowStatModal(true);\n                  }}\n                  onDelete={handleDeleteStat}\n                  onAdd={() => {\n                    setEditingStat({\n                      id: 0,\n                      iconClass: '',\n                      imageId: null,\n                      number: '',\n                      label: '',\n                      orderIndex: stats.length\n                    });\n                    setShowStatModal(true);\n                  }}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'products' && (\n                <ProductsSectionEditor\n                  data={productsData}\n                  onChange={setProductsData}\n                  onSave={handleSaveProducts}\n                  saving={saving}\n                />\n              )}\n              {activeSection === 'quality' && (\n                <QualitySectionEditor\n                  data={qualityData}\n                  onChange={setQualityData}\n                  onSave={handleSaveQuality}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'specialties' && (\n                <SpecialtiesSectionEditor\n                  data={specialtiesData}\n                  onChange={setSpecialtiesData}\n                  onSave={handleSaveSpecialties}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'testimonials' && (\n                <TestimonialsSectionEditor\n                  data={testimonialsData}\n                  onChange={setTestimonialsData}\n                  onSave={handleSaveTestimonials}\n                  saving={saving}\n                />\n              )}\n              {activeSection === 'contact' && (\n                <ContactSectionEditor\n                  data={contactData}\n                  onChange={setContactData}\n                  onSave={handleSaveContact}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Stat Modal */}\n      {showStatModal && editingStat && (\n        <StatModal\n          stat={editingStat}\n          onSave={handleSaveStat}\n          onClose={() => {\n            setShowStatModal(false);\n            setEditingStat(null);\n          }}\n          saving={saving}\n          getImageUrl={getImageUrl}\n        />\n      )}\n\n      {/* Paragraph Modal */}\n      {showParagraphModal && editingParagraph && (\n        <ParagraphModal\n          paragraph={editingParagraph}\n          onSave={handleSaveParagraph}\n          onClose={() => {\n            setShowParagraphModal(false);\n            setEditingParagraph(null);\n          }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\n// Hero Section Editor\nfunction HeroSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Hero Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={data.title}\n            onChange={(e) => onChange({ ...data, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero title\"\n          />\n        </FormField>\n\n        <FormField label=\"Subtitle\">\n          <input\n            type=\"text\"\n            value={data.subtitle || ''}\n            onChange={(e) => onChange({ ...data, subtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter subtitle\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={data.backgroundImageId}\n          onChange={(id) => onChange({ ...data, backgroundImageId: id })}\n          label=\"Background Image\"\n        />\n\n        <FormField label=\"Title Color\">\n          <input\n            type=\"color\"\n            value={data.titleColor}\n            onChange={(e) => onChange({ ...data, titleColor: e.target.value })}\n            className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\n          />\n        </FormField>\n\n        <FormField label=\"Subtitle Color\">\n          <input\n            type=\"color\"\n            value={data.subtitleColor}\n            onChange={(e) => onChange({ ...data, subtitleColor: e.target.value })}\n            className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\n          />\n        </FormField>\n\n        <FormField label=\"Overlay Opacity\" hint=\"0-100\">\n          <input\n            type=\"number\"\n            min=\"0\"\n            max=\"100\"\n            value={data.overlayOpacity}\n            onChange={(e) => onChange({ ...data, overlayOpacity: parseInt(e.target.value) })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n      </div>\n\n      {/* Preview */}\n      {data.backgroundImage && (\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">Preview:</p>\n          <div className=\"relative rounded-lg overflow-hidden\" style={{ height: '300px' }}>\n            <img\n              src={getImageUrl(data.backgroundImage)}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n            />\n            <div\n              className=\"absolute inset-0 flex items-center justify-center text-center px-8\"\n              style={{\n                backgroundColor: `rgba(0,0,0,${data.overlayOpacity / 100})`\n              }}\n            >\n              <div>\n                <h1 style={{ color: data.titleColor }} className=\"text-3xl font-bold mb-2\">\n                  {data.title}\n                </h1>\n                <p style={{ color: data.subtitleColor }} className=\"text-lg\">\n                  {data.subtitle}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// About Section Editor\nfunction AboutSectionEditor({ \n  data, \n  onChange, \n  onSave, \n  saving, \n  getImageUrl,\n  paragraphs = [],\n  onAddParagraph,\n  onEditParagraph,\n  onDeleteParagraph,\n  onReorderParagraphs\n}: any) {\n  // Safety checks\n  const safeData = data || {};\n  const safeParagraphs = Array.isArray(paragraphs) ? paragraphs : [];\n  \n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">About Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Title\">\n            <input\n              type=\"text\"\n              value={safeData.title || ''}\n              onChange={(e) => onChange({ ...safeData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Section Title (optional)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Subtitle\">\n            <input\n              type=\"text\"\n              value={safeData.subtitle || ''}\n              onChange={(e) => onChange({ ...safeData, subtitle: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Section Subtitle (optional)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text (Fallback if no paragraphs)\">\n            <textarea\n              value={safeData.introText || ''}\n              onChange={(e) => onChange({ ...safeData, introText: e.target.value })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter intro text (used if no paragraphs are added)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={safeData.mainImageId || null}\n            onChange={(id) => onChange({ ...safeData, mainImageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n              value={safeData.ctaText || ''}\n              onChange={(e) => onChange({ ...safeData, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"More About Us\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n              value={safeData.ctaUrl || ''}\n              onChange={(e) => onChange({ ...safeData, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/about\"\n          />\n        </FormField>\n      </div>\n\n      {/* Paragraphs Section */}\n      <div className=\"border-t pt-6 mt-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h4 className=\"text-md font-semibold text-gray-900\">Paragraphs</h4>\n          <button\n            onClick={() => onAddParagraph && onAddParagraph()}\n            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Paragraph\n          </button>\n        </div>\n\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <p className=\"text-sm text-gray-600 mb-4\">\n            <i className=\"ri-information-line mr-2\"></i>\n            Add multiple paragraphs. Drag and drop to reorder. If paragraphs are added, they will be displayed instead of the intro text.\n          </p>\n\n          <DragDropList\n            items={safeParagraphs}\n            onReorder={onReorderParagraphs || (() => {})}\n            keyExtractor={(p: any) => p.id}\n            emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to get started!\"\n            renderItem={(paragraph: any) => (\n              <div className=\"flex items-center justify-between w-full\">\n                <div className=\"flex-1\">\n                  <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                </div>\n                <div className=\"flex items-center space-x-2 ml-4\">\n                  <button\n                    onClick={() => onEditParagraph && onEditParagraph(paragraph)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onDeleteParagraph && onDeleteParagraph(paragraph.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Paragraph Modal\nfunction ParagraphModal({ paragraph, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(paragraph || { id: 0, content: '', orderIndex: 0 });\n  \n  // Update formData when paragraph prop changes\n  useEffect(() => {\n    if (paragraph) {\n      setFormData(paragraph);\n    }\n  }, [paragraph]);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={paragraph?.id ? 'Edit Paragraph' : 'Add Paragraph'} size=\"md\">\n      <div className=\"space-y-4\">\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData?.content || ''}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={6}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter paragraph content\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData?.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Stats Section Editor\nfunction StatsSectionEditor({ stats, onReorder, onEdit, onDelete, onAdd, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Statistics</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Statistic\n        </button>\n      </div>\n\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <p className=\"text-sm text-gray-600 mb-4\">\n          <i className=\"ri-information-line mr-2\"></i>\n          Drag and drop items to reorder them. Changes are saved automatically.\n        </p>\n\n        <DragDropList\n          items={stats}\n          onReorder={onReorder}\n          keyExtractor={(stat: Stat) => stat.id}\n          emptyMessage=\"No statistics yet. Click 'Add Statistic' to get started!\"\n          renderItem={(stat: Stat) => (\n            <div className=\"flex items-center justify-between w-full\">\n              <div className=\"flex items-center space-x-4\">\n                {stat.image && stat.image.filePath ? (\n                  <img \n                    src={getImageUrl(stat.image)} \n                    alt={stat.image.altText || stat.label} \n                    className=\"h-10 w-10 object-contain\"\n                  />\n                ) : stat.iconClass ? (\n                  <i className={`${stat.iconClass} text-2xl text-blue-600`}></i>\n                ) : (\n                  <div className=\"h-10 w-10 bg-gray-200 rounded flex items-center justify-center\">\n                    <i className=\"ri-image-line text-gray-400\"></i>\n                  </div>\n                )}\n                <div>\n                  <p className=\"font-semibold text-gray-900\">{stat.number}</p>\n                  <p className=\"text-sm text-gray-600\">{stat.label}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => onEdit(stat)}\n                  className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                >\n                  <i className=\"ri-edit-line\"></i>\n                </button>\n                <button\n                  onClick={() => onDelete(stat.id)}\n                  className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                >\n                  <i className=\"ri-delete-bin-line\"></i>\n                </button>\n              </div>\n            </div>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n\n// Quality Section Editor\nfunction QualitySectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Quality Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={data.title || ''}\n            onChange={(e) => onChange({ ...data, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Content\" required>\n            <textarea\n              value={data.content || ''}\n              onChange={(e) => onChange({ ...data, content: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Products Section Editor\nfunction ProductsSectionEditor({ data, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Products Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={data.heading || ''}\n              onChange={(e) => onChange({ ...data, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Our Products\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Description\">\n            <textarea\n              value={data.description || ''}\n              onChange={(e) => onChange({ ...data, description: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter products section description\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n            value={data.ctaText || ''}\n            onChange={(e) => onChange({ ...data, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"View All Products\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n            value={data.ctaUrl || ''}\n            onChange={(e) => onChange({ ...data, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n      </div>\n    </div>\n  );\n}\n\n// Specialties Section Editor\nfunction SpecialtiesSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Specialties Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={data.heading || ''}\n              onChange={(e) => onChange({ ...data, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Our Specialties\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Description\">\n            <textarea\n              value={data.description || ''}\n              onChange={(e) => onChange({ ...data, description: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter specialties section description\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n            value={data.ctaText || ''}\n            onChange={(e) => onChange({ ...data, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Explore Products\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n            value={data.ctaUrl || ''}\n            onChange={(e) => onChange({ ...data, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n      </div>\n    </div>\n  );\n}\n\n// Testimonials Section Editor\nfunction TestimonialsSectionEditor({ data, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Testimonials Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Subtitle\">\n          <input\n            type=\"text\"\n            value={data.subtitle || ''}\n            onChange={(e) => onChange({ ...data, subtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Testimonial\"\n          />\n        </FormField>\n\n        <FormField label=\"Heading\">\n          <input\n            type=\"text\"\n            value={data.heading || ''}\n            onChange={(e) => onChange({ ...data, heading: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Client Stories & Experiences\"\n          />\n        </FormField>\n      </div>\n\n      <div className=\"bg-blue-50 p-4 rounded-lg\">\n        <p className=\"text-sm text-gray-600\">\n          <i className=\"ri-information-line mr-2\"></i>\n          Note: Testimonials content is managed separately. This section only controls the header.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// Contact Section Editor\nfunction ContactSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Contact Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={data.heading || ''}\n              onChange={(e) => onChange({ ...data, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Contact Us\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Company Name\">\n            <input\n              type=\"text\"\n              value={data.companyName || ''}\n              onChange={(e) => onChange({ ...data, companyName: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"ADONIS MEDICAL SYSTEMS PVT LTD\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Address\">\n            <textarea\n              value={data.address || ''}\n              onChange={(e) => onChange({ ...data, address: e.target.value })}\n              rows={3}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071.\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"Phone\">\n          <input\n            type=\"text\"\n            value={data.phone || ''}\n            onChange={(e) => onChange({ ...data, phone: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"9872003273\"\n          />\n        </FormField>\n\n        <FormField label=\"Email\">\n          <input\n            type=\"email\"\n            value={data.email || ''}\n            onChange={(e) => onChange({ ...data, email: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"support@adonismedical.com\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Stat Modal\nfunction StatModal({ stat, onSave, onClose, saving, getImageUrl }: any) {\n  const [formData, setFormData] = useState(stat);\n\n  // Validation: Either iconClass or imageId must be provided\n  const isValid = formData.number && formData.label && (formData.iconClass || formData.imageId);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={stat.id ? 'Edit Statistic' : 'Add Statistic'} size=\"md\">\n      <div className=\"space-y-4\">\n        <FormField label=\"Icon Class\" hint=\"Use RemixIcon class names (e.g., ri-user-line) or upload an image below\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-number-1\"\n          />\n          {formData.iconClass && (\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Preview: <i className={formData.iconClass}></i>\n            </div>\n          )}\n        </FormField>\n\n        <div className=\"border-t pt-4\">\n          <p className=\"text-sm font-medium text-gray-700 mb-2\">OR</p>\n          <ImageSelector\n            value={formData.imageId || null}\n            onChange={(id) => setFormData({ ...formData, imageId: id })}\n            label=\"Upload Icon Image (JPG, PNG, SVG, etc.)\"\n          />\n          {formData.image && formData.image.filePath && (\n            <div className=\"mt-2\">\n              <p className=\"text-xs text-gray-500 mb-1\">Current Image:</p>\n              <img \n                src={getImageUrl(formData.image)} \n                alt={formData.image.altText || 'Stat icon'} \n                className=\"h-12 w-12 object-contain border border-gray-200 rounded\"\n              />\n            </div>\n          )}\n        </div>\n\n        <FormField label=\"Number/Value\" required>\n          <input\n            type=\"text\"\n            value={formData.number || ''}\n            onChange={(e) => setFormData({ ...formData, number: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"100+\"\n          />\n        </FormField>\n\n        <FormField label=\"Label\" required>\n          <input\n            type=\"text\"\n            value={formData.label || ''}\n            onChange={(e) => setFormData({ ...formData, label: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Happy Clients\"\n          />\n        </FormField>\n\n        <div className=\"bg-blue-50 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">\n            <i className=\"ri-information-line mr-1\"></i>\n            You can use either an icon class or upload an image. If both are provided, the image will take priority.\n          </p>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !isValid}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype SectionTab = 'header' | 'footer';\n\ninterface NavigationItem {\n  id: number;\n  label: string;\n  url: string | null;\n  parentId: number | null;\n  orderIndex: number;\n  isActive: boolean;\n  openInNewTab: boolean;\n  children?: NavigationItem[];\n}\n\ninterface FooterSection {\n  id: number;\n  title: string;\n  orderIndex: number;\n  links?: FooterLink[];\n}\n\ninterface FooterLink {\n  id: number;\n  footerSectionId: number;\n  label: string;\n  url: string;\n  iconSvg: string | null;\n  iconImageId: number | null;\n  orderIndex: number;\n  iconImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface FooterLogo {\n  id: number;\n  name: string;\n  logoImageId: number | null;\n  orderIndex: number;\n  isActive: boolean;\n  logoImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function HeaderFooterManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('header');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [navItems, setNavItems] = useState<NavigationItem[]>([]);\n  const [showNavModal, setShowNavModal] = useState(false);\n  const [editingNavItem, setEditingNavItem] = useState<NavigationItem | null>(null);\n\n  const [footerSections, setFooterSections] = useState<FooterSection[]>([]);\n  const [showSectionModal, setShowSectionModal] = useState(false);\n  const [showLinkModal, setShowLinkModal] = useState(false);\n  const [editingSection, setEditingSection] = useState<FooterSection | null>(null);\n  const [editingLink, setEditingLink] = useState<FooterLink | null>(null);\n  const [selectedSectionId, setSelectedSectionId] = useState<number | null>(null);\n  \n  // Footer Logos\n  const [footerLogos, setFooterLogos] = useState<FooterLogo[]>([]);\n  const [showLogoModal, setShowLogoModal] = useState(false);\n  const [editingLogo, setEditingLogo] = useState<FooterLogo | null>(null);\n  \n  // Social Links\n  const [socialLinks, setSocialLinks] = useState<any[]>([]);\n  const [showSocialModal, setShowSocialModal] = useState(false);\n  const [editingSocial, setEditingSocial] = useState<any | null>(null);\n\n  useEffect(() => {\n    if (activeSection === 'header') {\n      fetchNavItems();\n    } else {\n      fetchFooterSections();\n      fetchFooterLogos();\n      fetchSocialLinks();\n    }\n  }, [activeSection]);\n\n  const fetchNavItems = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<NavigationItem[]>('/navigation');\n      if (response.success && response.data) {\n        const allItems = response.data as NavigationItem[];\n        // Get top-level items (no parentId)\n        const topLevelItems = allItems\n          .filter(item => !item.parentId)\n          .sort((a, b) => a.orderIndex - b.orderIndex);\n        \n        // Attach children to each parent item\n        const itemsWithChildren = topLevelItems.map(item => {\n          const children = allItems\n            .filter(child => child.parentId === item.id)\n            .sort((a, b) => a.orderIndex - b.orderIndex);\n          return { ...item, children: children.length > 0 ? children : undefined };\n        });\n        \n        setNavItems(itemsWithChildren);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFooterSections = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<FooterSection[]>('/footer/sections');\n      if (response.success && response.data) {\n        const sections = (response.data as FooterSection[])\n          .sort((a, b) => a.orderIndex - b.orderIndex);\n        setFooterSections(sections);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFooterLogos = async () => {\n    try {\n      const response = await api.get<FooterLogo[]>('/footer/logos');\n      if (response.success && response.data) {\n        setFooterLogos((response.data as FooterLogo[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching footer logos:', error);\n    }\n  };\n\n  const fetchSocialLinks = async () => {\n    try {\n      const response = await api.get<any[]>('/social-links');\n      if (response.success && response.data) {\n        setSocialLinks((response.data as any[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching social links:', error);\n    }\n  };\n\n  const handleSaveNavItem = async (item: NavigationItem) => {\n    setSaving(true);\n    try {\n      if (item.id && item.id > 0) {\n        await api.put(`/navigation/${item.id}`, item);\n      } else {\n        await api.post('/navigation', { ...item, orderIndex: navItems.length });\n      }\n      setShowNavModal(false);\n      setEditingNavItem(null);\n      fetchNavItems();\n      alert('Navigation item saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteNavItem = async (id: number) => {\n    if (!confirm('Delete this navigation item?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/navigation/${id}`);\n      setNavItems(navItems.filter(n => n.id !== id));\n      alert('Navigation item deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFooterSection = async (section: FooterSection) => {\n    setSaving(true);\n    try {\n      if (section.id && section.id > 0) {\n        await api.put(`/footer/sections/${section.id}`, section);\n      } else {\n        await api.post('/footer/sections', { ...section, orderIndex: footerSections.length });\n      }\n      setShowSectionModal(false);\n      setEditingSection(null);\n      fetchFooterSections();\n      alert('Footer section saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFooterSection = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this footer section? This will also delete all links within this section.')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/footer/sections/${id}`);\n      setFooterSections(footerSections.filter(s => s.id !== id));\n      alert('Footer section deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFooterLink = async (link: FooterLink) => {\n    setSaving(true);\n    try {\n      if (link.id && link.id > 0) {\n        await api.put(`/footer/links/${link.id}`, link);\n      } else {\n        const section = footerSections.find(s => s.id === selectedSectionId);\n        await api.post('/footer/links', { ...link, footerSectionId: selectedSectionId, iconSvg: link.iconSvg || null, iconImageId: link.iconImageId || null, orderIndex: section?.links?.length || 0 });\n      }\n      setShowLinkModal(false);\n      setEditingLink(null);\n      fetchFooterSections();\n      alert('Footer link saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFooterLink = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this link?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/footer/links/${id}`);\n      fetchFooterSections();\n      alert('Footer link deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLogo = async (logo: FooterLogo) => {\n    setSaving(true);\n    try {\n      if (logo.id && logo.id > 0) {\n        await api.put(`/footer/logos/${logo.id}`, logo);\n      } else {\n        await api.post('/footer/logos', logo);\n      }\n      setShowLogoModal(false);\n      setEditingLogo(null);\n      fetchFooterLogos();\n      alert('Logo saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSocial = async (social: any) => {\n    setSaving(true);\n    try {\n      if (social.id && social.id > 0) {\n        await api.put(`/social-links/${social.id}`, social);\n      } else {\n        await api.post('/social-links', social);\n      }\n      setShowSocialModal(false);\n      setEditingSocial(null);\n      fetchSocialLinks();\n      alert('Social link saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Header & Footer Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage navigation menu and footer content</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveSection('header')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeSection === 'header' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Navigation\n            </button>\n            <button onClick={() => setActiveSection('footer')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeSection === 'footer' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Footer\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeSection === 'header' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Navigation Menu</h3>\n                <button onClick={() => { setEditingNavItem({ id: 0, label: '', url: null, parentId: null, orderIndex: navItems.length, isActive: true, openInNewTab: false }); setShowNavModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Item\n                </button>\n              </div>\n              {navItems.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-menu-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No navigation items yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {navItems.map((item) => (\n                    <div key={item.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2\">\n                            <h4 className=\"font-semibold text-gray-900\">{item.label}</h4>\n                            {item.children && item.children.length > 0 && (\n                              <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full\">\n                                {item.children.length} sub-menu{item.children.length !== 1 ? 's' : ''}\n                              </span>\n                            )}\n                          </div>\n                          {item.url && <p className=\"text-sm text-gray-600 mt-1\">{item.url}</p>}\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`px-2 py-1 text-xs rounded-full ${item.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                            {item.isActive ? 'Active' : 'Inactive'}\n                          </span>\n                          <button \n                            onClick={() => { \n                              setEditingNavItem({ id: 0, label: '', url: null, parentId: item.id, orderIndex: item.children?.length || 0, isActive: true, openInNewTab: false }); \n                              setShowNavModal(true); \n                            }} \n                            className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n                            title=\"Add Sub-menu\"\n                          >\n                            <i className=\"ri-add-line mr-1\"></i>Sub-menu\n                          </button>\n                          <button onClick={() => { setEditingNavItem(item); setShowNavModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteNavItem(item.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      {/* Show children/sub-menus */}\n                      {item.children && item.children.length > 0 && (\n                        <div className=\"ml-4 mt-3 space-y-2 border-l-2 border-gray-300 pl-4\">\n                          {item.children.map((child) => (\n                            <div key={child.id} className=\"flex items-center justify-between bg-white border border-gray-200 rounded p-2\">\n                              <div>\n                                <span className=\"text-sm font-medium text-gray-700\">{child.label}</span>\n                                {child.url && <span className=\"text-xs text-gray-500 ml-2\">{child.url}</span>}\n                              </div>\n                              <div className=\"flex items-center space-x-2\">\n                                <span className={`px-2 py-0.5 text-xs rounded-full ${child.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                                  {child.isActive ? 'Active' : 'Inactive'}\n                                </span>\n                                <button onClick={() => { setEditingNavItem(child); setShowNavModal(true); }} className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\">\n                                  <i className=\"ri-edit-line text-sm\"></i>\n                                </button>\n                                <button onClick={() => handleDeleteNavItem(child.id)} className=\"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\">\n                                  <i className=\"ri-delete-bin-line text-sm\"></i>\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"space-y-8\">\n              {/* Logo and Social Media Section */}\n              <div className=\"border-b pb-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Logo and Social Media Icons</h3>\n                \n                <div className=\"space-y-4 mb-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <h4 className=\"text-md font-medium text-gray-700\">Logos</h4>\n                    <button \n                      onClick={() => {\n                        const existingRefex = footerLogos.find(l => l.name === 'refex');\n                        const existingAdonis = footerLogos.find(l => l.name === 'adonis');\n                        if (!existingRefex) {\n                          setEditingLogo({ id: 0, name: 'refex', logoImageId: null, orderIndex: 0, isActive: true });\n                          setShowLogoModal(true);\n                        } else if (!existingAdonis) {\n                          setEditingLogo({ id: 0, name: 'adonis', logoImageId: null, orderIndex: 1, isActive: true });\n                          setShowLogoModal(true);\n                        }\n                      }}\n                      className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 cursor-pointer\"\n                    >\n                      <i className=\"ri-add-line mr-1\"></i>Add Logo\n                    </button>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    {footerLogos.map((logo) => (\n                      <div key={logo.id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"font-medium capitalize\">{logo.name} Logo</span>\n                          <button \n                            onClick={() => { setEditingLogo(logo); setShowLogoModal(true); }}\n                            className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                        </div>\n                        {logo.logoImage && (\n                          <img \n                            src={getLogoImageUrl(logo)} \n                            alt={`${logo.name} logo`}\n                            className=\"h-12 w-auto object-contain\"\n                          />\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <h4 className=\"text-md font-medium text-gray-700\">Social Media Icons</h4>\n                    <button \n                      onClick={() => {\n                        setEditingSocial({ id: 0, platform: '', url: '', iconClass: null, orderIndex: socialLinks.length, isActive: true });\n                        setShowSocialModal(true);\n                      }}\n                      className=\"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 cursor-pointer\"\n                    >\n                      <i className=\"ri-add-line mr-1\"></i>Add Social Link\n                    </button>\n                  </div>\n                  {socialLinks.length === 0 ? (\n                    <p className=\"text-sm text-gray-500\">No social links yet</p>\n                  ) : (\n                    <div className=\"space-y-2\">\n                      {socialLinks.map((social) => (\n                        <div key={social.id} className=\"flex items-center justify-between bg-gray-50 p-3 rounded\">\n                          <div className=\"flex items-center space-x-3\">\n                            {social.iconClass && <i className={`${social.iconClass} text-xl text-[#FF6B35]`}></i>}\n                            <div>\n                              <p className=\"font-medium\">{social.platform}</p>\n                              <p className=\"text-sm text-gray-600\">{social.url}</p>\n                            </div>\n                          </div>\n                          <button \n                            onClick={() => { setEditingSocial(social); setShowSocialModal(true); }}\n                            className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Footer Sections */}\n              <div>\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex items-start space-x-3\">\n                    <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm text-blue-800\">\n                        <strong>Tip:</strong> Create sections like \"Quick Links\", \"Our Products\", and \"Contact Information\". For Contact Information, upload icon images (JPG, PNG, SVG) for Phone, Email, and Location.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Footer Sections</h3>\n                  <button onClick={() => { setEditingSection({ id: 0, title: '', orderIndex: footerSections.length }); setShowSectionModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                    <i className=\"ri-add-line mr-2\"></i>Add Section\n                  </button>\n                </div>\n                {footerSections.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-layout-bottom-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No footer sections yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {footerSections.map((section) => (\n                    <div key={section.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold text-gray-900\">{section.title}</h4>\n                        <div className=\"flex items-center space-x-2\">\n                          <button onClick={() => { setSelectedSectionId(section.id); setEditingLink({ id: 0, footerSectionId: section.id, label: '', url: '', iconImageId: null, orderIndex: section.links?.length || 0 }); setShowLinkModal(true); }} className=\"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer text-sm\">\n                            <i className=\"ri-add-line mr-1\"></i>Add Link\n                          </button>\n                          <button onClick={() => { setEditingSection(section); setShowSectionModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\" title=\"Edit Section\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteFooterSection(section.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\" title=\"Delete Section\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      {section.links && section.links.length > 0 && (\n                        <div className=\"space-y-2\">\n                          {section.links.map((link) => (\n                            <div key={link.id} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                              <div className=\"flex items-center space-x-2 flex-1\">\n                                {link.iconImage && (\n                                  <img \n                                    src={getLinkIconImageUrl(link)} \n                                    alt={link.label}\n                                    className=\"w-5 h-5 object-contain\"\n                                  />\n                                )}\n                                {!link.iconImage && link.iconSvg && (\n                                  <div className=\"w-5 h-5 flex items-center justify-center text-[#FF6B35]\" dangerouslySetInnerHTML={{ __html: link.iconSvg }} />\n                                )}\n                                <span className=\"text-sm text-gray-700\">{link.label} - {link.url}</span>\n                              </div>\n                              <div className=\"flex items-center space-x-1\">\n                                <button onClick={() => { setEditingLink(link); setShowLinkModal(true); }} className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\" title=\"Edit Link\">\n                                  <i className=\"ri-edit-line text-sm\"></i>\n                                </button>\n                                <button onClick={() => handleDeleteFooterLink(link.id)} className=\"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\" title=\"Delete Link\">\n                                  <i className=\"ri-delete-bin-line text-sm\"></i>\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showNavModal && editingNavItem && (\n        <NavItemModal item={editingNavItem} onSave={handleSaveNavItem} onClose={() => { setShowNavModal(false); setEditingNavItem(null); }} saving={saving} />\n      )}\n\n      {showSectionModal && editingSection && (\n        <SectionModal section={editingSection} onSave={handleSaveFooterSection} onClose={() => { setShowSectionModal(false); setEditingSection(null); }} saving={saving} />\n      )}\n\n      {showLinkModal && editingLink && (\n        <LinkModal link={editingLink} onSave={handleSaveFooterLink} onClose={() => { setShowLinkModal(false); setEditingLink(null); }} saving={saving} />\n      )}\n\n      {showLogoModal && editingLogo && (\n        <LogoModal logo={editingLogo} onSave={handleSaveLogo} onClose={() => { setShowLogoModal(false); setEditingLogo(null); }} saving={saving} />\n      )}\n\n      {showSocialModal && editingSocial && (\n        <SocialModal social={editingSocial} onSave={handleSaveSocial} onClose={() => { setShowSocialModal(false); setEditingSocial(null); }} saving={saving} />\n      )}\n    </div>\n  );\n}\n\nfunction getLogoImageUrl(logo: FooterLogo): string {\n  if (!logo.logoImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${logo.logoImage.filePath}`;\n}\n\nfunction getLinkIconImageUrl(link: FooterLink): string {\n  if (!link.iconImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${link.iconImage.filePath}`;\n}\n\nfunction LogoModal({ logo, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(logo);\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={logo.id > 0 ? 'Edit Logo' : 'Add Logo'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Logo Name\" required>\n          <select\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            disabled={logo.id > 0}\n          >\n            <option value=\"refex\">Refex</option>\n            <option value=\"adonis\">Adonis</option>\n          </select>\n        </FormField>\n        <ImageSelector\n          value={formData.logoImageId}\n          onChange={(id) => setFormData({ ...formData, logoImageId: id })}\n          label=\"Logo Image\"\n        />\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.name} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SocialModal({ social, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(social);\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={social.id > 0 ? 'Edit Social Link' : 'Add Social Link'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Platform\" required>\n          <input\n            type=\"text\"\n            value={formData.platform}\n            onChange={(e) => setFormData({ ...formData, platform: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Facebook, Twitter, Instagram, LinkedIn\"\n          />\n        </FormField>\n        <FormField label=\"URL\" required>\n          <input\n            type=\"text\"\n            value={formData.url}\n            onChange={(e) => setFormData({ ...formData, url: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://facebook.com/...\"\n          />\n        </FormField>\n        <FormField label=\"Icon Class (Optional)\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-facebook-fill\"\n          />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.platform || !formData.url} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction NavItemModal({ item, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(item);\n  const isSubMenu = item.parentId !== null && item.parentId !== undefined;\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={item.id > 0 ? (isSubMenu ? 'Edit Sub-menu Item' : 'Edit Navigation Item') : (isSubMenu ? 'Add Sub-menu Item' : 'Add Navigation Item')} size=\"md\">\n      <div className=\"space-y-6\">\n        {isSubMenu && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n            <p className=\"text-sm text-blue-800\">\n              <i className=\"ri-information-line mr-2\"></i>\n              This will be added as a sub-menu item under its parent.\n            </p>\n          </div>\n        )}\n        <FormField label=\"Label\" required>\n          <input \n            type=\"text\" \n            value={formData.label} \n            onChange={(e) => setFormData({ ...formData, label: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"e.g., Home, About Us, Products\"\n          />\n        </FormField>\n        <FormField label=\"URL\">\n          <input \n            type=\"text\" \n            value={formData.url || ''} \n            onChange={(e) => setFormData({ ...formData, url: e.target.value || null })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"/about or /products (optional for parent with sub-menus)\"\n          />\n          {!isSubMenu && (\n            <p className=\"text-xs text-gray-500 mt-1\">\n              <i className=\"ri-information-line mr-1\"></i>\n              Parent items can have both a URL and sub-menus. Leave empty if this is only a dropdown parent.\n            </p>\n          )}\n        </FormField>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Status\">\n            <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n          <FormField label=\"Open in New Tab\">\n            <select value={formData.openInNewTab ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, openInNewTab: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"no\">No</option>\n              <option value=\"yes\">Yes</option>\n            </select>\n          </FormField>\n        </div>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.label} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SectionModal({ section, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(section);\n  return (\n    <Modal isOpen={true} onClose={onClose} title={section.id > 0 ? 'Edit Footer Section' : 'Add Footer Section'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Section Title\" required><input type=\"text\" value={formData.title} onChange={(e) => setFormData({ ...formData, title: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.title} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction LinkModal({ link, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState({ ...link, iconSvg: link.iconSvg || '', iconImageId: link.iconImageId || null });\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={link.id > 0 ? 'Edit Footer Link' : 'Add Footer Link'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Link Label (Title)\" required>\n          <input \n            type=\"text\" \n            value={formData.label} \n            onChange={(e) => setFormData({ ...formData, label: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"e.g., Phone, Email, Location\"\n          />\n        </FormField>\n        <FormField label=\"Data (URL or Content)\" required>\n          <input \n            type=\"text\" \n            value={formData.url} \n            onChange={(e) => setFormData({ ...formData, url: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"tel:+1234567890, mailto:email@example.com, or /about\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            <i className=\"ri-information-line mr-1\"></i>\n            For Contact Info: Use tel: for phone, mailto: for email, or plain text for address\n          </p>\n        </FormField>\n        \n        <div className=\"border-t pt-4\">\n          <p className=\"text-sm font-semibold text-gray-700 mb-3\">Icon (Choose one method)</p>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Icon Image Upload (JPG, PNG, SVG)</label>\n              <ImageSelector\n                value={formData.iconImageId}\n                onChange={(id) => setFormData({ ...formData, iconImageId: id, iconSvg: null })}\n                label=\"\"\n              />\n              {formData.iconImage && (\n                <div className=\"mt-2\">\n                  <img \n                    src={getImageUrl(formData.iconImage)} \n                    alt=\"Icon preview\" \n                    className=\"w-8 h-8 object-contain\"\n                  />\n                </div>\n              )}\n            </div>\n            \n            <div className=\"text-center text-sm text-gray-500\">OR</div>\n            \n            <FormField label=\"SVG Icon Code (Alternative)\">\n              <textarea \n                value={formData.iconSvg || ''} \n                onChange={(e) => setFormData({ ...formData, iconSvg: e.target.value || null, iconImageId: null })} \n                rows={6}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm\"\n                placeholder='Paste SVG code here, e.g., <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M...\"/></svg>'\n              />\n              {formData.iconSvg && (\n                <div className=\"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n                  <p className=\"text-xs text-gray-600 mb-2\">Preview:</p>\n                  <div className=\"w-8 h-8 text-[#FF6B35]\" dangerouslySetInnerHTML={{ __html: formData.iconSvg }} />\n                </div>\n              )}\n            </FormField>\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.label || !formData.url} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype SectionTab = 'hero' | 'overview' | 'safety' | 'excellence';\n\ninterface AboutPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  overviewHeading: string | null;\n  overviewContent: string | null;\n  overviewImageId: number | null;\n  safetyHeading: string | null;\n  safetyContent: string | null;\n  safetyImageId: number | null;\n  excellenceHeading: string | null;\n  excellenceContent: string | null;\n  excellenceImageId: number | null;\n  heroImage?: { filePath: string; altText: string };\n  overviewImage?: { filePath: string; altText: string };\n  safetyImage?: { filePath: string; altText: string };\n  excellenceImage?: { filePath: string; altText: string };\n}\n\nexport default function AboutPageManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('hero');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<AboutPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    overviewHeading: null,\n    overviewContent: null,\n    overviewImageId: null,\n    safetyHeading: null,\n    safetyContent: null,\n    safetyImageId: null,\n    excellenceHeading: null,\n    excellenceContent: null,\n    excellenceImageId: null\n  });\n\n  const sectionTabs = [\n    { id: 'hero' as SectionTab, label: 'Hero Section', icon: 'ri-image-line' },\n    { id: 'overview' as SectionTab, label: 'Company Overview', icon: 'ri-file-text-line' },\n    { id: 'safety' as SectionTab, label: 'Safety & Innovation', icon: 'ri-shield-check-line' },\n    { id: 'excellence' as SectionTab, label: 'Excellence', icon: 'ri-award-line' }\n  ];\n\n  useEffect(() => {\n    fetchContent();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<AboutPageContent>('/about');\n      if (response.success && response.data) {\n        setContent(response.data as AboutPageContent);\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/about', content);\n      if (response.success) {\n        alert('About page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">About Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage all sections of the about page</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sectionTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveSection(tab.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === tab.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={tab.icon}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : (\n            <>\n              {activeSection === 'hero' && (\n                <SectionEditor\n                  title=\"Hero Section\"\n                  fields={[\n                    {\n                      label: 'Hero Title',\n                      value: content.heroTitle || '',\n                      onChange: (val) => setContent({ ...content, heroTitle: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Hero Subtitle',\n                      value: content.heroSubtitle || '',\n                      onChange: (val) => setContent({ ...content, heroSubtitle: val || null }),\n                      type: 'textarea'\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.heroImageId}\n                      onChange={(id) => setContent({ ...content, heroImageId: id })}\n                      label=\"Hero Image\"\n                    />\n                  }\n                  previewImage={content.heroImage ? getImageUrl(content.heroImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'overview' && (\n                <SectionEditor\n                  title=\"Company Overview Section\"\n                  fields={[\n                    {\n                      label: 'Heading',\n                      value: content.overviewHeading || '',\n                      onChange: (val) => setContent({ ...content, overviewHeading: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Content',\n                      value: content.overviewContent || '',\n                      onChange: (val) => setContent({ ...content, overviewContent: val || null }),\n                      type: 'textarea',\n                      rows: 6\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.overviewImageId}\n                      onChange={(id) => setContent({ ...content, overviewImageId: id })}\n                      label=\"Overview Image\"\n                    />\n                  }\n                  previewImage={content.overviewImage ? getImageUrl(content.overviewImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'safety' && (\n                <SectionEditor\n                  title=\"Safety & Innovation Section\"\n                  fields={[\n                    {\n                      label: 'Heading',\n                      value: content.safetyHeading || '',\n                      onChange: (val) => setContent({ ...content, safetyHeading: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Content',\n                      value: content.safetyContent || '',\n                      onChange: (val) => setContent({ ...content, safetyContent: val || null }),\n                      type: 'textarea',\n                      rows: 6\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.safetyImageId}\n                      onChange={(id) => setContent({ ...content, safetyImageId: id })}\n                      label=\"Safety Image\"\n                    />\n                  }\n                  previewImage={content.safetyImage ? getImageUrl(content.safetyImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'excellence' && (\n                <SectionEditor\n                  title=\"Excellence Section\"\n                  fields={[\n                    {\n                      label: 'Heading',\n                      value: content.excellenceHeading || '',\n                      onChange: (val) => setContent({ ...content, excellenceHeading: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Content',\n                      value: content.excellenceContent || '',\n                      onChange: (val) => setContent({ ...content, excellenceContent: val || null }),\n                      type: 'textarea',\n                      rows: 6\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.excellenceImageId}\n                      onChange={(id) => setContent({ ...content, excellenceImageId: id })}\n                      label=\"Excellence Image\"\n                    />\n                  }\n                  previewImage={content.excellenceImage ? getImageUrl(content.excellenceImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SectionEditor({ title, fields, imageSelector, previewImage, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {fields.map((field: any, index: number) => (\n          <div key={index} className={field.type === 'textarea' ? 'md:col-span-2' : ''}>\n            <FormField label={field.label}>\n              {field.type === 'textarea' ? (\n                <textarea\n                  value={field.value}\n                  onChange={(e) => field.onChange(e.target.value)}\n                  rows={field.rows || 4}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              ) : (\n                <input\n                  type={field.type || 'text'}\n                  value={field.value}\n                  onChange={(e) => field.onChange(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              )}\n            </FormField>\n          </div>\n        ))}\n\n        <div className=\"md:col-span-2\">\n          {imageSelector}\n        </div>\n\n        {previewImage && (\n          <div className=\"md:col-span-2\">\n            <FormField label=\"Preview\">\n              <img src={previewImage} alt=\"Preview\" className=\"w-full rounded-lg max-h-64 object-cover\" />\n            </FormField>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\n\ninterface BackendUser {\n  id: number;\n  username: string;\n  email: string;\n  fullName: string | null;\n  role: 'super_admin' | 'admin' | 'editor' | 'viewer';\n  isActive: boolean;\n  createdAt: string;\n  lastLoginAt: string | null;\n  permissions?: PagePermissions | null;\n}\n\ninterface User {\n  id: number;\n  username: string;\n  name: string;\n  email: string;\n  role: 'super_admin' | 'admin' | 'editor' | 'viewer';\n  status: 'active' | 'inactive';\n  createdAt: string;\n  lastLogin: string;\n}\n\ntype Permission = {\n  view: boolean;\n  edit: boolean;\n  delete: boolean;\n};\n\ntype PagePermissions = {\n  [key: string]: Permission;\n};\n\nconst defaultPermissions: Record<string, PagePermissions> = {\n  super_admin: {\n    home: { view: true, edit: true, delete: true },\n    'header-footer': { view: true, edit: true, delete: true },\n    about: { view: true, edit: true, delete: true },\n    products: { view: true, edit: true, delete: true },\n    awards: { view: true, edit: true, delete: true },\n    careers: { view: true, edit: true, delete: true },\n    specialties: { view: true, edit: true, delete: true },\n    investors: { view: true, edit: true, delete: true },\n    clients: { view: true, edit: true, delete: true },\n    management: { view: true, edit: true, delete: true },\n    presence: { view: true, edit: true, delete: true },\n    production: { view: true, edit: true, delete: true },\n    quality: { view: true, edit: true, delete: true },\n    demo: { view: true, edit: true, delete: true },\n    contact: { view: true, edit: true, delete: true },\n    'contact-info': { view: true, edit: true, delete: true },\n    'global-settings': { view: true, edit: true, delete: true },\n    'social-links': { view: true, edit: true, delete: true },\n    testimonials: { view: true, edit: true, delete: true },\n    users: { view: true, edit: true, delete: true },\n    smtp: { view: true, edit: true, delete: true },\n    logs: { view: true, edit: true, delete: true },\n    bin: { view: true, edit: true, delete: true },\n    versions: { view: true, edit: true, delete: true }\n  },\n  admin: {\n    home: { view: true, edit: true, delete: true },\n    'header-footer': { view: true, edit: true, delete: false },\n    about: { view: true, edit: true, delete: true },\n    products: { view: true, edit: true, delete: true },\n    awards: { view: true, edit: true, delete: true },\n    careers: { view: true, edit: true, delete: true },\n    specialties: { view: true, edit: true, delete: true },\n    investors: { view: true, edit: true, delete: true },\n    clients: { view: true, edit: true, delete: true },\n    management: { view: true, edit: true, delete: true },\n    presence: { view: true, edit: true, delete: true },\n    production: { view: true, edit: true, delete: true },\n    quality: { view: true, edit: true, delete: true },\n    demo: { view: true, edit: true, delete: true },\n    contact: { view: true, edit: true, delete: true },\n    'contact-info': { view: true, edit: true, delete: false },\n    'global-settings': { view: true, edit: false, delete: false },\n    'social-links': { view: true, edit: true, delete: false },\n    testimonials: { view: true, edit: true, delete: true },\n    users: { view: true, edit: true, delete: false },\n    smtp: { view: true, edit: false, delete: false },\n    logs: { view: true, edit: false, delete: false },\n    bin: { view: true, edit: false, delete: false },\n    versions: { view: true, edit: false, delete: false }\n  },\n  editor: {\n    home: { view: true, edit: true, delete: false },\n    'header-footer': { view: true, edit: false, delete: false },\n    about: { view: true, edit: true, delete: false },\n    products: { view: true, edit: true, delete: false },\n    awards: { view: true, edit: true, delete: false },\n    careers: { view: true, edit: true, delete: false },\n    specialties: { view: true, edit: true, delete: false },\n    investors: { view: true, edit: true, delete: false },\n    clients: { view: true, edit: true, delete: false },\n    management: { view: true, edit: true, delete: false },\n    presence: { view: true, edit: true, delete: false },\n    production: { view: true, edit: true, delete: false },\n    quality: { view: true, edit: true, delete: false },\n    demo: { view: true, edit: true, delete: false },\n    contact: { view: true, edit: true, delete: false },\n    'contact-info': { view: true, edit: true, delete: false },\n    'global-settings': { view: false, edit: false, delete: false },\n    'social-links': { view: true, edit: true, delete: false },\n    testimonials: { view: true, edit: true, delete: false },\n    users: { view: false, edit: false, delete: false },\n    smtp: { view: false, edit: false, delete: false },\n    logs: { view: false, edit: false, delete: false },\n    bin: { view: false, edit: false, delete: false },\n    versions: { view: false, edit: false, delete: false }\n  },\n  viewer: {\n    home: { view: true, edit: false, delete: false },\n    'header-footer': { view: true, edit: false, delete: false },\n    about: { view: true, edit: false, delete: false },\n    products: { view: true, edit: false, delete: false },\n    awards: { view: true, edit: false, delete: false },\n    careers: { view: true, edit: false, delete: false },\n    specialties: { view: true, edit: false, delete: false },\n    investors: { view: true, edit: false, delete: false },\n    clients: { view: true, edit: false, delete: false },\n    management: { view: true, edit: false, delete: false },\n    presence: { view: true, edit: false, delete: false },\n    production: { view: true, edit: false, delete: false },\n    quality: { view: true, edit: false, delete: false },\n    demo: { view: true, edit: false, delete: false },\n    contact: { view: true, edit: false, delete: false },\n    'contact-info': { view: true, edit: false, delete: false },\n    'global-settings': { view: false, edit: false, delete: false },\n    'social-links': { view: true, edit: false, delete: false },\n    testimonials: { view: true, edit: false, delete: false },\n    users: { view: false, edit: false, delete: false },\n    smtp: { view: false, edit: false, delete: false },\n    logs: { view: false, edit: false, delete: false },\n    bin: { view: false, edit: false, delete: false },\n    versions: { view: false, edit: false, delete: false }\n  }\n};\n\nconst pageLabels: Record<string, { label: string; icon: string }> = {\n  home: { label: 'Home', icon: 'ri-home-line' },\n  'header-footer': { label: 'Header & Footer', icon: 'ri-layout-line' },\n  about: { label: 'About', icon: 'ri-information-line' },\n  products: { label: 'Products', icon: 'ri-product-hunt-line' },\n  awards: { label: 'Awards', icon: 'ri-award-line' },\n  careers: { label: 'Careers', icon: 'ri-briefcase-line' },\n  specialties: { label: 'Specialties', icon: 'ri-stethoscope-line' },\n  investors: { label: 'Investors', icon: 'ri-line-chart-line' },\n  clients: { label: 'Clients', icon: 'ri-user-heart-line' },\n  management: { label: 'Management', icon: 'ri-team-line' },\n  presence: { label: 'Our Presence', icon: 'ri-map-2-line' },\n  production: { label: 'Production', icon: 'ri-factory-line' },\n  quality: { label: 'Quality', icon: 'ri-shield-check-line' },\n  demo: { label: 'Request Demo', icon: 'ri-calendar-check-line' },\n  contact: { label: 'Contact', icon: 'ri-mail-line' },\n  'contact-info': { label: 'Contact Info', icon: 'ri-contacts-line' },\n  'global-settings': { label: 'Global Settings', icon: 'ri-settings-3-line' },\n  'social-links': { label: 'Social Links', icon: 'ri-share-line' },\n  testimonials: { label: 'Testimonials', icon: 'ri-chat-quote-line' },\n  users: { label: 'Users', icon: 'ri-user-settings-line' },\n  smtp: { label: 'SMTP', icon: 'ri-mail-settings-line' },\n  logs: { label: 'Activity Logs', icon: 'ri-file-list-3-line' },\n  bin: { label: 'Recycle Bin', icon: 'ri-delete-bin-line' },\n  versions: { label: 'Version History', icon: 'ri-history-line' }\n};\n\nexport default function UserManagement() {\n  const [view, setView] = useState<'list' | 'create' | 'edit'>('list');\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [formData, setFormData] = useState({\n    username: '',\n    name: '',\n    email: '',\n    password: '',\n    role: 'editor' as User['role'],\n    status: 'active' as User['status']\n  });\n\n  // Custom permissions that override role-based defaults\n  const [customPermissions, setCustomPermissions] = useState<PagePermissions | null>(null);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<BackendUser[]>('/users');\n      if (response.success && response.data) {\n        const mappedUsers: User[] = (response.data as BackendUser[]).map(user => ({\n          id: user.id,\n          username: user.username,\n          name: user.fullName || user.username,\n          email: user.email,\n          role: user.role,\n          status: user.isActive ? 'active' : 'inactive',\n          createdAt: new Date(user.createdAt).toLocaleDateString(),\n          lastLogin: user.lastLoginAt ? new Date(user.lastLoginAt).toLocaleString() : 'Never'\n        }));\n        setUsers(mappedUsers);\n      }\n    } catch (error: any) {\n      console.error('Error fetching users:', error);\n      alert(error.message || 'Failed to load users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateUser = () => {\n    setFormData({\n      username: '',\n      name: '',\n      email: '',\n      password: '',\n      role: 'editor',\n      status: 'active'\n    });\n    setSelectedUser(null);\n    setView('create');\n  };\n\n  const handleEditUser = async (user: User) => {\n    setSelectedUser(user);\n    setFormData({\n      username: user.username,\n      name: user.name,\n      email: user.email,\n      password: '',\n      role: user.role,\n      status: user.status\n    });\n    \n    // Fetch full user data to get permissions\n    try {\n      const response = await api.get(`/users/${user.id}`);\n      if (response.success && response.data) {\n        const fullUser = response.data as any;\n        // If user has custom permissions, load them; otherwise use null (role defaults)\n        if (fullUser.permissions && Object.keys(fullUser.permissions).length > 0) {\n          setCustomPermissions(fullUser.permissions);\n        } else {\n          setCustomPermissions(null);\n        }\n      }\n    } catch (error: any) {\n      console.error('Error fetching user details:', error);\n      setCustomPermissions(null);\n    }\n    \n    setView('edit');\n  };\n\n  const handleSave = async () => {\n    if (!formData.email || !formData.username) {\n      alert('Email and username are required');\n      return;\n    }\n\n    if (view === 'create' && !formData.password) {\n      alert('Password is required when creating a new user');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const payload: any = {\n        username: formData.username,\n        email: formData.email,\n        fullName: formData.name,\n        role: formData.role,\n        permissions: customPermissions || null // Send custom permissions or null to use role defaults\n      };\n\n      if (view === 'create') {\n        payload.password = formData.password;\n        const response = await api.post('/users', payload);\n        if (response.success) {\n          alert('User created successfully!');\n          fetchUsers();\n          setView('list');\n          setSelectedUser(null);\n          setCustomPermissions(null);\n        } else {\n          throw new Error(response.message || 'Failed to create user');\n        }\n      } else {\n        // Edit mode\n        if (!selectedUser) return;\n        payload.isActive = formData.status === 'active';\n        if (formData.password) {\n          payload.password = formData.password;\n        }\n        const response = await api.put(`/users/${selectedUser.id}`, payload);\n        if (response.success) {\n          alert('User updated successfully!');\n          fetchUsers();\n          setView('list');\n          setSelectedUser(null);\n          setCustomPermissions(null);\n        } else {\n          throw new Error(response.message || 'Failed to update user');\n        }\n      }\n    } catch (error: any) {\n      console.error('Error saving user:', error);\n      alert(error.message || 'Failed to save user');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setView('list');\n    setSelectedUser(null);\n  };\n\n  const handleRoleChange = (role: User['role']) => {\n    setFormData({ ...formData, role });\n    // Reset custom permissions when role changes (use role defaults)\n    setCustomPermissions(null);\n  };\n\n  // Get current permissions (custom or role-based)\n  const getCurrentPermissions = (): PagePermissions => {\n    if (customPermissions) {\n      return customPermissions;\n    }\n    return defaultPermissions[formData.role] || defaultPermissions.editor;\n  };\n\n  const handlePermissionChange = (page: string, permission: 'view' | 'edit' | 'delete', value: boolean) => {\n    const current = getCurrentPermissions();\n    const updated = {\n      ...current,\n      [page]: {\n        ...current[page],\n        [permission]: value\n      }\n    };\n    setCustomPermissions(updated);\n  };\n\n  const resetToRoleDefaults = () => {\n    setCustomPermissions(null);\n  };\n\n  const handleDeleteUser = async (userId: number) => {\n    if (!window.confirm('Are you sure you want to delete this user?')) {\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const response = await api.delete(`/users/${userId}`);\n      if (response.success) {\n        alert('User deleted successfully!');\n        fetchUsers();\n      } else {\n        throw new Error(response.message || 'Failed to delete user');\n      }\n    } catch (error: any) {\n      console.error('Error deleting user:', error);\n      alert(error.message || 'Failed to delete user');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getRoleBadgeColor = (role: User['role']) => {\n    switch (role) {\n      case 'super_admin': return 'bg-[#7C3AED] text-white';\n      case 'admin': return 'bg-[#2563EB] text-white';\n      case 'editor': return 'bg-[#10B981] text-white';\n      case 'viewer': return 'bg-[#6B7280] text-white';\n      default: return 'bg-[#6B7280] text-white';\n    }\n  };\n\n  const getStatusBadgeColor = (status: User['status']) => {\n    return status === 'active' \n      ? 'bg-[#D1FAE5] text-[#065F46]' \n      : 'bg-[#FEE2E2] text-[#991B1B]';\n  };\n\n  if (loading && users.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* User List View */}\n      {view === 'list' && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h2 className=\"text-xl font-bold text-[#1F2937]\">User Management</h2>\n              <p className=\"text-sm text-[#6B7280] mt-1\">Manage admin users and their permissions</p>\n            </div>\n            <button\n              onClick={handleCreateUser}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n            >\n              <i className=\"ri-user-add-line\"></i>\n              <span>Add New User</span>\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"border-b-2 border-[#E5E7EB]\">\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">User</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Role</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Status</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Created</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Last Login</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((user) => {\n                  const permissions = defaultPermissions[user.role];\n                  const hasViewPermission = Object.values(permissions).some(p => p.view);\n                  const hasEditPermission = Object.values(permissions).some(p => p.edit);\n                  const hasDeletePermission = Object.values(permissions).some(p => p.delete);\n                  \n                  return (\n                    <tr key={user.id} className=\"border-b border-[#F3F4F6] hover:bg-[#F9FAFB] transition-colors\">\n                      <td className=\"py-4 px-4\">\n                        <div>\n                          <p className=\"text-sm font-medium text-[#1F2937]\">{user.name}</p>\n                          <p className=\"text-xs text-[#6B7280]\">{user.email}</p>\n                        </div>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getRoleBadgeColor(user.role)}`}>\n                          {user.role.replace('_', ' ').toUpperCase()}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusBadgeColor(user.status)}`}>\n                          {user.status.toUpperCase()}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4 text-sm text-[#6B7280]\">\n                        {user.createdAt}\n                      </td>\n                      <td className=\"py-4 px-4 text-sm text-[#6B7280]\">\n                        {user.lastLogin}\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => handleEditUser(user)}\n                            className=\"p-2 text-[#2563EB] hover:bg-[#EFF6FF] rounded-lg transition-all duration-300 cursor-pointer\"\n                            title=\"Edit User\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button\n                            onClick={() => handleDeleteUser(user.id)}\n                            className=\"p-2 text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg transition-all duration-300 cursor-pointer\"\n                            title=\"Delete User\"\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n                {users.length === 0 && !loading && (\n                  <tr>\n                    <td colSpan={6} className=\"py-8 text-center text-[#6B7280]\">\n                      No users found. Click \"Add New User\" to create one.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Create/Edit User Form */}\n      {(view === 'create' || view === 'edit') && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-bold text-[#1F2937]\">\n              {view === 'create' ? 'Create New User' : `Edit User: ${selectedUser?.name}`}\n            </h2>\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={handleCancel}\n                className=\"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                disabled={saving}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSave}\n                disabled={saving}\n                className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {saving ? 'Saving...' : (view === 'create' ? 'Create User' : 'Save Changes')}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Basic Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Basic Information</h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Username *</label>\n                <input\n                  type=\"text\"\n                  value={formData.username}\n                  onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter username\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Full Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter full name\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Email Address *</label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"user@example.com\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">\n                  {view === 'create' ? 'Password *' : 'New Password (leave blank to keep current)'}\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter password\"\n                  required={view === 'create'}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Role</label>\n                <select\n                  value={formData.role}\n                  onChange={(e) => handleRoleChange(e.target.value as User['role'])}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                >\n                  <option value=\"super_admin\">Super Admin - Full access to everything</option>\n                  <option value=\"admin\">Admin - Manage content and users</option>\n                  <option value=\"editor\">Editor - Edit content only</option>\n                  <option value=\"viewer\">Viewer - View only access</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value as User['status'] })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                >\n                  <option value=\"active\">Active</option>\n                  <option value=\"inactive\">Inactive</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Permissions Management */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2 flex-1\">Permissions</h3>\n                {customPermissions && (\n                  <button\n                    onClick={resetToRoleDefaults}\n                    className=\"text-sm text-[#2563EB] hover:text-[#1D4ED8] cursor-pointer\"\n                    title=\"Reset to role defaults\"\n                  >\n                    <i className=\"ri-refresh-line mr-1\"></i>Reset to Defaults\n                  </button>\n                )}\n              </div>\n              \n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <p className=\"text-sm text-[#6B7280] mb-4\">\n                  {customPermissions \n                    ? 'Custom permissions (overriding role defaults)' \n                    : 'Permissions are automatically set based on the selected role. You can customize them below:'}\n                </p>\n\n                <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\n                  {Object.entries(getCurrentPermissions()).map(([page, perms]) => {\n                    const pageInfo = pageLabels[page] || { label: page, icon: 'ri-file-line' };\n                    return (\n                      <div key={page} className=\"bg-white rounded-lg border border-[#E5E7EB] p-4\">\n                        <div className=\"flex items-center justify-between mb-3\">\n                          <span className=\"text-sm font-medium text-[#1F2937] flex items-center space-x-2\">\n                            <i className={`${pageInfo.icon} text-[#6B7280]`}></i>\n                            <span>{pageInfo.label}</span>\n                          </span>\n                        </div>\n                        <div className=\"flex items-center space-x-6\">\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.view}\n                              onChange={(e) => handlePermissionChange(page, 'view', e.target.checked)}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.view ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              View {perms.view ? '' : ''}\n                            </span>\n                          </label>\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.edit}\n                              onChange={(e) => handlePermissionChange(page, 'edit', e.target.checked)}\n                              disabled={!perms.view}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.edit ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              Edit {perms.edit ? '' : ''}\n                            </span>\n                          </label>\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.delete}\n                              onChange={(e) => handlePermissionChange(page, 'delete', e.target.checked)}\n                              disabled={!perms.edit}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.delete ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              Delete {perms.delete ? '' : ''}\n                            </span>\n                          </label>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <div className=\"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <i className=\"ri-information-line text-[#2563EB] text-xl mt-0.5\"></i>\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-sm font-semibold text-[#1E40AF] mb-1\">Permission Guidelines</h4>\n                    <ul className=\"text-sm text-[#1E40AF] space-y-1\">\n                      <li><strong>View:</strong> User can see the page/section content</li>\n                      <li><strong>Edit:</strong> User can modify existing content (requires View)</li>\n                      <li><strong>Delete:</strong> User can remove content (requires Edit)</li>\n                    </ul>\n                    <p className=\"text-xs text-[#1E40AF] mt-2\">\n                      You can customize permissions by checking/unchecking the boxes above. Changes will override the role defaults.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface HfMobilePageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface HfMobileImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\ninterface HfMobileFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfMobileVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function HfMobilePageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [pageContent, setPageContent] = useState<HfMobilePageContent>({\r\n    title: null,\r\n    mainImageId: null,\r\n    deploymentInfo: null,\r\n    shortDescription: null,\r\n    fullDescription: null\r\n  });\r\n\r\n  const [images, setImages] = useState<HfMobileImage[]>([]);\r\n  const [features, setFeatures] = useState<HfMobileFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfMobileVariant[]>([]);\r\n\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfMobileImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfMobileFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfMobileVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') {\r\n      fetchPageContent();\r\n    } else if (activeTab === 'images') {\r\n      fetchImages();\r\n    } else if (activeTab === 'features') {\r\n      fetchFeatures();\r\n    } else {\r\n      fetchVariants();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobilePageContent>('/products/hf-mobile');\r\n      if (response.success && response.data) {\r\n        setPageContent(response.data as HfMobilePageContent);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileImage[]>('/products/hf-mobile/images');\r\n      if (response.success && response.data) {\r\n        setImages((response.data as HfMobileImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileFeature[]>('/products/hf-mobile/features');\r\n      if (response.success && response.data) {\r\n        setFeatures((response.data as HfMobileFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileVariant[]>('/products/hf-mobile/variants');\r\n      if (response.success && response.data) {\r\n        setVariants((response.data as HfMobileVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-mobile', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfMobileImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/images/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfMobileImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) {\r\n        await api.put(`/products/hf-mobile/images/${image.id}`, image);\r\n      } else {\r\n        await api.post('/products/hf-mobile/images', { ...image, orderIndex: images.length });\r\n      }\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfMobileFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/features/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfMobileFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) {\r\n        await api.put(`/products/hf-mobile/features/${feature.id}`, feature);\r\n      } else {\r\n        await api.post('/products/hf-mobile/features', { ...feature, orderIndex: features.length });\r\n      }\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfMobileVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/variants/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfMobileVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) {\r\n        await api.put(`/products/hf-mobile/variants/${variant.id}`, variant);\r\n      } else {\r\n        await api.post('/products/hf-mobile/variants', { ...variant, orderIndex: variants.length });\r\n      }\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">HF Mobile Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[\r\n              { id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' },\r\n              { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' },\r\n              { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' },\r\n              { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${\r\n                  activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\r\n                }`}\r\n              >\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\r\n                  {saving ? 'Saving...' : 'Save'}\r\n                </button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Image\r\n                </button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={images}\r\n                  onReorder={handleReorderImages}\r\n                  keyExtractor={(img) => img.id}\r\n                  renderItem={(img: HfMobileImage) => (\r\n                    <div className=\"flex items-center space-x-4 w-full\">\r\n                      {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                      <div className=\"flex-1\">\r\n                        {img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\r\n                </button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={features}\r\n                  onReorder={handleReorderFeatures}\r\n                  keyExtractor={(f) => f.id}\r\n                  renderItem={(feature: HfMobileFeature) => (\r\n                    <div className=\"flex items-center justify-between w-full\">\r\n                      <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Variant\r\n                </button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={variants}\r\n                  onReorder={handleReorderVariants}\r\n                  keyExtractor={(v) => v.id}\r\n                  renderItem={(variant: HfMobileVariant) => (\r\n                    <div className=\"flex items-center justify-between w-full\">\r\n                      <div>\r\n                        <h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                          {variant.isActive ? 'Active' : 'Inactive'}\r\n                        </span>\r\n                        <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {showImageModal && editingImage && (\r\n        <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />\r\n      )}\r\n\r\n      {showFeatureModal && editingFeature && (\r\n        <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />\r\n      )}\r\n\r\n      {showVariantModal && editingVariant && (\r\n        <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface HfFixedPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface HfFixedImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface HfFixedFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfFixedVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function HfFixedPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<HfFixedPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<HfFixedImage[]>([]);\r\n  const [features, setFeatures] = useState<HfFixedFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfFixedVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfFixedImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfFixedFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfFixedVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedPageContent>('/products/hf-fixed');\r\n      if (response.success && response.data) setPageContent(response.data as HfFixedPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedImage[]>('/products/hf-fixed/images');\r\n      if (response.success && response.data) setImages((response.data as HfFixedImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedFeature[]>('/products/hf-fixed/features');\r\n      if (response.success && response.data) setFeatures((response.data as HfFixedFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedVariant[]>('/products/hf-fixed/variants');\r\n      if (response.success && response.data) setVariants((response.data as HfFixedVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-fixed', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfFixedImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfFixedImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/hf-fixed/images/${image.id}`, image);\r\n      else await api.post('/products/hf-fixed/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfFixedFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfFixedFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/hf-fixed/features/${feature.id}`, feature);\r\n      else await api.post('/products/hf-fixed/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfFixedVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfFixedVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/hf-fixed/variants/${variant.id}`, variant);\r\n      else await api.post('/products/hf-fixed/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">HF Fixed Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: HfFixedImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: HfFixedFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: HfFixedVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface FpdCArmPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface FpdCArmImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface FpdCArmFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface FpdCArmVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function FpdCArmPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<FpdCArmPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<FpdCArmImage[]>([]);\r\n  const [features, setFeatures] = useState<FpdCArmFeature[]>([]);\r\n  const [variants, setVariants] = useState<FpdCArmVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<FpdCArmImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<FpdCArmFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<FpdCArmVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmPageContent>('/products/fpd-c-arm');\r\n      if (response.success && response.data) setPageContent(response.data as FpdCArmPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmImage[]>('/products/fpd-c-arm/images');\r\n      if (response.success && response.data) setImages((response.data as FpdCArmImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmFeature[]>('/products/fpd-c-arm/features');\r\n      if (response.success && response.data) setFeatures((response.data as FpdCArmFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmVariant[]>('/products/fpd-c-arm/variants');\r\n      if (response.success && response.data) setVariants((response.data as FpdCArmVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/fpd-c-arm', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: FpdCArmImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: FpdCArmImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/fpd-c-arm/images/${image.id}`, image);\r\n      else await api.post('/products/fpd-c-arm/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: FpdCArmFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: FpdCArmFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/fpd-c-arm/features/${feature.id}`, feature);\r\n      else await api.post('/products/fpd-c-arm/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: FpdCArmVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: FpdCArmVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/fpd-c-arm/variants/${variant.id}`, variant);\r\n      else await api.post('/products/fpd-c-arm/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">FPD C-Arm Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: FpdCArmImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: FpdCArmFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: FpdCArmVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface HfCArm1kPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface HfCArm1kImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface HfCArm1kFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfCArm1kVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function HfCArm1kPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<HfCArm1kPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<HfCArm1kImage[]>([]);\r\n  const [features, setFeatures] = useState<HfCArm1kFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfCArm1kVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfCArm1kImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfCArm1kFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfCArm1kVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kPageContent>('/products/hf-c-arm-1k');\r\n      if (response.success && response.data) setPageContent(response.data as HfCArm1kPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kImage[]>('/products/hf-c-arm-1k/images');\r\n      if (response.success && response.data) setImages((response.data as HfCArm1kImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kFeature[]>('/products/hf-c-arm-1k/features');\r\n      if (response.success && response.data) setFeatures((response.data as HfCArm1kFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kVariant[]>('/products/hf-c-arm-1k/variants');\r\n      if (response.success && response.data) setVariants((response.data as HfCArm1kVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-c-arm-1k', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfCArm1kImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfCArm1kImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/hf-c-arm-1k/images/${image.id}`, image);\r\n      else await api.post('/products/hf-c-arm-1k/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfCArm1kFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfCArm1kFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/hf-c-arm-1k/features/${feature.id}`, feature);\r\n      else await api.post('/products/hf-c-arm-1k/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfCArm1kVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfCArm1kVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/hf-c-arm-1k/variants/${variant.id}`, variant);\r\n      else await api.post('/products/hf-c-arm-1k/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">1K*1K High End HF C-ARM Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: HfCArm1kImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: HfCArm1kFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: HfCArm1kVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface LineFrequencyPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface LineFrequencyImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface LineFrequencyFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface LineFrequencyVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function LineFrequencyPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<LineFrequencyPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<LineFrequencyImage[]>([]);\r\n  const [features, setFeatures] = useState<LineFrequencyFeature[]>([]);\r\n  const [variants, setVariants] = useState<LineFrequencyVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<LineFrequencyImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<LineFrequencyFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<LineFrequencyVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyPageContent>('/products/line-frequency');\r\n      if (response.success && response.data) setPageContent(response.data as LineFrequencyPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyImage[]>('/products/line-frequency/images');\r\n      if (response.success && response.data) setImages((response.data as LineFrequencyImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyFeature[]>('/products/line-frequency/features');\r\n      if (response.success && response.data) setFeatures((response.data as LineFrequencyFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyVariant[]>('/products/line-frequency/variants');\r\n      if (response.success && response.data) setVariants((response.data as LineFrequencyVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/line-frequency', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: LineFrequencyImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: LineFrequencyImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/line-frequency/images/${image.id}`, image);\r\n      else await api.post('/products/line-frequency/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: LineFrequencyFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: LineFrequencyFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/line-frequency/features/${feature.id}`, feature);\r\n      else await api.post('/products/line-frequency/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: LineFrequencyVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: LineFrequencyVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/line-frequency/variants/${variant.id}`, variant);\r\n      else await api.post('/products/line-frequency/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Line Frequency Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: LineFrequencyImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: LineFrequencyFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: LineFrequencyVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface DigitalRadiographyPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface DigitalRadiographyImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface DigitalRadiographyFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface DigitalRadiographyVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function DigitalRadiographyPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<DigitalRadiographyPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<DigitalRadiographyImage[]>([]);\r\n  const [features, setFeatures] = useState<DigitalRadiographyFeature[]>([]);\r\n  const [variants, setVariants] = useState<DigitalRadiographyVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<DigitalRadiographyImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<DigitalRadiographyFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<DigitalRadiographyVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyPageContent>('/products/digital-radiography');\r\n      if (response.success && response.data) setPageContent(response.data as DigitalRadiographyPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyImage[]>('/products/digital-radiography/images');\r\n      if (response.success && response.data) setImages((response.data as DigitalRadiographyImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyFeature[]>('/products/digital-radiography/features');\r\n      if (response.success && response.data) setFeatures((response.data as DigitalRadiographyFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyVariant[]>('/products/digital-radiography/variants');\r\n      if (response.success && response.data) setVariants((response.data as DigitalRadiographyVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/digital-radiography', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: DigitalRadiographyImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: DigitalRadiographyImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/digital-radiography/images/${image.id}`, image);\r\n      else await api.post('/products/digital-radiography/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: DigitalRadiographyFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: DigitalRadiographyFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/digital-radiography/features/${feature.id}`, feature);\r\n      else await api.post('/products/digital-radiography/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: DigitalRadiographyVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: DigitalRadiographyVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/digital-radiography/variants/${variant.id}`, variant);\r\n      else await api.post('/products/digital-radiography/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Digital Radiography Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: DigitalRadiographyImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: DigitalRadiographyFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: DigitalRadiographyVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants';\r\n\r\ninterface DreamSeriesPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface DreamSeriesImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface DreamSeriesFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface DreamSeriesVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function DreamSeriesPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<DreamSeriesPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<DreamSeriesImage[]>([]);\r\n  const [features, setFeatures] = useState<DreamSeriesFeature[]>([]);\r\n  const [variants, setVariants] = useState<DreamSeriesVariant[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<DreamSeriesImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<DreamSeriesFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<DreamSeriesVariant | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else fetchVariants();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesPageContent>('/products/dream-series');\r\n      if (response.success && response.data) setPageContent(response.data as DreamSeriesPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesImage[]>('/products/dream-series/images');\r\n      if (response.success && response.data) setImages((response.data as DreamSeriesImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesFeature[]>('/products/dream-series/features');\r\n      if (response.success && response.data) setFeatures((response.data as DreamSeriesFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesVariant[]>('/products/dream-series/variants');\r\n      if (response.success && response.data) setVariants((response.data as DreamSeriesVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/dream-series', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: DreamSeriesImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: DreamSeriesImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/dream-series/images/${image.id}`, image);\r\n      else await api.post('/products/dream-series/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: DreamSeriesFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: DreamSeriesFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/dream-series/features/${feature.id}`, feature);\r\n      else await api.post('/products/dream-series/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: DreamSeriesVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: DreamSeriesVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/dream-series/variants/${variant.id}`, variant);\r\n      else await api.post('/products/dream-series/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Dream Series Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: DreamSeriesImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: DreamSeriesFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: DreamSeriesVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\nimport HfMobilePageManagement from './products/HfMobilePageManagement';\nimport HfFixedPageManagement from './products/HfFixedPageManagement';\nimport FpdCArmPageManagement from './products/FpdCArmPageManagement';\nimport HfCArm1kPageManagement from './products/HfCArm1kPageManagement';\nimport LineFrequencyPageManagement from './products/LineFrequencyPageManagement';\nimport DigitalRadiographyPageManagement from './products/DigitalRadiographyPageManagement';\nimport DreamSeriesPageManagement from './products/DreamSeriesPageManagement';\n\ntype ProductSection = 'hf-mobile' | 'hf-fixed' | 'fpd-c-arm' | 'hf-c-arm-1k' | 'line-frequency' | 'digital-radiography' | 'dream-series';\n\nexport default function ProductsPageManagement() {\n  const [activeSection, setActiveSection] = useState<ProductSection>('hf-mobile');\n\n  const sections = [\n    { id: 'hf-mobile' as ProductSection, label: 'HF Mobile', icon: 'ri-truck-line' },\n    { id: 'hf-fixed' as ProductSection, label: 'HF Fixed', icon: 'ri-hospital-line' },\n    { id: 'fpd-c-arm' as ProductSection, label: 'FPD C-Arm', icon: 'ri-scan-line' },\n    { id: 'hf-c-arm-1k' as ProductSection, label: '1K*1K High End HF C-ARM', icon: 'ri-vip-crown-line' },\n    { id: 'line-frequency' as ProductSection, label: 'Line Frequency', icon: 'ri-pulse-line' },\n    { id: 'digital-radiography' as ProductSection, label: 'Digital Radiography', icon: 'ri-image-line' },\n    { id: 'dream-series' as ProductSection, label: 'Dream Series', icon: 'ri-star-line' }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sections.map((section) => (\n              <button\n                key={section.id}\n                onClick={() => setActiveSection(section.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === section.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={section.icon}></i>\n                <span>{section.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div>\n        {activeSection === 'hf-mobile' && <HfMobilePageManagement />}\n        {activeSection === 'hf-fixed' && <HfFixedPageManagement />}\n        {activeSection === 'fpd-c-arm' && <FpdCArmPageManagement />}\n        {activeSection === 'hf-c-arm-1k' && <HfCArm1kPageManagement />}\n        {activeSection === 'line-frequency' && <LineFrequencyPageManagement />}\n        {activeSection === 'digital-radiography' && <DigitalRadiographyPageManagement />}\n        {activeSection === 'dream-series' && <DreamSeriesPageManagement />}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport ContentCard from '../../../../components/cms/ContentCard';\nimport { getImageUrl } from '../../../../utils/imageUrl';\n\ninterface Award {\n  id: number;\n  title: string;\n  description: string;\n  imageId: number | null;\n  awardDate: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface AwardsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: {\n    id: number;\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function AwardsPageManagement() {\n  const [activeTab, setActiveTab] = useState<'content' | 'awards'>('content');\n  const [awards, setAwards] = useState<Award[]>([]);\n  const [content, setContent] = useState<AwardsPageContent | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showAwardModal, setShowAwardModal] = useState(false);\n  const [editingAward, setEditingAward] = useState<Award | null>(null);\n  const [viewingAward, setViewingAward] = useState<Award | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchAwards();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<AwardsPageContent>('/awards/page-content');\n      if (response.success && response.data) {\n        setContent(response.data as AwardsPageContent);\n      } else {\n        // If content doesn't exist yet, use defaults\n        setContent({\n          heroTitle: null,\n          heroSubtitle: null,\n          heroImageId: null,\n          introText: null\n        });\n      }\n    } catch (error: any) {\n      // If it's a \"not found\" error, that's okay - use defaults\n      if (error.message && error.message.includes('not found')) {\n        setContent({\n          heroTitle: null,\n          heroSubtitle: null,\n          heroImageId: null,\n          introText: null\n        });\n      } else {\n        console.error('Error fetching page content:', error);\n        alert(error.message || 'Failed to load page content');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAwards = async () => {\n    setLoading(true);\n    try {\n      // Fetch all awards for CMS, regardless of isActive status\n      const response = await api.get<Award[]>('/awards');\n      if (response.success && response.data) {\n        setAwards((response.data as Award[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching awards:', error);\n      alert(error.message || 'Failed to load awards');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    if (!content) return;\n    \n    setSaving(true);\n    try {\n      const payload = {\n        heroTitle: content.heroTitle || null,\n        heroSubtitle: content.heroSubtitle || null,\n        heroImageId: content.heroImageId || null,\n        introText: content.introText || null\n      };\n      \n      const response = await api.put('/awards/page-content', payload);\n      if (response.success) {\n        alert('Page content saved successfully!');\n        fetchPageContent(); // Refresh to get updated data with associations\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save page content');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedAwards: Award[]) => {\n    setSaving(true);\n    try {\n      // Update orderIndex for each award\n      for (let i = 0; i < reorderedAwards.length; i++) {\n        await api.put(`/awards/${reorderedAwards[i].id}`, {\n          ...reorderedAwards[i],\n          orderIndex: i\n        });\n      }\n      setAwards(reorderedAwards);\n      alert('Awards order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveAward = async (award: Award) => {\n    setSaving(true);\n    try {\n      if (award.id && award.id > 0) {\n        await api.put(`/awards/${award.id}`, award);\n      } else {\n        await api.post('/awards', { ...award, orderIndex: awards.length });\n      }\n      setShowAwardModal(false);\n      setEditingAward(null);\n      fetchAwards();\n      alert('Award saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save award');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteAward = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this award?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/awards/${id}`);\n      setAwards(awards.filter(a => a.id !== id));\n      alert('Award deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete award');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Awards Management</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage awards page content and awards list</p>\n          </div>\n        </div>\n        \n        {/* Tabs */}\n        <div className=\"mt-4 border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'content'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-file-text-line mr-2\"></i>Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('awards')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'awards'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-award-line mr-2\"></i>Awards List\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {/* Page Content Tab */}\n      {activeTab === 'content' && (\n        <PageContentEditor\n          content={content}\n          setContent={setContent}\n          onSave={handleSavePageContent}\n          saving={saving}\n          loading={loading}\n        />\n      )}\n\n      {/* Awards List Tab */}\n      {activeTab === 'awards' && (\n        <div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Awards List</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">Manage individual awards and certifications</p>\n              </div>\n              <button\n                onClick={() => {\n                  setEditingAward({\n                    id: 0,\n                    title: '',\n                    description: '',\n                    imageId: null,\n                    awardDate: null,\n                    orderIndex: awards.length,\n                    isActive: true\n                  });\n                  setShowAwardModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Award\n              </button>\n            </div>\n          </div>\n\n          {/* Info Banner */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-start space-x-3\">\n              <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>Tip:</strong> Drag and drop awards to reorder them. The order shown here will appear on the website. Only award images are shown on the frontend (no titles).\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Awards List */}\n          {loading ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading awards...</p>\n            </div>\n          ) : awards.length === 0 ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-award-line text-6xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-600 mb-4\">No awards yet. Add your first award!</p>\n              <button\n                onClick={() => {\n                  setEditingAward({\n                    id: 0,\n                    title: '',\n                    description: '',\n                    imageId: null,\n                    awardDate: null,\n                    orderIndex: 0,\n                    isActive: true\n                  });\n                  setShowAwardModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Award\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <DragDropList\n                items={awards}\n                onReorder={handleReorder}\n                keyExtractor={(award) => award.id}\n                emptyMessage=\"No awards yet. Click 'Add Award' to get started!\"\n                renderItem={(award: Award) => (\n                  <div className=\"flex items-center space-x-4 w-full\">\n                    {award.image && (\n                      <img\n                        src={getImageUrl(award.image)}\n                        alt={award.title}\n                        className=\"w-20 h-20 object-cover rounded-lg\"\n                      />\n                    )}\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{award.title}</h3>\n                      <p className=\"text-sm text-gray-600 line-clamp-2\">{award.description}</p>\n                      {award.awardDate && (\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          <i className=\"ri-calendar-line mr-1\"></i>\n                          {new Date(award.awardDate).toLocaleDateString()}\n                        </p>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        award.isActive \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {award.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                      <button\n                        onClick={() => setViewingAward(award)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        title=\"View\"\n                      >\n                        <i className=\"ri-eye-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => {\n                          setEditingAward(award);\n                          setShowAwardModal(true);\n                        }}\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                        title=\"Edit\"\n                      >\n                        <i className=\"ri-edit-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteAward(award.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        title=\"Delete\"\n                      >\n                        <i className=\"ri-delete-bin-line\"></i>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Award Modal (Create/Edit) */}\n      {showAwardModal && editingAward && (\n        <AwardModal\n          award={editingAward}\n          onSave={handleSaveAward}\n          onClose={() => {\n            setShowAwardModal(false);\n            setEditingAward(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {/* Award View Modal */}\n      {viewingAward && (\n        <AwardViewModal\n          award={viewingAward}\n          onClose={() => setViewingAward(null)}\n          onEdit={() => {\n            setEditingAward(viewingAward);\n            setViewingAward(null);\n            setShowAwardModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\n// Page Content Editor Component\nfunction PageContentEditor({\n  content,\n  setContent,\n  onSave,\n  saving,\n  loading\n}: {\n  content: AwardsPageContent | null;\n  setContent: (content: AwardsPageContent | null) => void;\n  onSave: () => void;\n  saving: boolean;\n  loading: boolean;\n}) {\n  if (loading) {\n    return (\n      <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n        <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n        <p className=\"text-gray-600 mt-2\">Loading page content...</p>\n      </div>\n    );\n  }\n\n  if (!content) {\n    return (\n      <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n        <p className=\"text-gray-600\">No page content found.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Hero Section</h3>\n      \n      <div className=\"space-y-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero title (e.g., Awards & Recognition)\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <textarea\n            value={content.heroSubtitle || ''}\n            onChange={(e) => setContent({ ...content, heroSubtitle: e.target.value || null })}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero subtitle (optional)\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={content.heroImageId}\n          onChange={(id) => setContent({ ...content, heroImageId: id || null })}\n          label=\"Hero Background Image\"\n          aspectRatio=\"16/9\"\n          currentImage={content.heroImage}\n        />\n\n        <FormField label=\"Intro Text\">\n          <textarea\n            value={content.introText || ''}\n            onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter introduction text (optional)\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onSave}\n            disabled={saving}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Page Content'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Award Modal (Create/Edit)\nfunction AwardModal({ award, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Award>(award);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={award.id && award.id > 0 ? 'Edit Award' : 'Add New Award'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Award Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter award title\"\n          />\n        </FormField>\n\n        <FormField label=\"Description\" required>\n          <textarea\n            value={formData.description}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter award description\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Award Date\">\n            <input\n              type=\"date\"\n              value={formData.awardDate ? new Date(formData.awardDate).toISOString().split('T')[0] : ''}\n              onChange={(e) => setFormData({ ...formData, awardDate: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Status\">\n            <select\n              value={formData.isActive ? 'active' : 'inactive'}\n              onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Award Image\"\n          aspectRatio=\"1/1\"\n        />\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title || !formData.description}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : award.id && award.id > 0 ? 'Update Award' : 'Create Award'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Award View Modal\nfunction AwardViewModal({ award, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Award Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {award.image && (\n          <div className=\"rounded-lg overflow-hidden\">\n            <img\n              src={getImageUrl(award.image)}\n              alt={award.title}\n              className=\"w-full h-64 object-cover\"\n            />\n          </div>\n        )}\n\n        <div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{award.title}</h3>\n          <p className=\"text-gray-600 mb-4\">{award.description}</p>\n          \n          {award.awardDate && (\n            <p className=\"text-sm text-gray-500\">\n              <i className=\"ri-calendar-line mr-2\"></i>\n              Awarded on: {new Date(award.awardDate).toLocaleDateString('en-US', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })}\n            </p>\n          )}\n\n          <div className=\"mt-4\">\n            <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n              award.isActive \n                ? 'bg-green-100 text-green-800' \n                : 'bg-gray-100 text-gray-800'\n            }`}>\n              {award.isActive ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Award\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'jobs';\n\ninterface CareersPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  introImageId: number | null;\n  lifeAtAdonisTitle: string | null;\n  lifeAtAdonisBackgroundImageId: number | null;\n  lifeAtAdonisImageId: number | null;\n  heroImage?: { filePath: string };\n  introImage?: { filePath: string };\n  lifeAtAdonisBackgroundImage?: { filePath: string };\n  lifeAtAdonisImage?: { filePath: string };\n}\n\ninterface Job {\n  id: number;\n  title: string;\n  department: string | null;\n  location: string | null;\n  employmentType: string | null;\n  description: string | null;\n  requirements: string | null;\n  responsibilities: string | null;\n  salaryRange: string | null;\n  isActive: boolean;\n  postedDate: string | null;\n}\n\nexport default function CareersPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<CareersPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    introImageId: null,\n    lifeAtAdonisTitle: null,\n    lifeAtAdonisBackgroundImageId: null,\n    lifeAtAdonisImageId: null\n  });\n\n  // Jobs\n  const [jobs, setJobs] = useState<Job[]>([]);\n  const [showJobModal, setShowJobModal] = useState(false);\n  const [editingJob, setEditingJob] = useState<Job | null>(null);\n  const [viewingJob, setViewingJob] = useState<Job | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchJobs();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<CareersPageContent>('/careers');\n      if (response.success && response.data) {\n        setPageContent(response.data as CareersPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchJobs = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Job[]>('/careers/jobs');\n      if (response.success && response.data) {\n        setJobs(response.data as Job[]);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load jobs');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/careers', pageContent);\n      if (response.success) {\n        alert('Page content saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveJob = async (job: Job) => {\n    setSaving(true);\n    try {\n      if (job.id && job.id > 0) {\n        await api.put(`/careers/jobs/${job.id}`, job);\n      } else {\n        await api.post('/careers/jobs', { ...job, postedDate: new Date().toISOString() });\n      }\n      setShowJobModal(false);\n      setEditingJob(null);\n      fetchJobs();\n      alert('Job saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save job');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteJob = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this job?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/careers/jobs/${id}`);\n      setJobs(jobs.filter(j => j.id !== id));\n      alert('Job deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Careers Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage careers page content and job listings</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'content'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('jobs')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'jobs'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Job Listings\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : activeTab === 'content' ? (\n            <PageContentEditor\n              content={pageContent}\n              onChange={setPageContent}\n              onSave={handleSavePageContent}\n              saving={saving}\n            />\n          ) : (\n            <JobsListEditor\n              jobs={jobs}\n              onAdd={() => {\n                setEditingJob({\n                  id: 0,\n                  title: '',\n                  department: null,\n                  location: null,\n                  employmentType: null,\n                  description: null,\n                  requirements: null,\n                  responsibilities: null,\n                  salaryRange: null,\n                  isActive: true,\n                  postedDate: null\n                });\n                setShowJobModal(true);\n              }}\n              onEdit={(job) => {\n                setEditingJob(job);\n                setShowJobModal(true);\n              }}\n              onView={setViewingJob}\n              onDelete={handleDeleteJob}\n            />\n          )}\n        </div>\n      </div>\n\n      {showJobModal && editingJob && (\n        <JobModal\n          job={editingJob}\n          onSave={handleSaveJob}\n          onClose={() => {\n            setShowJobModal(false);\n            setEditingJob(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingJob && (\n        <JobViewModal\n          job={viewingJob}\n          onClose={() => setViewingJob(null)}\n          onEdit={() => {\n            setEditingJob(viewingJob);\n            setViewingJob(null);\n            setShowJobModal(true);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Page Content</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <input\n            type=\"text\"\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={content.heroImageId}\n            onChange={(id) => onChange({ ...content, heroImageId: id })}\n            label=\"Hero Image\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text\">\n            <textarea\n              value={content.introText || ''}\n              onChange={(e) => onChange({ ...content, introText: e.target.value || null })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={content.introImageId}\n          onChange={(id) => onChange({ ...content, introImageId: id })}\n          label=\"Intro Image\"\n        />\n      </div>\n\n      {/* Life at Adonis Medical Section */}\n      <div className=\"border-t pt-6 mt-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Life at Adonis Medical Section</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"md:col-span-2\">\n            <FormField label=\"Title\">\n              <input\n                type=\"text\"\n                value={content.lifeAtAdonisTitle || ''}\n                onChange={(e) => onChange({ ...content, lifeAtAdonisTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Life at Adonis Medical\"\n              />\n            </FormField>\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <ImageSelector\n              value={content.lifeAtAdonisBackgroundImageId}\n              onChange={(id) => onChange({ ...content, lifeAtAdonisBackgroundImageId: id })}\n              label=\"Background Image\"\n            />\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <ImageSelector\n              value={content.lifeAtAdonisImageId}\n              onChange={(id) => onChange({ ...content, lifeAtAdonisImageId: id })}\n              label=\"Section Image\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction JobsListEditor({ jobs, onAdd, onEdit, onView, onDelete }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Job Listings</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Job\n        </button>\n      </div>\n\n      {jobs.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n          <i className=\"ri-briefcase-line text-4xl text-gray-400 mb-2\"></i>\n          <p className=\"text-gray-500\">No jobs yet. Add your first job!</p>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {jobs.map((job: Job) => (\n            <div key={job.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-semibold text-gray-900\">{job.title}</h4>\n                  <div className=\"flex flex-wrap gap-2 mt-2 text-sm text-gray-600\">\n                    {job.department && <span><i className=\"ri-building-line mr-1\"></i>{job.department}</span>}\n                    {job.location && <span><i className=\"ri-map-pin-line mr-1\"></i>{job.location}</span>}\n                    {job.employmentType && <span><i className=\"ri-time-line mr-1\"></i>{job.employmentType}</span>}\n                  </div>\n                  {job.postedDate && (\n                    <p className=\"text-xs text-gray-500 mt-2\">\n                      Posted: {new Date(job.postedDate).toLocaleDateString()}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2 ml-4\">\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    job.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {job.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                  <button\n                    onClick={() => onView(job)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-eye-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onEdit(job)}\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onDelete(job.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction JobModal({ job, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Job>(job);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={job.id && job.id > 0 ? 'Edit Job' : 'Add New Job'}\n      size=\"xl\"\n    >\n      <div className=\"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Job Title\" required>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Department\">\n            <input\n              type=\"text\"\n              value={formData.department || ''}\n              onChange={(e) => setFormData({ ...formData, department: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Location\">\n            <input\n              type=\"text\"\n              value={formData.location || ''}\n              onChange={(e) => setFormData({ ...formData, location: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Employment Type\">\n            <select\n              value={formData.employmentType || ''}\n              onChange={(e) => setFormData({ ...formData, employmentType: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Select type</option>\n              <option value=\"Full-time\">Full-time</option>\n              <option value=\"Part-time\">Part-time</option>\n              <option value=\"Contract\">Contract</option>\n              <option value=\"Internship\">Internship</option>\n            </select>\n          </FormField>\n\n          <FormField label=\"Salary Range\">\n            <input\n              type=\"text\"\n              value={formData.salaryRange || ''}\n              onChange={(e) => setFormData({ ...formData, salaryRange: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"e.g., $50,000 - $70,000\"\n            />\n          </FormField>\n\n          <FormField label=\"Status\">\n            <select\n              value={formData.isActive ? 'active' : 'inactive'}\n              onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n        </div>\n\n        <FormField label=\"Job Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Requirements\">\n          <textarea\n            value={formData.requirements || ''}\n            onChange={(e) => setFormData({ ...formData, requirements: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Responsibilities\">\n          <textarea\n            value={formData.responsibilities || ''}\n            onChange={(e) => setFormData({ ...formData, responsibilities: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : job.id && job.id > 0 ? 'Update Job' : 'Create Job'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction JobViewModal({ job, onClose, onEdit }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Job Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">{job.title}</h3>\n          <div className=\"flex flex-wrap gap-4 text-sm text-gray-600 mb-4\">\n            {job.department && <span><i className=\"ri-building-line mr-1\"></i>{job.department}</span>}\n            {job.location && <span><i className=\"ri-map-pin-line mr-1\"></i>{job.location}</span>}\n            {job.employmentType && <span><i className=\"ri-time-line mr-1\"></i>{job.employmentType}</span>}\n            {job.salaryRange && <span><i className=\"ri-money-dollar-circle-line mr-1\"></i>{job.salaryRange}</span>}\n          </div>\n          {job.postedDate && (\n            <p className=\"text-sm text-gray-500\">\n              Posted: {new Date(job.postedDate).toLocaleDateString()}\n            </p>\n          )}\n        </div>\n\n        {job.description && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Description</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.description}</p>\n          </div>\n        )}\n\n        {job.requirements && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Requirements</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.requirements}</p>\n          </div>\n        )}\n\n        {job.responsibilities && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Responsibilities</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.responsibilities}</p>\n          </div>\n        )}\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Job\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\n\ninterface ContactUsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  introText: string | null;\n}\n\nexport default function ContactPageManagement() {\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<ContactUsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    introText: null\n  });\n\n  useEffect(() => {\n    fetchContent();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ContactUsPageContent>('/contact-us');\n      if (response.success && response.data) {\n        setContent(response.data as ContactUsPageContent);\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/contact-us', content);\n      if (response.success) {\n        alert('Contact page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Contact Us Page</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage contact page content</p>\n          </div>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"space-y-6\">\n            <FormField label=\"Hero Title\">\n              <input\n                type=\"text\"\n                value={content.heroTitle || ''}\n                onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Contact Us\"\n              />\n            </FormField>\n\n            <FormField label=\"Hero Subtitle\">\n              <input\n                type=\"text\"\n                value={content.heroSubtitle || ''}\n                onChange={(e) => setContent({ ...content, heroSubtitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Get in touch with us\"\n              />\n            </FormField>\n\n            <FormField label=\"Intro Text\">\n              <textarea\n                value={content.introText || ''}\n                onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n                rows={6}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter introduction text for the contact page\"\n              />\n            </FormField>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface SMTPConfig {\n  host: string;\n  port: string;\n  username: string;\n  password: string;\n  fromEmail: string;\n  fromName: string;\n  encryption: 'none' | 'ssl' | 'tls';\n  enabled: boolean;\n}\n\nexport default function SMTPConfiguration() {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isTesting, setIsTesting] = useState(false);\n  const [testResult, setTestResult] = useState<{ success: boolean; message: string } | null>(null);\n\n  const [smtpConfig, setSmtpConfig] = useState<SMTPConfig>({\n    host: 'smtp.gmail.com',\n    port: '587',\n    username: 'your-email@gmail.com',\n    password: '',\n    fromEmail: 'noreply@adonismedical.com',\n    fromName: 'Adonis Medical',\n    encryption: 'tls',\n    enabled: true\n  });\n\n  const [testEmail, setTestEmail] = useState('');\n\n  const handleSave = () => {\n    console.log('Saving SMTP configuration:', smtpConfig);\n    setIsEditing(false);\n    setTestResult({ success: true, message: 'SMTP configuration saved successfully!' });\n    setTimeout(() => setTestResult(null), 5000);\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n  };\n\n  const handleTestConnection = async () => {\n    if (!testEmail) {\n      setTestResult({ success: false, message: 'Please enter a test email address' });\n      return;\n    }\n\n    setIsTesting(true);\n    setTestResult(null);\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsTesting(false);\n      setTestResult({\n        success: true,\n        message: `Test email sent successfully to ${testEmail}! Please check your inbox.`\n      });\n    }, 2000);\n  };\n\n  const commonSMTPProviders = [\n    {\n      name: 'Gmail',\n      host: 'smtp.gmail.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use App Password for Gmail accounts with 2FA enabled'\n    },\n    {\n      name: 'Outlook/Office 365',\n      host: 'smtp.office365.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use your Microsoft account credentials'\n    },\n    {\n      name: 'Yahoo Mail',\n      host: 'smtp.mail.yahoo.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Generate an app password in Yahoo account settings'\n    },\n    {\n      name: 'SendGrid',\n      host: 'smtp.sendgrid.net',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use \"apikey\" as username and your API key as password'\n    },\n    {\n      name: 'Mailgun',\n      host: 'smtp.mailgun.org',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use your Mailgun SMTP credentials'\n    }\n  ];\n\n  const applyProvider = (provider: typeof commonSMTPProviders[0]) => {\n    setSmtpConfig({\n      ...smtpConfig,\n      host: provider.host,\n      port: provider.port,\n      encryption: provider.encryption\n    });\n    setIsEditing(true);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* SMTP Configuration */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-xl font-bold text-[#1F2937]\">SMTP Configuration</h2>\n            <p className=\"text-sm text-[#6B7280] mt-1\">Configure email server settings for sending emails</p>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {!isEditing ? (\n              <button\n                onClick={() => setIsEditing(true)}\n                className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-edit-line mr-2\"></i>Edit Configuration\n              </button>\n            ) : (\n              <>\n                <button\n                  onClick={handleCancel}\n                  className=\"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSave}\n                  className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                >\n                  Save Configuration\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Status Alert */}\n        {testResult && (\n          <div className={`mb-6 p-4 rounded-lg border ${\n            testResult.success \n              ? 'bg-[#D1FAE5] border-[#6EE7B7] text-[#065F46]' \n              : 'bg-[#FEE2E2] border-[#FCA5A5] text-[#991B1B]'\n          }`}>\n            <div className=\"flex items-center space-x-3\">\n              <i className={`${testResult.success ? 'ri-checkbox-circle-line' : 'ri-error-warning-line'} text-xl`}></i>\n              <p className=\"text-sm font-medium\">{testResult.message}</p>\n            </div>\n          </div>\n        )}\n\n        {isEditing ? (\n          <div className=\"space-y-6\">\n            {/* Enable/Disable Toggle */}\n            <div className=\"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]\">\n              <div>\n                <h3 className=\"text-sm font-semibold text-[#1F2937]\">Enable SMTP</h3>\n                <p className=\"text-xs text-[#6B7280] mt-1\">Turn on/off email sending functionality</p>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={smtpConfig.enabled}\n                  onChange={(e) => setSmtpConfig({ ...smtpConfig, enabled: e.target.checked })}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-[#D1D5DB] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#BFDBFE] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#D1D5DB] after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#2563EB]\"></div>\n              </label>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Server Settings */}\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Server Settings</h3>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">SMTP Host</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.host}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, host: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"smtp.example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">SMTP Port</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.port}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, port: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"587\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Encryption</label>\n                  <select\n                    value={smtpConfig.encryption}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, encryption: e.target.value as SMTPConfig['encryption'] })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                  >\n                    <option value=\"none\">None</option>\n                    <option value=\"ssl\">SSL</option>\n                    <option value=\"tls\">TLS (Recommended)</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Username</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.username}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, username: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"your-email@example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Password</label>\n                  <input\n                    type=\"password\"\n                    value={smtpConfig.password}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, password: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"\"\n                  />\n                </div>\n              </div>\n\n              {/* Sender Settings */}\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Sender Settings</h3>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">From Email</label>\n                  <input\n                    type=\"email\"\n                    value={smtpConfig.fromEmail}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, fromEmail: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"noreply@example.com\"\n                  />\n                  <p className=\"text-xs text-[#6B7280] mt-1\">Email address that will appear as sender</p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">From Name</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.fromName}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, fromName: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"Your Company Name\"\n                  />\n                  <p className=\"text-xs text-[#6B7280] mt-1\">Name that will appear as sender</p>\n                </div>\n\n                {/* Test Email Section */}\n                <div className=\"mt-6 p-4 bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg\">\n                  <h4 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Test Email Connection</h4>\n                  <div className=\"space-y-3\">\n                    <input\n                      type=\"email\"\n                      value={testEmail}\n                      onChange={(e) => setTestEmail(e.target.value)}\n                      className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                      placeholder=\"test@example.com\"\n                    />\n                    <button\n                      onClick={handleTestConnection}\n                      disabled={isTesting}\n                      className=\"w-full px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {isTesting ? (\n                        <>\n                          <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                          Sending Test Email...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"ri-mail-send-line mr-2\"></i>\n                          Send Test Email\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h3 className=\"text-sm font-semibold text-[#1F2937]\">Status</h3>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                    smtpConfig.enabled \n                      ? 'bg-[#D1FAE5] text-[#065F46]' \n                      : 'bg-[#FEE2E2] text-[#991B1B]'\n                  }`}>\n                    {smtpConfig.enabled ? 'Enabled' : 'Disabled'}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Server Settings</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Host:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.host}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Port:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.port}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Encryption:</span>\n                    <span className=\"text-[#1F2937] font-medium uppercase\">{smtpConfig.encryption}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Username:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.username}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Sender Information</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">From Email:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.fromEmail}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">From Name:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.fromName}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Common SMTP Providers */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <h2 className=\"text-xl font-bold text-[#1F2937] mb-4\">Common SMTP Providers</h2>\n        <p className=\"text-sm text-[#6B7280] mb-6\">Quick setup with popular email service providers</p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {commonSMTPProviders.map((provider) => (\n            <div key={provider.name} className=\"border border-[#E5E7EB] rounded-lg p-4 hover:shadow-md transition-all\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937]\">{provider.name}</h3>\n                <button\n                  onClick={() => applyProvider(provider)}\n                  className=\"px-3 py-1 bg-[#2563EB] text-white text-xs rounded-lg hover:bg-[#1D4ED8] transition-all cursor-pointer whitespace-nowrap\"\n                >\n                  Use This\n                </button>\n              </div>\n              <div className=\"space-y-1 text-xs text-[#6B7280] mb-3\">\n                <p><strong>Host:</strong> {provider.host}</p>\n                <p><strong>Port:</strong> {provider.port}</p>\n                <p><strong>Encryption:</strong> {provider.encryption.toUpperCase()}</p>\n              </div>\n              <p className=\"text-xs text-[#6B7280] bg-[#F9FAFB] p-2 rounded\">\n                <i className=\"ri-information-line mr-1\"></i>\n                {provider.note}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Help & Documentation */}\n      <div className=\"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-6\">\n        <div className=\"flex items-start space-x-3\">\n          <i className=\"ri-information-line text-[#2563EB] text-2xl mt-0.5\"></i>\n          <div className=\"flex-1\">\n            <h3 className=\"text-sm font-semibold text-[#1E40AF] mb-2\">SMTP Configuration Help</h3>\n            <ul className=\"text-sm text-[#1E40AF] space-y-2\">\n              <li><strong>Port 587 (TLS):</strong> Recommended for most providers, uses STARTTLS encryption</li>\n              <li><strong>Port 465 (SSL):</strong> Uses SSL encryption, supported by some providers</li>\n              <li><strong>Port 25:</strong> Standard SMTP port, often blocked by ISPs</li>\n              <li><strong>Gmail Users:</strong> Enable \"Less secure app access\" or use App Passwords with 2FA</li>\n              <li><strong>Testing:</strong> Always send a test email after configuration to verify settings</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'page' | 'specialties';\n\ninterface Specialty {\n  id: number;\n  name: string;\n  slug: string;\n  description: string | null;\n  imageId: number | null;\n  iconClass: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface SpecialtiesPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface SpecialtiesPageCard {\n  id: number;\n  name: string;\n  backgroundImageId: number | null;\n  cardImageId: number | null;\n  internalLink: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  cardImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function SpecialtiesPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('page');\n  const [specialties, setSpecialties] = useState<Specialty[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showSpecialtyModal, setShowSpecialtyModal] = useState(false);\n  const [editingSpecialty, setEditingSpecialty] = useState<Specialty | null>(null);\n  const [viewingSpecialty, setViewingSpecialty] = useState<Specialty | null>(null);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<SpecialtiesPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  // Page Cards\n  const [pageCards, setPageCards] = useState<SpecialtiesPageCard[]>([]);\n  const [showCardModal, setShowCardModal] = useState(false);\n  const [editingCard, setEditingCard] = useState<SpecialtiesPageCard | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'page') {\n      fetchPageContent();\n      fetchPageCards();\n    } else {\n      fetchSpecialties();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<SpecialtiesPageContent>('/specialties/page/content');\n      if (response.success && response.data) {\n        setPageContent(response.data as SpecialtiesPageContent);\n      }\n    } catch (error: any) {\n      console.error('Error fetching page content:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPageCards = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<SpecialtiesPageCard[]>('/specialties/page/cards');\n      if (response.success && response.data) {\n        setPageCards((response.data as SpecialtiesPageCard[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching page cards:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSpecialties = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Specialty[]>('/specialties');\n      if (response.success && response.data) {\n        setSpecialties((response.data as Specialty[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching specialties:', error);\n      alert(error.message || 'Failed to load specialties');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/specialties/page/content', pageContent);\n      if (response.success) {\n        alert('Page content saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveCard = async (card: SpecialtiesPageCard) => {\n    setSaving(true);\n    try {\n      if (card.id && card.id > 0) {\n        await api.put(`/specialties/page/cards/${card.id}`, card);\n      } else {\n        await api.post('/specialties/page/cards', { ...card, orderIndex: pageCards.length });\n      }\n      setShowCardModal(false);\n      setEditingCard(null);\n      fetchPageCards();\n      alert('Card saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save card');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteCard = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this card?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/specialties/page/cards/${id}`);\n      setPageCards(pageCards.filter(c => c.id !== id));\n      alert('Card deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderCards = async (reorderedCards: SpecialtiesPageCard[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedCards.length; i++) {\n        await api.put(`/specialties/page/cards/${reorderedCards[i].id}`, {\n          ...reorderedCards[i],\n          orderIndex: i\n        });\n      }\n      setPageCards(reorderedCards);\n      alert('Cards order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedSpecialties: Specialty[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedSpecialties.length; i++) {\n        await api.put(`/specialties/${reorderedSpecialties[i].id}`, {\n          ...reorderedSpecialties[i],\n          orderIndex: i\n        });\n      }\n      setSpecialties(reorderedSpecialties);\n      alert('Specialties order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSpecialty = async (specialty: Specialty) => {\n    setSaving(true);\n    try {\n      // Generate slug from name if not provided\n      if (!specialty.slug && specialty.name) {\n        specialty.slug = specialty.name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '');\n      }\n\n      if (specialty.id && specialty.id > 0) {\n        await api.put(`/specialties/${specialty.id}`, specialty);\n      } else {\n        await api.post('/specialties', { ...specialty, orderIndex: specialties.length });\n      }\n      setShowSpecialtyModal(false);\n      setEditingSpecialty(null);\n      fetchSpecialties();\n      alert('Specialty saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save specialty');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteSpecialty = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this specialty?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/specialties/${id}`);\n      setSpecialties(specialties.filter(s => s.id !== id));\n      alert('Specialty deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete specialty');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (specialty: Specialty): string => {\n    if (!specialty.image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${specialty.image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Specialties Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage specialties page content and cards</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('page')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'page'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content & Cards\n            </button>\n            <button\n              onClick={() => setActiveTab('specialties')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'specialties'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              General Specialties\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : activeTab === 'page' ? (\n            <>\n              <PageContentEditor\n                content={pageContent}\n                onChange={setPageContent}\n                onSave={handleSavePageContent}\n                saving={saving}\n              />\n              <div className=\"border-t mt-8 pt-8\">\n                <CardsEditor\n                  cards={pageCards}\n                  onAdd={() => {\n                    setEditingCard({\n                      id: 0,\n                      name: '',\n                      backgroundImageId: null,\n                      cardImageId: null,\n                      internalLink: null,\n                      orderIndex: pageCards.length,\n                      isActive: true\n                    });\n                    setShowCardModal(true);\n                  }}\n                  onEdit={(card) => {\n                    setEditingCard(card);\n                    setShowCardModal(true);\n                  }}\n                  onDelete={handleDeleteCard}\n                  onReorder={handleReorderCards}\n                  saving={saving}\n                />\n              </div>\n            </>\n          ) : (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">General Specialties</h3>\n                <button\n                  onClick={() => {\n                    setEditingSpecialty({\n                      id: 0,\n                      name: '',\n                      slug: '',\n                      description: null,\n                      imageId: null,\n                      iconClass: null,\n                      orderIndex: specialties.length,\n                      isActive: true\n                    });\n                    setShowSpecialtyModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Specialty\n                </button>\n              </div>\n\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-blue-800\">\n                      <strong>Tip:</strong> Drag and drop specialties to reorder them.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {specialties.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-stethoscope-line text-6xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-600 mb-4\">No specialties yet. Add your first specialty!</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={specialties}\n                  onReorder={handleReorder}\n                  keyExtractor={(specialty) => specialty.id}\n                  emptyMessage=\"No specialties yet. Click 'Add Specialty' to get started!\"\n                  renderItem={(specialty: Specialty) => (\n                    <div className=\"flex items-center space-x-4 w-full\">\n                      {specialty.iconClass && (\n                        <i className={`${specialty.iconClass} text-3xl text-blue-600`}></i>\n                      )}\n                      {specialty.image && !specialty.iconClass && (\n                        <img\n                          src={getImageUrl(specialty)}\n                          alt={specialty.name}\n                          className=\"w-12 h-12 object-cover rounded-lg\"\n                        />\n                      )}\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900\">{specialty.name}</h3>\n                        {specialty.description && (\n                          <p className=\"text-sm text-gray-600 line-clamp-1\">{specialty.description}</p>\n                        )}\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${\n                          specialty.isActive \n                            ? 'bg-green-100 text-green-800' \n                            : 'bg-gray-100 text-gray-800'\n                        }`}>\n                          {specialty.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button\n                          onClick={() => setViewingSpecialty(specialty)}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                          title=\"View\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => {\n                            setEditingSpecialty(specialty);\n                            setShowSpecialtyModal(true);\n                          }}\n                          className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                          title=\"Edit\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteSpecialty(specialty.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                          title=\"Delete\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showCardModal && editingCard && (\n        <CardModal\n          card={editingCard}\n          onSave={handleSaveCard}\n          onClose={() => {\n            setShowCardModal(false);\n            setEditingCard(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {showSpecialtyModal && editingSpecialty && (\n        <SpecialtyModal\n          specialty={editingSpecialty}\n          onSave={handleSaveSpecialty}\n          onClose={() => {\n            setShowSpecialtyModal(false);\n            setEditingSpecialty(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingSpecialty && (\n        <SpecialtyViewModal\n          specialty={viewingSpecialty}\n          onClose={() => setViewingSpecialty(null)}\n          onEdit={() => {\n            setEditingSpecialty(viewingSpecialty);\n            setViewingSpecialty(null);\n            setShowSpecialtyModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\n// Page Content Editor\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Hero Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <input\n            type=\"text\"\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={content.heroImageId}\n            onChange={(id) => onChange({ ...content, heroImageId: id })}\n            label=\"Hero Background Image\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text\">\n            <textarea\n              value={content.introText || ''}\n              onChange={(e) => onChange({ ...content, introText: e.target.value || null })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Cards Editor\nfunction CardsEditor({ cards, onAdd, onEdit, onDelete, onReorder, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Specialties Cards</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Card\n        </button>\n      </div>\n\n      {cards.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n          <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\n          <p className=\"text-gray-500\">No cards yet. Add your first card!</p>\n        </div>\n      ) : (\n        <DragDropList\n          items={cards}\n          onReorder={onReorder}\n          keyExtractor={(card: SpecialtiesPageCard) => card.id}\n          emptyMessage=\"No cards yet. Click 'Add Card' to get started!\"\n          renderItem={(card: SpecialtiesPageCard) => (\n            <div className=\"flex items-center space-x-4 w-full\">\n              {card.cardImage && (\n                <img\n                  src={getCardImageUrl(card)}\n                  alt={card.name}\n                  className=\"w-16 h-16 object-cover rounded-lg\"\n                />\n              )}\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-gray-900\">{card.name}</h3>\n                {card.internalLink && (\n                  <p className=\"text-sm text-gray-600\">Link: {card.internalLink}</p>\n                )}\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <span className={`px-2 py-1 text-xs rounded-full ${\n                  card.isActive \n                    ? 'bg-green-100 text-green-800' \n                    : 'bg-gray-100 text-gray-800'\n                }`}>\n                  {card.isActive ? 'Active' : 'Inactive'}\n                </span>\n                <button\n                  onClick={() => onEdit(card)}\n                  className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                  title=\"Edit\"\n                >\n                  <i className=\"ri-edit-line\"></i>\n                </button>\n                <button\n                  onClick={() => onDelete(card.id)}\n                  className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  title=\"Delete\"\n                >\n                  <i className=\"ri-delete-bin-line\"></i>\n                </button>\n              </div>\n            </div>\n          )}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction getCardImageUrl(card: SpecialtiesPageCard): string {\n  if (!card.cardImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${card.cardImage.filePath}`;\n}\n\n// Card Modal\nfunction CardModal({ card, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<SpecialtiesPageCard>(card);\n\n  useEffect(() => {\n    setFormData(card);\n  }, [card]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={card.id && card.id > 0 ? 'Edit Card' : 'Add New Card'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Card Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Radiology\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ImageSelector\n            value={formData.backgroundImageId}\n            onChange={(id) => setFormData({ ...formData, backgroundImageId: id })}\n            label=\"Background Image\"\n          />\n\n          <ImageSelector\n            value={formData.cardImageId}\n            onChange={(id) => setFormData({ ...formData, cardImageId: id })}\n            label=\"Card Image\"\n          />\n        </div>\n\n        <FormField label=\"Internal Link\" hint=\"Page URL to redirect to (e.g., /products, /about)\">\n          <input\n            type=\"text\"\n            value={formData.internalLink || ''}\n            onChange={(e) => setFormData({ ...formData, internalLink: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : card.id && card.id > 0 ? 'Update Card' : 'Create Card'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SpecialtyModal({ specialty, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Specialty>(specialty);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={specialty.id && specialty.id > 0 ? 'Edit Specialty' : 'Add New Specialty'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Specialty Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => {\n              const name = e.target.value;\n              setFormData({ \n                ...formData, \n                name,\n                slug: name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '')\n              });\n            }}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Cardiology\"\n          />\n        </FormField>\n\n        <FormField label=\"Slug\" hint=\"Auto-generated from name, or customize\">\n          <input\n            type=\"text\"\n            value={formData.slug}\n            onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"cardiology\"\n          />\n        </FormField>\n\n        <FormField label=\"Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter specialty description\"\n          />\n        </FormField>\n\n        <FormField label=\"Icon Class\" hint=\"Use RemixIcon class (e.g., ri-heart-line)\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-heart-line\"\n          />\n          {formData.iconClass && (\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Preview: <i className={formData.iconClass}></i>\n            </div>\n          )}\n        </FormField>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Specialty Image\"\n          aspectRatio=\"1/1\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name || !formData.slug}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : specialty.id && specialty.id > 0 ? 'Update Specialty' : 'Create Specialty'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SpecialtyViewModal({ specialty, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Specialty Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center space-x-4\">\n          {specialty.iconClass && (\n            <i className={`${specialty.iconClass} text-5xl text-blue-600`}></i>\n          )}\n          {specialty.image && !specialty.iconClass && (\n            <img\n              src={getImageUrl(specialty)}\n              alt={specialty.name}\n              className=\"w-20 h-20 object-cover rounded-lg\"\n            />\n          )}\n          <div>\n            <h3 className=\"text-2xl font-bold text-gray-900\">{specialty.name}</h3>\n            <p className=\"text-sm text-gray-500\">Slug: {specialty.slug}</p>\n          </div>\n        </div>\n\n        {specialty.description && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Description</h4>\n            <p className=\"text-gray-600\">{specialty.description}</p>\n          </div>\n        )}\n\n        <div>\n          <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n            specialty.isActive \n              ? 'bg-green-100 text-green-800' \n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {specialty.isActive ? 'Active' : 'Inactive'}\n          </span>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Specialty\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'documents';\n\ninterface InvestorRelationsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n}\n\ninterface InvestorDocument {\n  id: number;\n  title: string;\n  description: string | null;\n  fileId: number | null;\n  documentType: string | null;\n  publishDate: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  file?: {\n    filePath: string;\n    fileName: string;\n  };\n}\n\nexport default function InvestorRelationsPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<InvestorRelationsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  const [documents, setDocuments] = useState<InvestorDocument[]>([]);\n  const [showDocumentModal, setShowDocumentModal] = useState(false);\n  const [editingDocument, setEditingDocument] = useState<InvestorDocument | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchDocuments();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<InvestorRelationsPageContent>('/investor-relations');\n      if (response.success && response.data) {\n        setPageContent(response.data as InvestorRelationsPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDocuments = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<InvestorDocument[]>('/investor-relations/documents');\n      if (response.success && response.data) {\n        setDocuments((response.data as InvestorDocument[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load documents');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/investor-relations', pageContent);\n      alert('Page content saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedDocs: InvestorDocument[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedDocs.length; i++) {\n        await api.put(`/investor-relations/documents/${reorderedDocs[i].id}`, {\n          ...reorderedDocs[i],\n          orderIndex: i\n        });\n      }\n      setDocuments(reorderedDocs);\n      alert('Documents order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveDocument = async (doc: InvestorDocument) => {\n    setSaving(true);\n    try {\n      if (doc.id && doc.id > 0) {\n        await api.put(`/investor-relations/documents/${doc.id}`, doc);\n      } else {\n        await api.post('/investor-relations/documents', { ...doc, orderIndex: documents.length });\n      }\n      setShowDocumentModal(false);\n      setEditingDocument(null);\n      fetchDocuments();\n      alert('Document saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteDocument = async (id: number) => {\n    if (!confirm('Delete this document?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/investor-relations/documents/${id}`);\n      setDocuments(documents.filter(d => d.id !== id));\n      alert('Document deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Investor Relations</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and investor documents</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('documents')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'documents' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Documents\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button\n                  onClick={handleSavePageContent}\n                  disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                >\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\">\n                  <input\n                    type=\"text\"\n                    value={pageContent.heroTitle || ''}\n                    onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  />\n                </FormField>\n                <FormField label=\"Hero Subtitle\">\n                  <input\n                    type=\"text\"\n                    value={pageContent.heroSubtitle || ''}\n                    onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector\n                    value={pageContent.heroImageId}\n                    onChange={(id) => setPageContent({ ...pageContent, heroImageId: id })}\n                    label=\"Hero Image\"\n                  />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Intro Text\">\n                    <textarea\n                      value={pageContent.introText || ''}\n                      onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })}\n                      rows={4}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </FormField>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Investor Documents</h3>\n                <button\n                  onClick={() => {\n                    setEditingDocument({\n                      id: 0,\n                      title: '',\n                      description: null,\n                      fileId: null,\n                      documentType: null,\n                      publishDate: null,\n                      orderIndex: documents.length,\n                      isActive: true\n                    });\n                    setShowDocumentModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Document\n                </button>\n              </div>\n              {documents.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-file-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No documents yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={documents}\n                  onReorder={handleReorder}\n                  keyExtractor={(doc) => doc.id}\n                  renderItem={(doc: InvestorDocument) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-semibold text-gray-900\">{doc.title}</h4>\n                        {doc.documentType && <p className=\"text-sm text-gray-600\">{doc.documentType}</p>}\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${doc.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                          {doc.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button onClick={() => { setEditingDocument(doc); setShowDocumentModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteDocument(doc.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showDocumentModal && editingDocument && (\n        <DocumentModal\n          document={editingDocument}\n          onSave={handleSaveDocument}\n          onClose={() => { setShowDocumentModal(false); setEditingDocument(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction DocumentModal({ document, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<InvestorDocument>(document);\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setUploading(true);\n    try {\n      const formDataObj = new FormData();\n      formDataObj.append('file', file);\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch(`${import.meta.env.VITE_API_URL?.replace('/api/v1', '')}/api/v1/upload/file`, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token || ''}` },\n        body: formDataObj\n      });\n      const data = await response.json();\n      if (data.success && data.mediaId) {\n        setFormData({ ...formData, fileId: data.mediaId });\n      }\n    } catch (error) {\n      alert('Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={document.id > 0 ? 'Edit Document' : 'Add Document'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Document Type\">\n          <select\n            value={formData.documentType || ''}\n            onChange={(e) => setFormData({ ...formData, documentType: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Select type</option>\n            <option value=\"Annual Report\">Annual Report</option>\n            <option value=\"Quarterly Report\">Quarterly Report</option>\n            <option value=\"Press Release\">Press Release</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </FormField>\n        <FormField label=\"Publish Date\">\n          <input\n            type=\"date\"\n            value={formData.publishDate ? new Date(formData.publishDate).toISOString().split('T')[0] : ''}\n            onChange={(e) => setFormData({ ...formData, publishDate: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Document File\">\n          <input\n            type=\"file\"\n            accept=\".pdf,.doc,.docx\"\n            onChange={handleFileUpload}\n            disabled={uploading}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n          {uploading && <p className=\"text-sm text-blue-600 mt-2\">Uploading...</p>}\n        </FormField>\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport { getImageUrl } from '../../../../utils/imageUrl';\n\ntype TabType = 'content' | 'clients';\n\ninterface ClientsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: { filePath: string };\n}\n\ninterface Client {\n  id: number;\n  name: string;\n  logoId: number | null;\n  websiteUrl: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  logo?: {\n    filePath: string;\n    altText: string;\n    fileName: string;\n  };\n}\n\nexport default function ClientsPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [clients, setClients] = useState<Client[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showClientModal, setShowClientModal] = useState(false);\n  const [editingClient, setEditingClient] = useState<Client | null>(null);\n  const [viewingClient, setViewingClient] = useState<Client | null>(null);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<ClientsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchClients();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ClientsPageContent>('/clients/page-content');\n      if (response.success && response.data) {\n        const data = response.data as ClientsPageContent;\n        setPageContent({\n          id: data.id || undefined,\n          heroTitle: data.heroTitle || null,\n          heroSubtitle: data.heroSubtitle || null,\n          heroImageId: data.heroImageId || null,\n          introText: data.introText || null,\n          heroImage: data.heroImage\n        });\n      }\n    } catch (error: any) {\n      console.error('Error fetching page content:', error);\n      // Don't show alert for \"not found\" - it's okay if content doesn't exist yet\n      if (!error.message?.includes('not found')) {\n        alert(error.message || 'Failed to load page content');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchClients = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Client[]>('/clients');\n      if (response.success && response.data) {\n        setClients((response.data as Client[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching clients:', error);\n      alert(error.message || 'Failed to load clients');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      // Only send the fields that should be updated\n      const payload = {\n        heroTitle: pageContent.heroTitle || null,\n        heroSubtitle: pageContent.heroSubtitle || null,\n        heroImageId: pageContent.heroImageId || null,\n        introText: pageContent.introText || null\n      };\n      \n      const response = await api.put('/clients/page-content', payload);\n      if (response.success) {\n        alert('Page content saved successfully!');\n        fetchPageContent(); // Refresh to get updated data with associations\n      } else {\n        throw new Error(response.message || 'Failed to save page content');\n      }\n    } catch (error: any) {\n      console.error('Error saving page content:', error);\n      alert(error.message || 'Failed to save page content');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Extract client name from logo filename or use existing name\n  const getClientDisplayName = (client: Client): string => {\n    // If name exists and is not generic, use it\n    if (client.name && !client.name.match(/^Client\\s+\\d+$/i)) {\n      return client.name;\n    }\n    \n    // Try to extract from logo altText\n    if (client.logo?.altText) {\n      return client.logo.altText;\n    }\n    \n    // Try to extract from logo filename (remove extension and clean up)\n    if (client.logo?.fileName) {\n      const name = client.logo.fileName\n        .replace(/\\.[^/.]+$/, '') // Remove extension\n        .replace(/[-_]/g, ' ') // Replace dashes/underscores with spaces\n        .replace(/\\b\\w/g, l => l.toUpperCase()); // Capitalize words\n      if (name && name !== 'Logo') {\n        return name;\n      }\n    }\n    \n    // Fallback to original name\n    return client.name || 'Unnamed Client';\n  };\n\n  const handleReorder = async (reorderedClients: Client[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedClients.length; i++) {\n        await api.put(`/clients/${reorderedClients[i].id}`, {\n          ...reorderedClients[i],\n          orderIndex: i\n        });\n      }\n      setClients(reorderedClients);\n      alert('Clients order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveClient = async (client: Client) => {\n    setSaving(true);\n    try {\n      if (client.id && client.id > 0) {\n        const response = await api.put(`/clients/${client.id}`, client);\n        if (!response.success) {\n          throw new Error(response.message || 'Failed to update client');\n        }\n      } else {\n        const response = await api.post('/clients', { ...client, orderIndex: clients.length });\n        if (!response.success) {\n          throw new Error(response.message || 'Failed to create client');\n        }\n      }\n      setShowClientModal(false);\n      setEditingClient(null);\n      fetchClients();\n      alert('Client saved successfully!');\n    } catch (error: any) {\n      const errorMessage = error.message || 'Failed to save client';\n      if (errorMessage.includes('not found')) {\n        alert('This client no longer exists. Please refresh the page and try again.');\n        fetchClients(); // Refresh the list\n      } else {\n        alert(errorMessage);\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteClient = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this client?')) return;\n    setSaving(true);\n    try {\n      const response = await api.delete(`/clients/${id}`);\n      if (!response.success) {\n        throw new Error(response.message || 'Failed to delete client');\n      }\n      setClients(clients.filter(c => c.id !== id));\n      alert('Client deleted successfully!');\n    } catch (error: any) {\n      const errorMessage = error.message || 'Failed to delete client';\n      if (errorMessage.includes('not found')) {\n        alert('This client no longer exists. The list will be refreshed.');\n        fetchClients(); // Refresh the list\n      } else {\n        alert(errorMessage);\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Clients Page Management</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage clients page content and client list</p>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mt-6 border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'content'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-file-text-line mr-2\"></i>Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('clients')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'clients'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-group-line mr-2\"></i>Clients List\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {activeTab === 'content' ? (\n        <PageContentEditor\n          content={pageContent}\n          onChange={setPageContent}\n          onSave={handleSavePageContent}\n          saving={saving}\n        />\n      ) : (\n        <div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Clients</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">Manage client logos and information</p>\n              </div>\n              <button\n                onClick={() => {\n                  setEditingClient({\n                    id: 0,\n                    name: '',\n                    logoId: null,\n                    websiteUrl: '',\n                    orderIndex: clients.length,\n                    isActive: true\n                  });\n                  setShowClientModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Client\n              </button>\n            </div>\n          </div>\n\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div className=\"flex items-start space-x-3\">\n              <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>Tip:</strong> Drag and drop clients to reorder them. The order will appear on your clients page.\n                </p>\n              </div>\n            </div>\n          </div>\n\n              {loading ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading clients...</p>\n            </div>\n          ) : clients.length === 0 ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-user-heart-line text-6xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-600 mb-4\">No clients yet. Add your first client!</p>\n              <button\n                onClick={() => {\n                  setEditingClient({\n                    id: 0,\n                    name: '',\n                    logoId: null,\n                    websiteUrl: '',\n                    orderIndex: 0,\n                    isActive: true\n                  });\n                  setShowClientModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Client\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <DragDropList\n                items={clients}\n                onReorder={handleReorder}\n                keyExtractor={(client) => client.id}\n                emptyMessage=\"No clients yet. Click 'Add Client' to get started!\"\n                renderItem={(client: Client) => (\n                  <div className=\"flex items-center space-x-4 w-full\">\n                    {client.logo && (\n                      <img\n                        src={getImageUrl(client.logo)}\n                        alt={getClientDisplayName(client)}\n                        className=\"w-20 h-20 object-contain bg-gray-50 rounded-lg p-2\"\n                      />\n                    )}\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{getClientDisplayName(client)}</h3>\n                      {client.websiteUrl && (\n                        <a\n                          href={client.websiteUrl}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-sm text-blue-600 hover:underline\"\n                        >\n                          <i className=\"ri-external-link-line mr-1\"></i>\n                          {client.websiteUrl}\n                        </a>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        client.isActive \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {client.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                      <button\n                        onClick={() => setViewingClient(client)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        title=\"View\"\n                      >\n                        <i className=\"ri-eye-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => {\n                          setEditingClient(client);\n                          setShowClientModal(true);\n                        }}\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                        title=\"Edit\"\n                      >\n                        <i className=\"ri-edit-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteClient(client.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        title=\"Delete\"\n                      >\n                        <i className=\"ri-delete-bin-line\"></i>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {showClientModal && editingClient && (\n        <ClientModal\n          client={editingClient}\n          onSave={handleSaveClient}\n          onClose={() => {\n            setShowClientModal(false);\n            setEditingClient(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingClient && (\n        <ClientViewModal\n          client={viewingClient}\n          onClose={() => setViewingClient(null)}\n          onEdit={() => {\n            setEditingClient(viewingClient);\n            setViewingClient(null);\n            setShowClientModal(true);\n          }}\n          getImageUrl={(logo: any) => getImageUrl(logo)}\n          getClientDisplayName={getClientDisplayName}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Hero Section</h3>\n      \n      <div className=\"space-y-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Clients\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <textarea\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            rows={3}\n            placeholder=\"Unlock Your Potential\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={content.heroImageId}\n          onChange={(id) => onChange({ ...content, heroImageId: id })}\n          label=\"Hero Background Image\"\n          aspectRatio=\"16/9\"\n          currentImage={content.heroImage}\n        />\n\n        <FormField label=\"Intro Text\" hint=\"Optional text below hero section\">\n          <textarea\n            value={content.introText || ''}\n            onChange={(e) => onChange({ ...content, introText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            rows={4}\n            placeholder=\"Add introduction text here...\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onSave}\n            disabled={saving}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ClientModal({ client, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Client>(client);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={client.id && client.id > 0 ? 'Edit Client' : 'Add New Client'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Client Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter client name\"\n          />\n        </FormField>\n\n        <FormField label=\"Website URL\" hint=\"Optional - Include https://\">\n          <input\n            type=\"url\"\n            value={formData.websiteUrl || ''}\n            onChange={(e) => setFormData({ ...formData, websiteUrl: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://example.com\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={formData.logoId}\n          onChange={(id) => setFormData({ ...formData, logoId: id })}\n          label=\"Client Logo\"\n          aspectRatio=\"3/2\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : client.id && client.id > 0 ? 'Update Client' : 'Create Client'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction ClientViewModal({ client, onClose, onEdit, getImageUrl, getClientDisplayName }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Client Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {client.logo && (\n          <div className=\"flex justify-center\">\n            <img\n              src={getImageUrl(client.logo)}\n              alt={getClientDisplayName(client)}\n              className=\"max-w-xs max-h-48 object-contain bg-gray-50 rounded-lg p-4\"\n            />\n          </div>\n        )}\n\n        <div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-4\">{getClientDisplayName(client)}</h3>\n          \n          {client.websiteUrl && (\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n              <a\n                href={client.websiteUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-600 hover:underline\"\n              >\n                <i className=\"ri-external-link-line mr-2\"></i>\n                {client.websiteUrl}\n              </a>\n            </div>\n          )}\n\n          <div>\n            <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n              client.isActive \n                ? 'bg-green-100 text-green-800' \n                : 'bg-gray-100 text-gray-800'\n            }`}>\n              {client.isActive ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Client\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ninterface Leader {\n  id: number;\n  fullName: string;\n  position: string;\n  department: string | null;\n  bio: string | null;\n  imageId: number | null;\n  email: string | null;\n  linkedinUrl: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function ManagementPageManagement() {\n  const [leaders, setLeaders] = useState<Leader[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showLeaderModal, setShowLeaderModal] = useState(false);\n  const [editingLeader, setEditingLeader] = useState<Leader | null>(null);\n  const [viewingLeader, setViewingLeader] = useState<Leader | null>(null);\n\n  useEffect(() => {\n    fetchLeaders();\n  }, []);\n\n  const fetchLeaders = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Leader[]>('/leaders');\n      if (response.success && response.data) {\n        setLeaders((response.data as Leader[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching leaders:', error);\n      alert(error.message || 'Failed to load leaders');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReorder = async (reorderedLeaders: Leader[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedLeaders.length; i++) {\n        await api.put(`/leaders/${reorderedLeaders[i].id}`, {\n          ...reorderedLeaders[i],\n          orderIndex: i\n        });\n      }\n      setLeaders(reorderedLeaders);\n      alert('Leaders order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLeader = async (leader: Leader) => {\n    setSaving(true);\n    try {\n      if (leader.id && leader.id > 0) {\n        await api.put(`/leaders/${leader.id}`, leader);\n      } else {\n        await api.post('/leaders', { ...leader, orderIndex: leaders.length });\n      }\n      setShowLeaderModal(false);\n      setEditingLeader(null);\n      fetchLeaders();\n      alert('Leader saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save leader');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteLeader = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this leader?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/leaders/${id}`);\n      setLeaders(leaders.filter(l => l.id !== id));\n      alert('Leader deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete leader');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (leader: Leader): string => {\n    if (!leader.image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${leader.image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Management Team</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage leadership team members</p>\n          </div>\n          <button\n            onClick={() => {\n              setEditingLeader({\n                id: 0,\n                fullName: '',\n                position: '',\n                department: null,\n                bio: null,\n                imageId: null,\n                email: null,\n                linkedinUrl: null,\n                orderIndex: leaders.length,\n                isActive: true\n              });\n              setShowLeaderModal(true);\n            }}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Leader\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start space-x-3\">\n          <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n          <div className=\"flex-1\">\n            <p className=\"text-sm text-blue-800\">\n              <strong>Tip:</strong> Drag and drop leaders to reorder them on the management page.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading leaders...</p>\n        </div>\n      ) : leaders.length === 0 ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-team-line text-6xl text-gray-300 mb-4\"></i>\n          <p className=\"text-gray-600 mb-4\">No leaders yet. Add your first team member!</p>\n          <button\n            onClick={() => {\n              setEditingLeader({\n                id: 0,\n                fullName: '',\n                position: '',\n                department: null,\n                bio: null,\n                imageId: null,\n                email: null,\n                linkedinUrl: null,\n                orderIndex: 0,\n                isActive: true\n              });\n              setShowLeaderModal(true);\n            }}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Leader\n          </button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <DragDropList\n            items={leaders}\n            onReorder={handleReorder}\n            keyExtractor={(leader) => leader.id}\n            emptyMessage=\"No leaders yet. Click 'Add Leader' to get started!\"\n            renderItem={(leader: Leader) => (\n              <div className=\"flex items-center space-x-4 w-full\">\n                {leader.image && (\n                  <img\n                    src={getImageUrl(leader)}\n                    alt={leader.fullName}\n                    className=\"w-16 h-16 rounded-full object-cover\"\n                  />\n                )}\n                <div className=\"flex-1\">\n                  <h3 className=\"font-semibold text-gray-900\">{leader.fullName}</h3>\n                  <p className=\"text-sm text-gray-600\">{leader.position}</p>\n                  {leader.department && (\n                    <p className=\"text-xs text-gray-500\">{leader.department}</p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    leader.isActive \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {leader.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                  <button\n                    onClick={() => setViewingLeader(leader)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                    title=\"View\"\n                  >\n                    <i className=\"ri-eye-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => {\n                      setEditingLeader(leader);\n                      setShowLeaderModal(true);\n                    }}\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                    title=\"Edit\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => handleDeleteLeader(leader.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                    title=\"Delete\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          />\n        </div>\n      )}\n\n      {showLeaderModal && editingLeader && (\n        <LeaderModal\n          leader={editingLeader}\n          onSave={handleSaveLeader}\n          onClose={() => {\n            setShowLeaderModal(false);\n            setEditingLeader(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingLeader && (\n        <LeaderViewModal\n          leader={viewingLeader}\n          onClose={() => setViewingLeader(null)}\n          onEdit={() => {\n            setEditingLeader(viewingLeader);\n            setViewingLeader(null);\n            setShowLeaderModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction LeaderModal({ leader, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Leader>(leader);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={leader.id && leader.id > 0 ? 'Edit Leader' : 'Add New Leader'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Full Name\" required>\n            <input\n              type=\"text\"\n              value={formData.fullName}\n              onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"John Doe\"\n            />\n          </FormField>\n\n          <FormField label=\"Position\" required>\n            <input\n              type=\"text\"\n              value={formData.position}\n              onChange={(e) => setFormData({ ...formData, position: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"CEO\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"Department\">\n          <input\n            type=\"text\"\n            value={formData.department || ''}\n            onChange={(e) => setFormData({ ...formData, department: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Executive\"\n          />\n        </FormField>\n\n        <FormField label=\"Bio\">\n          <textarea\n            value={formData.bio || ''}\n            onChange={(e) => setFormData({ ...formData, bio: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter leader's biography\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Email\">\n            <input\n              type=\"email\"\n              value={formData.email || ''}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"john@example.com\"\n            />\n          </FormField>\n\n          <FormField label=\"LinkedIn URL\">\n            <input\n              type=\"url\"\n              value={formData.linkedinUrl || ''}\n              onChange={(e) => setFormData({ ...formData, linkedinUrl: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"https://linkedin.com/in/johndoe\"\n            />\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Profile Photo\"\n          aspectRatio=\"1/1\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.fullName || !formData.position}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : leader.id && leader.id > 0 ? 'Update Leader' : 'Create Leader'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction LeaderViewModal({ leader, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Leader Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {leader.image && (\n          <div className=\"flex justify-center\">\n            <img\n              src={getImageUrl(leader)}\n              alt={leader.fullName}\n              className=\"w-32 h-32 rounded-full object-cover\"\n            />\n          </div>\n        )}\n\n        <div className=\"text-center\">\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">{leader.fullName}</h3>\n          <p className=\"text-lg text-gray-700 mb-1\">{leader.position}</p>\n          {leader.department && (\n            <p className=\"text-blue-600 font-medium\">{leader.department}</p>\n          )}\n        </div>\n\n        {leader.bio && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Biography</h4>\n            <p className=\"text-gray-600\">{leader.bio}</p>\n          </div>\n        )}\n\n        <div className=\"space-y-2\">\n          {leader.email && (\n            <div>\n              <i className=\"ri-mail-line mr-2 text-gray-500\"></i>\n              <a href={`mailto:${leader.email}`} className=\"text-blue-600 hover:underline\">\n                {leader.email}\n              </a>\n            </div>\n          )}\n          {leader.linkedinUrl && (\n            <div>\n              <i className=\"ri-linkedin-line mr-2 text-gray-500\"></i>\n              <a\n                href={leader.linkedinUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-600 hover:underline\"\n              >\n                LinkedIn Profile\n              </a>\n            </div>\n          )}\n        </div>\n\n        <div>\n          <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n            leader.isActive \n              ? 'bg-green-100 text-green-800' \n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {leader.isActive ? 'Active' : 'Inactive'}\n          </span>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Leader\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'locations';\n\ninterface OurPresencePageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  mapImageId: number | null;\n  salesServiceHeading: string | null;\n  salesServiceContent: string | null;\n  salesServiceImageId: number | null;\n}\n\ninterface OfficeLocation {\n  id: number;\n  officeType: string | null;\n  city: string | null;\n  state: string | null;\n  country: string | null;\n  address: string | null;\n  phone: string | null;\n  email: string | null;\n  latitude: number | null;\n  longitude: number | null;\n  isActive: boolean;\n}\n\nexport default function OurPresencePageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<OurPresencePageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    mapImageId: null,\n    salesServiceHeading: null,\n    salesServiceContent: null,\n    salesServiceImageId: null\n  });\n\n  const [locations, setLocations] = useState<OfficeLocation[]>([]);\n  const [showLocationModal, setShowLocationModal] = useState(false);\n  const [editingLocation, setEditingLocation] = useState<OfficeLocation | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchLocations();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<OurPresencePageContent>('/our-presence');\n      if (response.success && response.data) {\n        setPageContent(response.data as OurPresencePageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchLocations = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<OfficeLocation[]>('/our-presence/locations');\n      if (response.success && response.data) {\n        setLocations(response.data as OfficeLocation[]);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/our-presence', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLocation = async (loc: OfficeLocation) => {\n    setSaving(true);\n    try {\n      if (loc.id && loc.id > 0) {\n        await api.put(`/our-presence/locations/${loc.id}`, loc);\n      } else {\n        await api.post('/our-presence/locations', loc);\n      }\n      setShowLocationModal(false);\n      setEditingLocation(null);\n      fetchLocations();\n      alert('Location saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteLocation = async (id: number) => {\n    if (!confirm('Delete this location?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/our-presence/locations/${id}`);\n      setLocations(locations.filter(l => l.id !== id));\n      alert('Location deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Our Presence</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and office locations</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('locations')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'locations' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Office Locations\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button\n                  onClick={handleSavePageContent}\n                  disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                >\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\">\n                  <input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <FormField label=\"Hero Subtitle\">\n                  <input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: id })} label=\"Hero Image\" />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Intro Text\">\n                    <textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                  </FormField>\n                </div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.mapImageId} onChange={(id) => setPageContent({ ...pageContent, mapImageId: id })} label=\"Map Image\" />\n                </div>\n                <FormField label=\"Sales & Service Heading\">\n                  <input type=\"text\" value={pageContent.salesServiceHeading || ''} onChange={(e) => setPageContent({ ...pageContent, salesServiceHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Sales & Service Content\">\n                    <textarea value={pageContent.salesServiceContent || ''} onChange={(e) => setPageContent({ ...pageContent, salesServiceContent: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                  </FormField>\n                </div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.salesServiceImageId} onChange={(id) => setPageContent({ ...pageContent, salesServiceImageId: id })} label=\"Sales & Service Image\" />\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Office Locations</h3>\n                <button\n                  onClick={() => {\n                    setEditingLocation({\n                      id: 0,\n                      officeType: null,\n                      city: null,\n                      state: null,\n                      country: null,\n                      address: null,\n                      phone: null,\n                      email: null,\n                      latitude: null,\n                      longitude: null,\n                      isActive: true\n                    });\n                    setShowLocationModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Location\n                </button>\n              </div>\n              {locations.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-map-pin-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No locations yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {locations.map((loc) => (\n                    <div key={loc.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-gray-900\">{loc.city}, {loc.state || loc.country}</h4>\n                          {loc.officeType && <p className=\"text-sm text-gray-600\">{loc.officeType}</p>}\n                          {loc.address && <p className=\"text-sm text-gray-600 mt-1\">{loc.address}</p>}\n                          <div className=\"flex flex-wrap gap-2 mt-2 text-sm text-gray-600\">\n                            {loc.phone && <span><i className=\"ri-phone-line mr-1\"></i>{loc.phone}</span>}\n                            {loc.email && <span><i className=\"ri-mail-line mr-1\"></i>{loc.email}</span>}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2 ml-4\">\n                          <span className={`px-2 py-1 text-xs rounded-full ${loc.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                            {loc.isActive ? 'Active' : 'Inactive'}\n                          </span>\n                          <button onClick={() => { setEditingLocation(loc); setShowLocationModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteLocation(loc.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showLocationModal && editingLocation && (\n        <LocationModal\n          location={editingLocation}\n          onSave={handleSaveLocation}\n          onClose={() => { setShowLocationModal(false); setEditingLocation(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction LocationModal({ location, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<OfficeLocation>(location);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={location.id > 0 ? 'Edit Location' : 'Add Location'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Office Type\">\n            <input type=\"text\" value={formData.officeType || ''} onChange={(e) => setFormData({ ...formData, officeType: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Headquarters\" />\n          </FormField>\n          <FormField label=\"City\">\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"State\">\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Country\">\n            <input type=\"text\" value={formData.country || ''} onChange={(e) => setFormData({ ...formData, country: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n        </div>\n        <FormField label=\"Address\">\n          <textarea value={formData.address || ''} onChange={(e) => setFormData({ ...formData, address: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Phone\">\n            <input type=\"text\" value={formData.phone || ''} onChange={(e) => setFormData({ ...formData, phone: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Email\">\n            <input type=\"email\" value={formData.email || ''} onChange={(e) => setFormData({ ...formData, email: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Latitude\">\n            <input type=\"number\" step=\"any\" value={formData.latitude || ''} onChange={(e) => setFormData({ ...formData, latitude: e.target.value ? parseFloat(e.target.value) : null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Longitude\">\n            <input type=\"number\" step=\"any\" value={formData.longitude || ''} onChange={(e) => setFormData({ ...formData, longitude: e.target.value ? parseFloat(e.target.value) : null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n        </div>\n        <FormField label=\"Status\">\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'features';\n\ninterface ProductionFacilityPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  flexibilityHeading: string | null;\n  flexibilityContent: string | null;\n  flexibilityImageId: number | null;\n  qualityHeading: string | null;\n  qualityContent: string | null;\n  qualityImageId: number | null;\n}\n\ninterface ProductionFacilityFeature {\n  id: number;\n  iconClass: string | null;\n  heading: string | null;\n  description: string | null;\n  orderIndex: number;\n}\n\nexport default function ProductionFacilityPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<ProductionFacilityPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    flexibilityHeading: null,\n    flexibilityContent: null,\n    flexibilityImageId: null,\n    qualityHeading: null,\n    qualityContent: null,\n    qualityImageId: null\n  });\n\n  const [features, setFeatures] = useState<ProductionFacilityFeature[]>([]);\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\n  const [editingFeature, setEditingFeature] = useState<ProductionFacilityFeature | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchFeatures();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ProductionFacilityPageContent>('/production-facility');\n      if (response.success && response.data) {\n        setPageContent(response.data as ProductionFacilityPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFeatures = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ProductionFacilityFeature[]>('/production-facility/features');\n      if (response.success && response.data) {\n        setFeatures((response.data as ProductionFacilityFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/production-facility', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedFeatures: ProductionFacilityFeature[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedFeatures.length; i++) {\n        await api.put(`/production-facility/features/${reorderedFeatures[i].id}`, {\n          ...reorderedFeatures[i],\n          orderIndex: i\n        });\n      }\n      setFeatures(reorderedFeatures);\n      alert('Order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFeature = async (feature: ProductionFacilityFeature) => {\n    setSaving(true);\n    try {\n      if (feature.id && feature.id > 0) {\n        await api.put(`/production-facility/features/${feature.id}`, feature);\n      } else {\n        await api.post('/production-facility/features', { ...feature, orderIndex: features.length });\n      }\n      setShowFeatureModal(false);\n      setEditingFeature(null);\n      fetchFeatures();\n      alert('Feature saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFeature = async (id: number) => {\n    if (!confirm('Delete this feature?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/production-facility/features/${id}`);\n      setFeatures(features.filter(f => f.id !== id));\n      alert('Feature deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Production Facility</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and facility features</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveTab('content')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Page Content\n            </button>\n            <button onClick={() => setActiveTab('features')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'features' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Features\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\"><input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <FormField label=\"Hero Subtitle\"><input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: id })} label=\"Hero Image\" /></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Intro Text\"><textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <FormField label=\"Flexibility Heading\"><input type=\"text\" value={pageContent.flexibilityHeading || ''} onChange={(e) => setPageContent({ ...pageContent, flexibilityHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Flexibility Content\"><textarea value={pageContent.flexibilityContent || ''} onChange={(e) => setPageContent({ ...pageContent, flexibilityContent: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.flexibilityImageId} onChange={(id) => setPageContent({ ...pageContent, flexibilityImageId: id })} label=\"Flexibility Image\" /></div>\n                <FormField label=\"Quality Heading\"><input type=\"text\" value={pageContent.qualityHeading || ''} onChange={(e) => setPageContent({ ...pageContent, qualityHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Quality Content\"><textarea value={pageContent.qualityContent || ''} onChange={(e) => setPageContent({ ...pageContent, qualityContent: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.qualityImageId} onChange={(id) => setPageContent({ ...pageContent, qualityImageId: id })} label=\"Quality Image\" /></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Facility Features</h3>\n                <button onClick={() => { setEditingFeature({ id: 0, iconClass: null, heading: null, description: null, orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\n                </button>\n              </div>\n              {features.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-settings-3-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No features yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={features}\n                  onReorder={handleReorder}\n                  keyExtractor={(f) => f.id}\n                  renderItem={(feature: ProductionFacilityFeature) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-4\">\n                        {feature.iconClass && <i className={`${feature.iconClass} text-2xl text-blue-600`}></i>}\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">{feature.heading}</h4>\n                          {feature.description && <p className=\"text-sm text-gray-600 line-clamp-1\">{feature.description}</p>}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showFeatureModal && editingFeature && (\n        <FeatureModal\n          feature={editingFeature}\n          onSave={handleSaveFeature}\n          onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<ProductionFacilityFeature>(feature);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Icon Class\" hint=\"RemixIcon class\">\n          <input type=\"text\" value={formData.iconClass || ''} onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"ri-settings-3-line\" />\n          {formData.iconClass && <div className=\"mt-2 text-xs text-gray-500\">Preview: <i className={formData.iconClass}></i></div>}\n        </FormField>\n        <FormField label=\"Heading\">\n          <input type=\"text\" value={formData.heading || ''} onChange={(e) => setFormData({ ...formData, heading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'certifications';\n\ninterface QualityAssurancePageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  mainHeading: string | null;\n  mainContent: string | null;\n  mainImageId: number | null;\n}\n\ninterface Certification {\n  id: number;\n  name: string;\n  abbreviation: string | null;\n  logoId: number | null;\n  description: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  logo?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function QualityAssurancePageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<QualityAssurancePageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    mainHeading: null,\n    mainContent: null,\n    mainImageId: null\n  });\n\n  const [certifications, setCertifications] = useState<Certification[]>([]);\n  const [showCertModal, setShowCertModal] = useState(false);\n  const [editingCert, setEditingCert] = useState<Certification | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchCertifications();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<QualityAssurancePageContent>('/quality-assurance');\n      if (response.success && response.data) {\n        setPageContent(response.data as QualityAssurancePageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCertifications = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Certification[]>('/quality-assurance/certifications');\n      if (response.success && response.data) {\n        setCertifications((response.data as Certification[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/quality-assurance', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedCerts: Certification[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedCerts.length; i++) {\n        await api.put(`/quality-assurance/certifications/${reorderedCerts[i].id}`, {\n          ...reorderedCerts[i],\n          orderIndex: i\n        });\n      }\n      setCertifications(reorderedCerts);\n      alert('Order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveCert = async (cert: Certification) => {\n    setSaving(true);\n    try {\n      if (cert.id && cert.id > 0) {\n        await api.put(`/quality-assurance/certifications/${cert.id}`, cert);\n      } else {\n        await api.post('/quality-assurance/certifications', { ...cert, orderIndex: certifications.length });\n      }\n      setShowCertModal(false);\n      setEditingCert(null);\n      fetchCertifications();\n      alert('Certification saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteCert = async (id: number) => {\n    if (!confirm('Delete this certification?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/quality-assurance/certifications/${id}`);\n      setCertifications(certifications.filter(c => c.id !== id));\n      alert('Certification deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (cert: Certification): string => {\n    if (!cert.logo) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${cert.logo.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Quality Assurance</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and certifications</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveTab('content')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Page Content\n            </button>\n            <button onClick={() => setActiveTab('certifications')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'certifications' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Certifications\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\"><input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <FormField label=\"Hero Subtitle\"><input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: id })} label=\"Hero Image\" /></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Intro Text\"><textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <FormField label=\"Main Heading\"><input type=\"text\" value={pageContent.mainHeading || ''} onChange={(e) => setPageContent({ ...pageContent, mainHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Main Content\"><textarea value={pageContent.mainContent || ''} onChange={(e) => setPageContent({ ...pageContent, mainContent: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Image\" /></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Certifications</h3>\n                <button onClick={() => { setEditingCert({ id: 0, name: '', abbreviation: null, logoId: null, description: null, orderIndex: certifications.length, isActive: true }); setShowCertModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Certification\n                </button>\n              </div>\n              {certifications.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-shield-check-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No certifications yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={certifications}\n                  onReorder={handleReorder}\n                  keyExtractor={(c) => c.id}\n                  renderItem={(cert: Certification) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-4\">\n                        {cert.logo && <img src={getImageUrl(cert)} alt={cert.name} className=\"w-12 h-12 object-contain\" />}\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">{cert.name}</h4>\n                          {cert.abbreviation && <p className=\"text-sm text-gray-600\">{cert.abbreviation}</p>}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${cert.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                          {cert.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button onClick={() => { setEditingCert(cert); setShowCertModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteCert(cert.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showCertModal && editingCert && (\n        <CertModal\n          cert={editingCert}\n          onSave={handleSaveCert}\n          onClose={() => { setShowCertModal(false); setEditingCert(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction CertModal({ cert, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Certification>(cert);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={cert.id > 0 ? 'Edit Certification' : 'Add Certification'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Certification Name\" required>\n          <input type=\"text\" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <FormField label=\"Abbreviation\">\n          <input type=\"text\" value={formData.abbreviation || ''} onChange={(e) => setFormData({ ...formData, abbreviation: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"ISO 13485\" />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <ImageSelector value={formData.logoId} onChange={(id) => setFormData({ ...formData, logoId: id })} label=\"Certification Logo\" aspectRatio=\"1/1\" />\n        <FormField label=\"Status\">\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.name} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport Modal from '../../../../components/cms/Modal';\nimport DragDropList from '../../../../components/cms/DragDropList';\n\ninterface RequestDemoPageContent {\n  id?: number;\n  heroTitle: string | null;\n  introText: string | null;\n  backgroundImageId: number | null;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  paragraphs?: RequestDemoParagraph[];\n  features?: RequestDemoFeature[];\n}\n\ninterface RequestDemoParagraph {\n  id: number;\n  content: string;\n  orderIndex: number;\n}\n\ninterface RequestDemoFeature {\n  id: number;\n  title: string;\n  content: string;\n  iconImageId: number | null;\n  orderIndex: number;\n  iconImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function RequestDemoPageManagement() {\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<RequestDemoPageContent>({\n    heroTitle: null,\n    introText: null,\n    backgroundImageId: null\n  });\n  const [paragraphs, setParagraphs] = useState<RequestDemoParagraph[]>([]);\n  const [features, setFeatures] = useState<RequestDemoFeature[]>([]);\n  const [showParagraphModal, setShowParagraphModal] = useState(false);\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\n  const [editingParagraph, setEditingParagraph] = useState<RequestDemoParagraph | null>(null);\n  const [editingFeature, setEditingFeature] = useState<RequestDemoFeature | null>(null);\n\n  useEffect(() => {\n    fetchContent();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<RequestDemoPageContent>('/request-demo');\n      if (response.success && response.data) {\n        const data = response.data as RequestDemoPageContent;\n        setContent({\n          id: data.id,\n          heroTitle: data.heroTitle,\n          introText: data.introText,\n          backgroundImageId: data.backgroundImageId,\n          backgroundImage: data.backgroundImage\n        });\n        setParagraphs(data.paragraphs || []);\n        setFeatures(data.features || []);\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/request-demo', content);\n      if (response.success) {\n        alert('Request Demo page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveParagraph = async (paragraph: RequestDemoParagraph) => {\n    setSaving(true);\n    try {\n      if (paragraph.id && paragraph.id > 0) {\n        await api.put(`/request-demo/paragraphs/${paragraph.id}`, paragraph);\n      } else {\n        await api.post('/request-demo/paragraphs', { ...paragraph, orderIndex: paragraphs.length });\n      }\n      setShowParagraphModal(false);\n      setEditingParagraph(null);\n      fetchContent();\n      alert('Paragraph saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteParagraph = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this paragraph?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/request-demo/paragraphs/${id}`);\n      setParagraphs(paragraphs.filter(p => p.id !== id));\n      alert('Paragraph deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderParagraphs = async (reorderedParagraphs: RequestDemoParagraph[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedParagraphs.length; i++) {\n        await api.put(`/request-demo/paragraphs/${reorderedParagraphs[i].id}`, {\n          ...reorderedParagraphs[i],\n          orderIndex: i\n        });\n      }\n      setParagraphs(reorderedParagraphs);\n      alert('Paragraphs order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFeature = async (feature: RequestDemoFeature) => {\n    setSaving(true);\n    try {\n      if (feature.id && feature.id > 0) {\n        await api.put(`/request-demo/features/${feature.id}`, feature);\n      } else {\n        await api.post('/request-demo/features', { ...feature, orderIndex: features.length });\n      }\n      setShowFeatureModal(false);\n      setEditingFeature(null);\n      fetchContent();\n      alert('Feature saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFeature = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this feature?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/request-demo/features/${id}`);\n      setFeatures(features.filter(f => f.id !== id));\n      alert('Feature deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderFeatures = async (reorderedFeatures: RequestDemoFeature[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedFeatures.length; i++) {\n        await api.put(`/request-demo/features/${reorderedFeatures[i].id}`, {\n          ...reorderedFeatures[i],\n          orderIndex: i\n        });\n      }\n      setFeatures(reorderedFeatures);\n      alert('Features order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Request Demo Page</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage request demo page content</p>\n          </div>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"space-y-6\">\n            <FormField label=\"Hero Title\">\n              <input\n                type=\"text\"\n                value={content.heroTitle || ''}\n                onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Request a Demo\"\n              />\n            </FormField>\n\n            <FormField label=\"Intro Text\">\n              <textarea\n                value={content.introText || ''}\n                onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter introduction text\"\n              />\n            </FormField>\n\n            <div className=\"border-t pt-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Background Image</h3>\n              <ImageSelector\n                value={content.backgroundImageId}\n                onChange={(id) => setContent({ ...content, backgroundImageId: id })}\n                label=\"Page Background Image\"\n              />\n              <p className=\"text-sm text-gray-500 mt-2\">\n                <i className=\"ri-information-line mr-1\"></i>\n                Upload a background image (e.g., Frame-75-1.png). This will replace the default gradient background.\n              </p>\n            </div>\n\n            {/* Paragraphs Section */}\n            <div className=\"border-t pt-6 mt-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Paragraphs</h3>\n                <button\n                  onClick={() => {\n                    setEditingParagraph({ id: 0, content: '', orderIndex: paragraphs.length });\n                    setShowParagraphModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Paragraph\n                </button>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  <i className=\"ri-information-line mr-2\"></i>\n                  Add multiple paragraphs. Drag and drop to reorder.\n                </p>\n                <DragDropList\n                  items={paragraphs}\n                  onReorder={handleReorderParagraphs}\n                  keyExtractor={(p) => p.id}\n                  emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to get started!\"\n                  renderItem={(paragraph: RequestDemoParagraph) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                      </div>\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => {\n                            setEditingParagraph(paragraph);\n                            setShowParagraphModal(true);\n                          }}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteParagraph(paragraph.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* Features Section */}\n            <div className=\"border-t pt-6 mt-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Features</h3>\n                <button\n                  onClick={() => {\n                    setEditingFeature({ id: 0, title: '', content: '', iconImageId: null, orderIndex: features.length });\n                    setShowFeatureModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\n                </button>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  <i className=\"ri-information-line mr-2\"></i>\n                  Add feature blocks with icon, title, and content. Drag and drop to reorder.\n                </p>\n                <DragDropList\n                  items={features}\n                  onReorder={handleReorderFeatures}\n                  keyExtractor={(f) => f.id}\n                  emptyMessage=\"No features yet. Click 'Add Feature' to get started!\"\n                  renderItem={(feature: RequestDemoFeature) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-3 flex-1\">\n                        {feature.iconImage && (\n                          <img \n                            src={getFeatureIconUrl(feature)} \n                            alt={feature.iconImage.altText || feature.title}\n                            className=\"w-10 h-10 object-contain\"\n                          />\n                        )}\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-gray-900\">{feature.title}</h4>\n                          <p className=\"text-sm text-gray-600 line-clamp-1\">{feature.content}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => {\n                            setEditingFeature(feature);\n                            setShowFeatureModal(true);\n                          }}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteFeature(feature.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showParagraphModal && (\n        <ParagraphModal\n          paragraph={editingParagraph}\n          onSave={handleSaveParagraph}\n          onClose={() => {\n            setShowParagraphModal(false);\n            setEditingParagraph(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {showFeatureModal && (\n        <FeatureModal\n          feature={editingFeature}\n          onSave={handleSaveFeature}\n          onClose={() => {\n            setShowFeatureModal(false);\n            setEditingFeature(null);\n          }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction getFeatureIconUrl(feature: RequestDemoFeature): string {\n  if (!feature.iconImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${feature.iconImage.filePath}`;\n}\n\nfunction ParagraphModal({ paragraph, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(paragraph || { id: 0, content: '', orderIndex: 0 });\n\n  useEffect(() => {\n    setFormData(paragraph || { id: 0, content: '', orderIndex: 0 });\n  }, [paragraph]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={paragraph?.id && paragraph.id > 0 ? 'Edit Paragraph' : 'Add Paragraph'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData.content}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={6}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter paragraph content\"\n          />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : paragraph?.id && paragraph.id > 0 ? 'Update Paragraph' : 'Create Paragraph'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(feature || { id: 0, title: '', content: '', iconImageId: null, orderIndex: 0 });\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  useEffect(() => {\n    setFormData(feature || { id: 0, title: '', content: '', iconImageId: null, orderIndex: 0 });\n  }, [feature]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={feature?.id && feature.id > 0 ? 'Edit Feature' : 'Add Feature'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., System Variety\"\n          />\n        </FormField>\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData.content}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., We offer 15+ models ranging from portable to high-powered fixed machines...\"\n          />\n        </FormField>\n        <ImageSelector\n          value={formData.iconImageId}\n          onChange={(id) => setFormData({ ...formData, iconImageId: id })}\n          label=\"Icon Image (JPG, PNG, SVG)\"\n        />\n        {formData.iconImage && (\n          <div className=\"mt-2\">\n            <img \n              src={getImageUrl(formData.iconImage)} \n              alt=\"Icon preview\" \n              className=\"w-16 h-16 object-contain\"\n            />\n          </div>\n        )}\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title || !formData.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : feature?.id && feature.id > 0 ? 'Update Feature' : 'Create Feature'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\n\r\ninterface ContactInfo {\r\n  id?: number;\r\n  companyName: string;\r\n  addressLine1: string | null;\r\n  addressLine2: string | null;\r\n  city: string | null;\r\n  state: string | null;\r\n  postalCode: string | null;\r\n  country: string | null;\r\n  phone: string | null;\r\n  email: string | null;\r\n  supportEmail: string | null;\r\n  googleMapsEmbedUrl: string | null;\r\n}\r\n\r\nexport default function ContactInfoManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [contactInfo, setContactInfo] = useState<ContactInfo>({\r\n    companyName: '',\r\n    addressLine1: null,\r\n    addressLine2: null,\r\n    city: null,\r\n    state: null,\r\n    postalCode: null,\r\n    country: null,\r\n    phone: null,\r\n    email: null,\r\n    supportEmail: null,\r\n    googleMapsEmbedUrl: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContactInfo();\r\n  }, []);\r\n\r\n  const fetchContactInfo = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<ContactInfo>('/contact-info');\r\n      if (response.success && response.data) {\r\n        setContactInfo(response.data as ContactInfo);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/contact-info', contactInfo);\r\n      alert('Contact info saved successfully!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Contact Information</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage company contact details</p>\r\n          </div>\r\n          <button onClick={handleSave} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <FormField label=\"Company Name\" required>\r\n              <input type=\"text\" value={contactInfo.companyName} onChange={(e) => setContactInfo({ ...contactInfo, companyName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Phone\">\r\n              <input type=\"tel\" value={contactInfo.phone || ''} onChange={(e) => setContactInfo({ ...contactInfo, phone: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Email\">\r\n              <input type=\"email\" value={contactInfo.email || ''} onChange={(e) => setContactInfo({ ...contactInfo, email: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Support Email\">\r\n              <input type=\"email\" value={contactInfo.supportEmail || ''} onChange={(e) => setContactInfo({ ...contactInfo, supportEmail: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Address Line 1\">\r\n              <input type=\"text\" value={contactInfo.addressLine1 || ''} onChange={(e) => setContactInfo({ ...contactInfo, addressLine1: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Address Line 2\">\r\n              <input type=\"text\" value={contactInfo.addressLine2 || ''} onChange={(e) => setContactInfo({ ...contactInfo, addressLine2: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"City\">\r\n              <input type=\"text\" value={contactInfo.city || ''} onChange={(e) => setContactInfo({ ...contactInfo, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"State\">\r\n              <input type=\"text\" value={contactInfo.state || ''} onChange={(e) => setContactInfo({ ...contactInfo, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Postal Code\">\r\n              <input type=\"text\" value={contactInfo.postalCode || ''} onChange={(e) => setContactInfo({ ...contactInfo, postalCode: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Country\">\r\n              <input type=\"text\" value={contactInfo.country || ''} onChange={(e) => setContactInfo({ ...contactInfo, country: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <div className=\"md:col-span-2\">\r\n              <FormField label=\"Google Maps Embed URL\">\r\n                <textarea value={contactInfo.googleMapsEmbedUrl || ''} onChange={(e) => setContactInfo({ ...contactInfo, googleMapsEmbedUrl: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Paste Google Maps embed iframe code here\" />\r\n              </FormField>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\n\r\ninterface GlobalSetting {\r\n  id: number;\r\n  settingKey: string;\r\n  settingValue: string | null;\r\n  settingType: string;\r\n  description: string | null;\r\n}\r\n\r\nexport default function GlobalSettingsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [settings, setSettings] = useState<GlobalSetting[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingSetting, setEditingSetting] = useState<GlobalSetting | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const fetchSettings = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<GlobalSetting[]>('/global-settings');\r\n      if (response.success && response.data) {\r\n        setSettings(response.data as GlobalSetting[]);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (setting: GlobalSetting) => {\r\n    setSaving(true);\r\n    try {\r\n      if (setting.id && setting.id > 0) {\r\n        await api.put(`/global-settings/${setting.id}`, setting);\r\n      } else {\r\n        await api.post('/global-settings', setting);\r\n      }\r\n      setShowModal(false);\r\n      setEditingSetting(null);\r\n      fetchSettings();\r\n      alert('Setting saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this setting?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/global-settings/${id}`);\r\n      setSettings(settings.filter(s => s.id !== id));\r\n      alert('Setting deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Global Settings</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage site-wide settings</p>\r\n          </div>\r\n          <button onClick={() => { setEditingSetting({ id: 0, settingKey: '', settingValue: null, settingType: 'text', description: null }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Setting\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : settings.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-settings-3-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No settings yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-3\">\r\n            {settings.map((setting) => (\r\n              <div key={setting.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-semibold text-gray-900\">{setting.settingKey}</h4>\r\n                    {setting.description && <p className=\"text-sm text-gray-600 mt-1\">{setting.description}</p>}\r\n                    <p className=\"text-sm text-gray-700 mt-2 bg-gray-50 p-2 rounded\">{setting.settingValue || '(empty)'}</p>\r\n                    <span className=\"inline-block mt-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded\">{setting.settingType}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2 ml-4\">\r\n                    <button onClick={() => { setEditingSetting(setting); setShowModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                      <i className=\"ri-edit-line\"></i>\r\n                    </button>\r\n                    <button onClick={() => handleDelete(setting.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                      <i className=\"ri-delete-bin-line\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingSetting && (\r\n        <SettingModal setting={editingSetting} onSave={handleSave} onClose={() => { setShowModal(false); setEditingSetting(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SettingModal({ setting, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(setting);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={setting.id > 0 ? 'Edit Setting' : 'Add Setting'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Setting Key\" required hint=\"Unique identifier (e.g., site_name)\">\r\n          <input type=\"text\" value={formData.settingKey} onChange={(e) => setFormData({ ...formData, settingKey: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Setting Type\">\r\n          <select value={formData.settingType} onChange={(e) => setFormData({ ...formData, settingType: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"text\">Text</option>\r\n            <option value=\"number\">Number</option>\r\n            <option value=\"boolean\">Boolean</option>\r\n            <option value=\"json\">JSON</option>\r\n          </select>\r\n        </FormField>\r\n        <FormField label=\"Setting Value\">\r\n          {formData.settingType === 'boolean' ? (\r\n            <select value={formData.settingValue || 'false'} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"true\">True</option>\r\n              <option value=\"false\">False</option>\r\n            </select>\r\n          ) : formData.settingType === 'json' ? (\r\n            <textarea value={formData.settingValue || ''} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm\" placeholder='{\"key\": \"value\"}' />\r\n          ) : (\r\n            <input type={formData.settingType === 'number' ? 'number' : 'text'} value={formData.settingValue || ''} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          )}\r\n        </FormField>\r\n        <FormField label=\"Description\">\r\n          <input type=\"text\" value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.settingKey} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../components/cms/DragDropList';\r\n\r\ninterface SocialLink {\r\n  id: number;\r\n  platform: string;\r\n  url: string;\r\n  iconClass: string | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function SocialLinksManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [links, setLinks] = useState<SocialLink[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingLink, setEditingLink] = useState<SocialLink | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchLinks();\r\n  }, []);\r\n\r\n  const fetchLinks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<SocialLink[]>('/social-links');\r\n      if (response.success && response.data) {\r\n        setLinks((response.data as SocialLink[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReorder = async (reorderedLinks: SocialLink[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reorderedLinks.length; i++) {\r\n        await api.put(`/social-links/${reorderedLinks[i].id}`, {\r\n          ...reorderedLinks[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setLinks(reorderedLinks);\r\n      alert('Order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (link: SocialLink) => {\r\n    setSaving(true);\r\n    try {\r\n      if (link.id && link.id > 0) {\r\n        await api.put(`/social-links/${link.id}`, link);\r\n      } else {\r\n        await api.post('/social-links', { ...link, orderIndex: links.length });\r\n      }\r\n      setShowModal(false);\r\n      setEditingLink(null);\r\n      fetchLinks();\r\n      alert('Social link saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this social link?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/social-links/${id}`);\r\n      setLinks(links.filter(l => l.id !== id));\r\n      alert('Social link deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Social Links</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage social media links</p>\r\n          </div>\r\n          <button onClick={() => { setEditingLink({ id: 0, platform: '', url: '', iconClass: null, orderIndex: links.length, isActive: true }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Link\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : links.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-share-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No social links yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <DragDropList\r\n            items={links}\r\n            onReorder={handleReorder}\r\n            keyExtractor={(l) => l.id}\r\n            renderItem={(link: SocialLink) => (\r\n              <div className=\"flex items-center justify-between w-full\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  {link.iconClass && <i className={`${link.iconClass} text-2xl text-blue-600`}></i>}\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-gray-900\">{link.platform}</h4>\r\n                    <p className=\"text-sm text-gray-600\">{link.url}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className={`px-2 py-1 text-xs rounded-full ${link.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                    {link.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                  <button onClick={() => { setEditingLink(link); setShowModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-edit-line\"></i>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(link.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-delete-bin-line\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingLink && (\r\n        <LinkModal link={editingLink} onSave={handleSave} onClose={() => { setShowModal(false); setEditingLink(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinkModal({ link, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(link);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={link.id > 0 ? 'Edit Social Link' : 'Add Social Link'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Platform\" required>\r\n          <input type=\"text\" value={formData.platform} onChange={(e) => setFormData({ ...formData, platform: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Facebook\" />\r\n        </FormField>\r\n        <FormField label=\"URL\" required>\r\n          <input type=\"url\" value={formData.url} onChange={(e) => setFormData({ ...formData, url: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"https://facebook.com/...\" />\r\n        </FormField>\r\n        <FormField label=\"Icon Class\" hint=\"RemixIcon class\">\r\n          <input type=\"text\" value={formData.iconClass || ''} onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"ri-facebook-line\" />\r\n          {formData.iconClass && <div className=\"mt-2 text-xs text-gray-500\">Preview: <i className={formData.iconClass}></i></div>}\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.platform || !formData.url} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\n\r\ninterface Testimonial {\r\n  id: number;\r\n  clientName: string;\r\n  clientPosition: string | null;\r\n  clientCompany: string | null;\r\n  clientImageId: number | null;\r\n  testimonialText: string;\r\n  rating: number | null;\r\n  orderIndex: number;\r\n  isFeatured: boolean;\r\n  isActive: boolean;\r\n  clientImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function TestimonialsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [testimonials, setTestimonials] = useState<Testimonial[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingTestimonial, setEditingTestimonial] = useState<Testimonial | null>(null);\r\n  const [viewingTestimonial, setViewingTestimonial] = useState<Testimonial | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchTestimonials();\r\n  }, []);\r\n\r\n  const fetchTestimonials = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<Testimonial[]>('/testimonials');\r\n      if (response.success && response.data) {\r\n        setTestimonials((response.data as Testimonial[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReorder = async (reordered: Testimonial[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/testimonials/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setTestimonials(reordered);\r\n      alert('Order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (testimonial: Testimonial) => {\r\n    setSaving(true);\r\n    try {\r\n      if (testimonial.id && testimonial.id > 0) {\r\n        await api.put(`/testimonials/${testimonial.id}`, testimonial);\r\n      } else {\r\n        await api.post('/testimonials', { ...testimonial, orderIndex: testimonials.length });\r\n      }\r\n      setShowModal(false);\r\n      setEditingTestimonial(null);\r\n      fetchTestimonials();\r\n      alert('Testimonial saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this testimonial?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/testimonials/${id}`);\r\n      setTestimonials(testimonials.filter(t => t.id !== id));\r\n      alert('Testimonial deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getImageUrl = (testimonial: Testimonial): string => {\r\n    if (!testimonial.clientImage) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${testimonial.clientImage.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Testimonials</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage customer testimonials</p>\r\n          </div>\r\n          <button onClick={() => { setEditingTestimonial({ id: 0, clientName: '', clientPosition: null, clientCompany: null, clientImageId: null, testimonialText: '', rating: null, orderIndex: testimonials.length, isFeatured: false, isActive: true }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Testimonial\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : testimonials.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-chat-quote-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No testimonials yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <DragDropList\r\n            items={testimonials}\r\n            onReorder={handleReorder}\r\n            keyExtractor={(t) => t.id}\r\n            renderItem={(testimonial: Testimonial) => (\r\n              <div className=\"flex items-center space-x-4 w-full\">\r\n                {testimonial.clientImage && <img src={getImageUrl(testimonial)} alt={testimonial.clientName} className=\"w-16 h-16 rounded-full object-cover\" />}\r\n                <div className=\"flex-1\">\r\n                  <h4 className=\"font-semibold text-gray-900\">{testimonial.clientName}</h4>\r\n                  {testimonial.clientCompany && <p className=\"text-sm text-gray-600\">{testimonial.clientCompany}</p>}\r\n                  <p className=\"text-sm text-gray-500 line-clamp-2 mt-1\">\"{testimonial.testimonialText}\"</p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {testimonial.isFeatured && <span className=\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\">Featured</span>}\r\n                  <span className={`px-2 py-1 text-xs rounded-full ${testimonial.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                    {testimonial.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                  <button onClick={() => setViewingTestimonial(testimonial)} className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-eye-line\"></i>\r\n                  </button>\r\n                  <button onClick={() => { setEditingTestimonial(testimonial); setShowModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-edit-line\"></i>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(testimonial.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-delete-bin-line\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingTestimonial && (\r\n        <TestimonialModal testimonial={editingTestimonial} onSave={handleSave} onClose={() => { setShowModal(false); setEditingTestimonial(null); }} saving={saving} />\r\n      )}\r\n\r\n      {viewingTestimonial && (\r\n        <TestimonialViewModal testimonial={viewingTestimonial} onClose={() => setViewingTestimonial(null)} onEdit={() => { setEditingTestimonial(viewingTestimonial); setViewingTestimonial(null); setShowModal(true); }} getImageUrl={getImageUrl} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TestimonialModal({ testimonial, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState<Testimonial>(testimonial);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={testimonial.id > 0 ? 'Edit Testimonial' : 'Add Testimonial'} size=\"lg\">\r\n      <div className=\"space-y-6\">\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"Client Name\" required><input type=\"text\" value={formData.clientName} onChange={(e) => setFormData({ ...formData, clientName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n          <FormField label=\"Client Position\"><input type=\"text\" value={formData.clientPosition || ''} onChange={(e) => setFormData({ ...formData, clientPosition: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n        </div>\r\n        <FormField label=\"Client Company\"><input type=\"text\" value={formData.clientCompany || ''} onChange={(e) => setFormData({ ...formData, clientCompany: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n        <FormField label=\"Testimonial Text\" required><textarea value={formData.testimonialText} onChange={(e) => setFormData({ ...formData, testimonialText: e.target.value })} rows={5} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"Rating (1-5)\">\r\n            <input type=\"number\" min=\"1\" max=\"5\" value={formData.rating || ''} onChange={(e) => setFormData({ ...formData, rating: e.target.value ? parseInt(e.target.value) : null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <div className=\"space-y-4\">\r\n            <FormField label=\"Featured\">\r\n              <select value={formData.isFeatured ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isFeatured: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                <option value=\"no\">No</option>\r\n                <option value=\"yes\">Yes</option>\r\n              </select>\r\n            </FormField>\r\n            <FormField label=\"Status\">\r\n              <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n              </select>\r\n            </FormField>\r\n          </div>\r\n        </div>\r\n        <ImageSelector value={formData.clientImageId} onChange={(id) => setFormData({ ...formData, clientImageId: id })} label=\"Client Photo\" aspectRatio=\"1/1\" />\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.clientName || !formData.testimonialText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction TestimonialViewModal({ testimonial, onClose, onEdit, getImageUrl }: any) {\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title=\"Testimonial Details\" size=\"lg\">\r\n      <div className=\"space-y-6\">\r\n        {testimonial.clientImage && (\r\n          <div className=\"flex justify-center\">\r\n            <img src={getImageUrl(testimonial)} alt={testimonial.clientName} className=\"w-32 h-32 rounded-full object-cover\" />\r\n          </div>\r\n        )}\r\n        <div className=\"text-center\">\r\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">{testimonial.clientName}</h3>\r\n          {testimonial.clientPosition && <p className=\"text-gray-700\">{testimonial.clientPosition}</p>}\r\n          {testimonial.clientCompany && <p className=\"text-blue-600\">{testimonial.clientCompany}</p>}\r\n        </div>\r\n        <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n          <p className=\"text-gray-700 italic text-lg\">\"{testimonial.testimonialText}\"</p>\r\n        </div>\r\n        {testimonial.rating && (\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-sm text-gray-600\">Rating:</span>\r\n            <div className=\"flex\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <i key={i} className={`ri-star-${i < testimonial.rating! ? 'fill' : 'line'} text-yellow-400`}></i>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Close</button>\r\n          <button onClick={onEdit} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\">\r\n            <i className=\"ri-edit-line mr-2\"></i>Edit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\n\ninterface ActivityLog {\n  id: string;\n  user: string;\n  userEmail: string;\n  action: 'create' | 'update' | 'delete' | 'restore' | 'login' | 'logout';\n  page: string;\n  section: string;\n  field?: string;\n  oldValue?: string;\n  newValue?: string;\n  timestamp: Date;\n  ipAddress: string;\n}\n\nexport default function ActivityLogsPage() {\n  const [filterAction, setFilterAction] = useState<string>('all');\n  const [filterPage, setFilterPage] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateRange, setDateRange] = useState({ start: '', end: '' });\n\n  // Mock data - In production, fetch from your database\n  const [logs] = useState<ActivityLog[]>([\n    {\n      id: '1',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'update',\n      page: 'Home',\n      section: 'Hero Section',\n      field: 'Title',\n      oldValue: 'Welcome to Adonis Medical',\n      newValue: 'Affordable Diagnostic Imaging Solutions',\n      timestamp: new Date('2025-01-15T10:30:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '2',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'login',\n      page: 'Admin',\n      section: 'Authentication',\n      timestamp: new Date('2025-01-15T09:00:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '3',\n      user: 'Editor User',\n      userEmail: 'editor@adonismedical.com',\n      action: 'create',\n      page: 'Products',\n      section: 'Product List',\n      field: 'New Product',\n      newValue: 'HF Mobile X-Ray System',\n      timestamp: new Date('2025-01-14T15:45:00'),\n      ipAddress: '192.168.1.101'\n    },\n    {\n      id: '4',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'delete',\n      page: 'Awards',\n      section: 'Awards List',\n      field: 'Award Item',\n      oldValue: 'Best Innovation Award 2023',\n      timestamp: new Date('2025-01-14T14:20:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '5',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'restore',\n      page: 'Awards',\n      section: 'Awards List',\n      field: 'Award Item',\n      newValue: 'Best Innovation Award 2023',\n      timestamp: new Date('2025-01-14T14:25:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '6',\n      user: 'Editor User',\n      userEmail: 'editor@adonismedical.com',\n      action: 'update',\n      page: 'About',\n      section: 'Company Overview',\n      field: 'Description',\n      oldValue: 'We are a leading manufacturer...',\n      newValue: 'Adonis Medical Systems, a professionally managed...',\n      timestamp: new Date('2025-01-13T11:30:00'),\n      ipAddress: '192.168.1.101'\n    }\n  ]);\n\n  const actionColors = {\n    create: 'bg-green-100 text-green-800',\n    update: 'bg-blue-100 text-blue-800',\n    delete: 'bg-red-100 text-red-800',\n    restore: 'bg-purple-100 text-purple-800',\n    login: 'bg-gray-100 text-gray-800',\n    logout: 'bg-gray-100 text-gray-800'\n  };\n\n  const actionIcons = {\n    create: 'ri-add-circle-line',\n    update: 'ri-edit-line',\n    delete: 'ri-delete-bin-line',\n    restore: 'ri-restart-line',\n    login: 'ri-login-box-line',\n    logout: 'ri-logout-box-line'\n  };\n\n  const filteredLogs = logs.filter(log => {\n    const matchesAction = filterAction === 'all' || log.action === filterAction;\n    const matchesPage = filterPage === 'all' || log.page === filterPage;\n    const matchesSearch = searchQuery === '' || \n      log.user.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.userEmail.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.page.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.section.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    return matchesAction && matchesPage && matchesSearch;\n  });\n\n  const exportLogs = () => {\n    const csv = [\n      ['Timestamp', 'User', 'Email', 'Action', 'Page', 'Section', 'Field', 'Old Value', 'New Value', 'IP Address'],\n      ...filteredLogs.map(log => [\n        log.timestamp.toISOString(),\n        log.user,\n        log.userEmail,\n        log.action,\n        log.page,\n        log.section,\n        log.field || '',\n        log.oldValue || '',\n        log.newValue || '',\n        log.ipAddress\n      ])\n    ].map(row => row.join(',')).join('\\\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `activity-logs-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Activity Logs</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Track all user actions and changes</p>\n          </div>\n          <button\n            onClick={exportLogs}\n            className=\"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap\"\n          >\n            <i className=\"ri-download-line\"></i>\n            <span>Export Logs</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search user, email, page...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n              <i className=\"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"></i>\n            </div>\n          </div>\n\n          {/* Action Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Action</label>\n            <select\n              value={filterAction}\n              onChange={(e) => setFilterAction(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              <option value=\"all\">All Actions</option>\n              <option value=\"create\">Create</option>\n              <option value=\"update\">Update</option>\n              <option value=\"delete\">Delete</option>\n              <option value=\"restore\">Restore</option>\n              <option value=\"login\">Login</option>\n              <option value=\"logout\">Logout</option>\n            </select>\n          </div>\n\n          {/* Page Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Page</label>\n            <select\n              value={filterPage}\n              onChange={(e) => setFilterPage(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              <option value=\"all\">All Pages</option>\n              <option value=\"Home\">Home</option>\n              <option value=\"About\">About</option>\n              <option value=\"Products\">Products</option>\n              <option value=\"Awards\">Awards</option>\n              <option value=\"Careers\">Careers</option>\n              <option value=\"Contact\">Contact</option>\n            </select>\n          </div>\n\n          {/* Date Range */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date Range</label>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"date\"\n                value={dateRange.start}\n                onChange={(e) => setDateRange({ ...dateRange, start: e.target.value })}\n                className=\"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              />\n              <input\n                type=\"date\"\n                value={dateRange.end}\n                onChange={(e) => setDateRange({ ...dateRange, end: e.target.value })}\n                className=\"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Logs Table */}\n      <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Page</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Section</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Changes</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">IP Address</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredLogs.map((log) => (\n                <tr key={log.id} className=\"hover:bg-gray-50 transition-colors\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {log.timestamp.toLocaleString()}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm font-medium text-gray-900\">{log.user}</div>\n                    <div className=\"text-xs text-gray-500\">{log.userEmail}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${actionColors[log.action]}`}>\n                      <i className={`${actionIcons[log.action]} mr-1`}></i>\n                      {log.action.charAt(0).toUpperCase() + log.action.slice(1)}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{log.page}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{log.section}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">\n                    {log.field && (\n                      <div className=\"space-y-1\">\n                        <div className=\"font-medium\">{log.field}</div>\n                        {log.oldValue && (\n                          <div className=\"text-xs text-red-600\">\n                            <span className=\"font-medium\">From:</span> {log.oldValue.substring(0, 50)}{log.oldValue.length > 50 ? '...' : ''}\n                          </div>\n                        )}\n                        {log.newValue && (\n                          <div className=\"text-xs text-green-600\">\n                            <span className=\"font-medium\">To:</span> {log.newValue.substring(0, 50)}{log.newValue.length > 50 ? '...' : ''}\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{log.ipAddress}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {filteredLogs.length === 0 && (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-file-list-3-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No activity logs found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Actions</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">{logs.length}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-bar-chart-line text-2xl text-blue-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Updates</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'update').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-edit-line text-2xl text-green-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Deletions</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'delete').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-delete-bin-line text-2xl text-red-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Logins</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'login').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-login-box-line text-2xl text-purple-600\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface DeletedItem {\n  id: string;\n  type: 'page-section' | 'product' | 'award' | 'job' | 'client' | 'document';\n  page: string;\n  section: string;\n  title: string;\n  deletedBy: string;\n  deletedAt: Date;\n  data: any;\n}\n\nexport default function RecycleBinPage() {\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [filterType, setFilterType] = useState<string>('all');\n\n  // Mock data - In production, fetch from your database\n  const [deletedItems, setDeletedItems] = useState<DeletedItem[]>([\n    {\n      id: '1',\n      type: 'award',\n      page: 'Awards',\n      section: 'Awards List',\n      title: 'Best Innovation Award 2023',\n      deletedBy: 'raghul.je@refex.co.in',\n      deletedAt: new Date('2025-01-14T14:20:00'),\n      data: {\n        year: '2023',\n        category: 'Innovation',\n        organization: 'Healthcare Excellence Awards',\n        description: 'Recognized for breakthrough innovations in medical imaging technology'\n      }\n    },\n    {\n      id: '2',\n      type: 'product',\n      page: 'Products',\n      section: 'Product List',\n      title: 'Legacy X-Ray System',\n      deletedBy: 'editor@adonismedical.com',\n      deletedAt: new Date('2025-01-13T10:15:00'),\n      data: {\n        category: 'X-Ray Systems',\n        description: 'Discontinued product line'\n      }\n    },\n    {\n      id: '3',\n      type: 'job',\n      page: 'Careers',\n      section: 'Job Openings',\n      title: 'Senior Software Engineer',\n      deletedBy: 'raghul.je@refex.co.in',\n      deletedAt: new Date('2025-01-12T16:30:00'),\n      data: {\n        department: 'Engineering',\n        location: 'Mohali, India',\n        type: 'Full-time'\n      }\n    },\n    {\n      id: '4',\n      type: 'page-section',\n      page: 'Home',\n      section: 'Testimonials',\n      title: 'Customer Testimonial - Dr. Smith',\n      deletedBy: 'editor@adonismedical.com',\n      deletedAt: new Date('2025-01-11T09:45:00'),\n      data: {\n        author: 'Dr. John Smith',\n        content: 'Excellent equipment and service...'\n      }\n    }\n  ]);\n\n  const typeIcons = {\n    'page-section': 'ri-file-text-line',\n    'product': 'ri-product-hunt-line',\n    'award': 'ri-award-line',\n    'job': 'ri-briefcase-line',\n    'client': 'ri-user-heart-line',\n    'document': 'ri-file-line'\n  };\n\n  const typeColors = {\n    'page-section': 'bg-blue-100 text-blue-800',\n    'product': 'bg-green-100 text-green-800',\n    'award': 'bg-yellow-100 text-yellow-800',\n    'job': 'bg-purple-100 text-purple-800',\n    'client': 'bg-pink-100 text-pink-800',\n    'document': 'bg-gray-100 text-gray-800'\n  };\n\n  const filteredItems = filterType === 'all' \n    ? deletedItems \n    : deletedItems.filter(item => item.type === filterType);\n\n  const handleSelectAll = () => {\n    if (selectedItems.length === filteredItems.length) {\n      setSelectedItems([]);\n    } else {\n      setSelectedItems(filteredItems.map(item => item.id));\n    }\n  };\n\n  const handleSelectItem = (id: string) => {\n    setSelectedItems(prev => \n      prev.includes(id) \n        ? prev.filter(itemId => itemId !== id)\n        : [...prev, id]\n    );\n  };\n\n  const handleRestore = (id: string) => {\n    const item = deletedItems.find(i => i.id === id);\n    if (item) {\n      alert(`Restored: ${item.title}`);\n      setDeletedItems(prev => prev.filter(i => i.id !== id));\n      setSelectedItems(prev => prev.filter(itemId => itemId !== id));\n    }\n  };\n\n  const handleRestoreSelected = () => {\n    if (selectedItems.length === 0) return;\n    \n    if (confirm(`Restore ${selectedItems.length} selected item(s)?`)) {\n      setDeletedItems(prev => prev.filter(item => !selectedItems.includes(item.id)));\n      setSelectedItems([]);\n      alert(`${selectedItems.length} item(s) restored successfully!`);\n    }\n  };\n\n  const handlePermanentDelete = (id: string) => {\n    const item = deletedItems.find(i => i.id === id);\n    if (item && confirm(`Permanently delete \"${item.title}\"? This action cannot be undone.`)) {\n      setDeletedItems(prev => prev.filter(i => i.id !== id));\n      setSelectedItems(prev => prev.filter(itemId => itemId !== id));\n      alert('Item permanently deleted');\n    }\n  };\n\n  const handleEmptyBin = () => {\n    if (deletedItems.length === 0) return;\n    \n    if (confirm(`Permanently delete all ${deletedItems.length} item(s)? This action cannot be undone.`)) {\n      setDeletedItems([]);\n      setSelectedItems([]);\n      alert('Recycle bin emptied successfully');\n    }\n  };\n\n  const getDaysAgo = (date: Date) => {\n    const days = Math.floor((new Date().getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\n    if (days === 0) return 'Today';\n    if (days === 1) return 'Yesterday';\n    return `${days} days ago`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Recycle Bin</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {deletedItems.length} deleted item(s)  Items are kept for 30 days\n            </p>\n          </div>\n          <div className=\"flex space-x-3\">\n            {selectedItems.length > 0 && (\n              <button\n                onClick={handleRestoreSelected}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-restart-line\"></i>\n                <span>Restore Selected ({selectedItems.length})</span>\n              </button>\n            )}\n            <button\n              onClick={handleEmptyBin}\n              disabled={deletedItems.length === 0}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <i className=\"ri-delete-bin-line\"></i>\n              <span>Empty Bin</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex items-center space-x-2 overflow-x-auto\">\n          <button\n            onClick={() => setFilterType('all')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'all'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            All Items ({deletedItems.length})\n          </button>\n          <button\n            onClick={() => setFilterType('page-section')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'page-section'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Page Sections ({deletedItems.filter(i => i.type === 'page-section').length})\n          </button>\n          <button\n            onClick={() => setFilterType('product')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'product'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Products ({deletedItems.filter(i => i.type === 'product').length})\n          </button>\n          <button\n            onClick={() => setFilterType('award')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'award'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Awards ({deletedItems.filter(i => i.type === 'award').length})\n          </button>\n          <button\n            onClick={() => setFilterType('job')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'job'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Jobs ({deletedItems.filter(i => i.type === 'job').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Items List */}\n      <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n        {filteredItems.length > 0 ? (\n          <>\n            {/* Select All */}\n            <div className=\"px-6 py-3 bg-gray-50 border-b border-gray-200\">\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedItems.length === filteredItems.length}\n                  onChange={handleSelectAll}\n                  className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">Select All</span>\n              </label>\n            </div>\n\n            {/* Items */}\n            <div className=\"divide-y divide-gray-200\">\n              {filteredItems.map((item) => (\n                <div key={item.id} className=\"px-6 py-4 hover:bg-gray-50 transition-colors\">\n                  <div className=\"flex items-start space-x-4\">\n                    {/* Checkbox */}\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.includes(item.id)}\n                      onChange={() => handleSelectItem(item.id)}\n                      className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n                    />\n\n                    {/* Icon */}\n                    <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${typeColors[item.type]}`}>\n                      <i className={`${typeIcons[item.type]} text-xl`}></i>\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <h3 className=\"text-sm font-medium text-gray-900\">{item.title}</h3>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${typeColors[item.type]}`}>\n                              {item.type.replace('-', ' ')}\n                            </span>\n                            <span className=\"text-xs text-gray-500\"></span>\n                            <span className=\"text-xs text-gray-500\">{item.page} / {item.section}</span>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-2\">\n                            Deleted by {item.deletedBy}  {getDaysAgo(item.deletedAt)}\n                          </p>\n                        </div>\n\n                        {/* Actions */}\n                        <div className=\"flex items-center space-x-2 ml-4\">\n                          <button\n                            onClick={() => handleRestore(item.id)}\n                            className=\"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                          >\n                            <i className=\"ri-restart-line\"></i>\n                            <span>Restore</span>\n                          </button>\n                          <button\n                            onClick={() => handlePermanentDelete(item.id)}\n                            className=\"flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                            <span>Delete</span>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-delete-bin-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">Recycle bin is empty</p>\n            <p className=\"text-sm text-gray-400 mt-1\">Deleted items will appear here</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface Version {\n  id: string;\n  page: string;\n  section: string;\n  versionNumber: number;\n  createdBy: string;\n  createdAt: Date;\n  changes: string[];\n  data: any;\n}\n\nexport default function VersionHistoryPage() {\n  const [selectedPage, setSelectedPage] = useState<string>('all');\n  const [selectedSection, setSelectedSection] = useState<string>('all');\n  const [compareMode, setCompareMode] = useState(false);\n  const [compareVersions, setCompareVersions] = useState<string[]>([]);\n\n  // Mock data - In production, fetch from your database\n  const [versions] = useState<Version[]>([\n    {\n      id: '1',\n      page: 'Home',\n      section: 'Hero Section',\n      versionNumber: 5,\n      createdBy: 'raghul.je@refex.co.in',\n      createdAt: new Date('2025-01-15T10:30:00'),\n      changes: ['Updated title text', 'Changed background image', 'Modified button color'],\n      data: {\n        title: 'Affordable Diagnostic Imaging Solutions',\n        subtitle: 'Leading manufacturer of high-quality X-ray systems',\n        backgroundImage: 'https://example.com/hero-bg.jpg'\n      }\n    },\n    {\n      id: '2',\n      page: 'Home',\n      section: 'Hero Section',\n      versionNumber: 4,\n      createdBy: 'editor@adonismedical.com',\n      createdAt: new Date('2025-01-14T15:20:00'),\n      changes: ['Updated subtitle', 'Changed overlay opacity'],\n      data: {\n        title: 'Welcome to Adonis Medical',\n        subtitle: 'Quality medical imaging solutions',\n        backgroundImage: 'https://example.com/hero-bg-old.jpg'\n      }\n    },\n    {\n      id: '3',\n      page: 'About',\n      section: 'Company Overview',\n      versionNumber: 3,\n      createdBy: 'raghul.je@refex.co.in',\n      createdAt: new Date('2025-01-13T11:45:00'),\n      changes: ['Added new paragraph', 'Updated bullet points'],\n      data: {\n        paragraphs: ['Updated company description...'],\n        bulletPoints: ['Innovation', 'Quality', 'Service']\n      }\n    },\n    {\n      id: '4',\n      page: 'Products',\n      section: 'Product List',\n      versionNumber: 8,\n      createdBy: 'editor@adonismedical.com',\n      createdAt: new Date('2025-01-12T09:15:00'),\n      changes: ['Added new product', 'Updated product images'],\n      data: {\n        products: ['HF Mobile', 'C-ARM', 'Digital Radiography']\n      }\n    }\n  ]);\n\n  const pages = ['all', ...Array.from(new Set(versions.map(v => v.page)))];\n  const sections = selectedPage === 'all' \n    ? ['all'] \n    : ['all', ...Array.from(new Set(versions.filter(v => v.page === selectedPage).map(v => v.section)))];\n\n  const filteredVersions = versions.filter(v => {\n    const matchesPage = selectedPage === 'all' || v.page === selectedPage;\n    const matchesSection = selectedSection === 'all' || v.section === selectedSection;\n    return matchesPage && matchesSection;\n  });\n\n  const handleCompareToggle = (versionId: string) => {\n    if (compareVersions.includes(versionId)) {\n      setCompareVersions(prev => prev.filter(id => id !== versionId));\n    } else if (compareVersions.length < 2) {\n      setCompareVersions(prev => [...prev, versionId]);\n    }\n  };\n\n  const handleRestore = (version: Version) => {\n    if (confirm(`Restore ${version.page} - ${version.section} to version ${version.versionNumber}?`)) {\n      alert(`Restored to version ${version.versionNumber}`);\n    }\n  };\n\n  const handleCompare = () => {\n    if (compareVersions.length === 2) {\n      alert('Opening comparison view...');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Version History</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">View and restore previous versions of your content</p>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={compareMode}\n                onChange={(e) => {\n                  setCompareMode(e.target.checked);\n                  if (!e.target.checked) setCompareVersions([]);\n                }}\n                className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Compare Mode</span>\n            </label>\n            {compareMode && compareVersions.length === 2 && (\n              <button\n                onClick={handleCompare}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-git-compare-line\"></i>\n                <span>Compare Versions</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Page</label>\n            <select\n              value={selectedPage}\n              onChange={(e) => {\n                setSelectedPage(e.target.value);\n                setSelectedSection('all');\n              }}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              {pages.map(page => (\n                <option key={page} value={page}>\n                  {page === 'all' ? 'All Pages' : page}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Section</label>\n            <select\n              value={selectedSection}\n              onChange={(e) => setSelectedSection(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              {sections.map(section => (\n                <option key={section} value={section}>\n                  {section === 'all' ? 'All Sections' : section}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Version Timeline */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Version Timeline</h3>\n        \n        {filteredVersions.length > 0 ? (\n          <div className=\"space-y-6\">\n            {filteredVersions.map((version, index) => (\n              <div key={version.id} className=\"relative\">\n                {/* Timeline Line */}\n                {index !== filteredVersions.length - 1 && (\n                  <div className=\"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200\"></div>\n                )}\n\n                <div className=\"flex items-start space-x-4\">\n                  {/* Compare Checkbox */}\n                  {compareMode && (\n                    <input\n                      type=\"checkbox\"\n                      checked={compareVersions.includes(version.id)}\n                      onChange={() => handleCompareToggle(version.id)}\n                      disabled={!compareVersions.includes(version.id) && compareVersions.length >= 2}\n                      className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                    />\n                  )}\n\n                  {/* Version Badge */}\n                  <div className=\"relative z-10 flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\n                    v{version.versionNumber}\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 bg-gray-50 rounded-lg p-4\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <h4 className=\"text-sm font-semibold text-gray-900\">\n                            {version.page} - {version.section}\n                          </h4>\n                          <span className=\"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded\">\n                            Version {version.versionNumber}\n                          </span>\n                        </div>\n                        \n                        <p className=\"text-xs text-gray-500 mb-3\">\n                          {version.createdAt.toLocaleString()}  by {version.createdBy}\n                        </p>\n\n                        <div className=\"space-y-1\">\n                          <p className=\"text-xs font-medium text-gray-700\">Changes:</p>\n                          <ul className=\"space-y-1\">\n                            {version.changes.map((change, idx) => (\n                              <li key={idx} className=\"text-xs text-gray-600 flex items-start\">\n                                <i className=\"ri-arrow-right-s-line text-blue-500 mt-0.5\"></i>\n                                <span>{change}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => alert('Opening preview...')}\n                          className=\"flex items-center space-x-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                          <span>Preview</span>\n                        </button>\n                        <button\n                          onClick={() => handleRestore(version)}\n                          className=\"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                        >\n                          <i className=\"ri-restart-line\"></i>\n                          <span>Restore</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-history-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No version history found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Versions</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">{versions.length}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-git-branch-line text-2xl text-blue-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Pages Tracked</p>\n              <p className=\"text-2xl font-bold text-gray-900 mt-1\">\n                {new Set(versions.map(v => v.page)).size}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-file-list-line text-2xl text-green-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Latest Update</p>\n              <p className=\"text-sm font-bold text-gray-900 mt-1\">\n                {versions[0]?.createdAt.toLocaleDateString()}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-time-line text-2xl text-purple-600\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nimport { useAuth } from '../../../contexts/AuthContext';\nimport { getDefaultImageUrl } from '../../../utils/imageUrl';\nimport HomePageManagement from './components/HomePageManagement';\nimport HeaderFooterManagement from './components/HeaderFooterManagement';\nimport AboutPageManagement from './components/AboutPageManagement';\nimport UserManagement from './components/UserManagement';\nimport ProductsPageManagement from './components/ProductsPageManagement';\nimport AwardsPageManagement from './components/AwardsPageManagement';\nimport CareersPageManagement from './components/CareersPageManagement';\nimport ContactPageManagement from './components/ContactPageManagement';\nimport SMTPConfiguration from './components/SMTPConfiguration';\nimport SpecialtiesPageManagement from './components/SpecialtiesPageManagement';\nimport InvestorRelationsPageManagement from './components/InvestorRelationsPageManagement';\nimport ClientsPageManagement from './components/ClientsPageManagement';\nimport ManagementPageManagement from './components/ManagementPageManagement';\nimport OurPresencePageManagement from './components/OurPresencePageManagement';\nimport ProductionFacilityPageManagement from './components/ProductionFacilityPageManagement';\nimport QualityAssurancePageManagement from './components/QualityAssurancePageManagement';\nimport RequestDemoPageManagement from './components/RequestDemoPageManagement';\nimport ContactInfoManagement from './components/ContactInfoManagement';\nimport GlobalSettingsManagement from './components/GlobalSettingsManagement';\nimport SocialLinksManagement from './components/SocialLinksManagement';\nimport TestimonialsManagement from './components/TestimonialsManagement';\nimport ActivityLogsPage from './components/ActivityLogsPage';\nimport RecycleBinPage from './components/RecycleBinPage';\nimport VersionHistoryPage from './components/VersionHistoryPage';\n\ntype MainTab = 'home' | 'header-footer' | 'about' | 'products' | 'awards' | 'careers' | 'specialties' | 'investors' | 'clients' | 'management' | 'presence' | 'production' | 'quality' | 'demo' | 'contact' | 'contact-info' | 'global-settings' | 'social-links' | 'testimonials' | 'users' | 'smtp' | 'logs' | 'bin' | 'versions';\n\nexport default function AdminDashboardPage() {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const [activeMainTab, setActiveMainTab] = useState<MainTab>('home');\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    AOS.init({\n      duration: 600,\n      once: true,\n      easing: 'ease-out-cubic'\n    });\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const mainTabs = [\n    { id: 'home' as MainTab, label: 'Home', icon: 'ri-home-line' },\n    { id: 'header-footer' as MainTab, label: 'Header & Footer', icon: 'ri-layout-line' },\n    { id: 'about' as MainTab, label: 'About', icon: 'ri-information-line' },\n    { id: 'products' as MainTab, label: 'Products', icon: 'ri-product-hunt-line' },\n    { id: 'awards' as MainTab, label: 'Awards', icon: 'ri-award-line' },\n    { id: 'careers' as MainTab, label: 'Careers', icon: 'ri-briefcase-line' },\n    { id: 'specialties' as MainTab, label: 'Specialties', icon: 'ri-stethoscope-line' },\n    { id: 'investors' as MainTab, label: 'Investors', icon: 'ri-line-chart-line' },\n    { id: 'clients' as MainTab, label: 'Clients', icon: 'ri-user-heart-line' },\n    { id: 'management' as MainTab, label: 'Management', icon: 'ri-team-line' },\n    { id: 'presence' as MainTab, label: 'Our Presence', icon: 'ri-map-2-line' },\n    { id: 'production' as MainTab, label: 'Production', icon: 'ri-factory-line' },\n    { id: 'quality' as MainTab, label: 'Quality', icon: 'ri-shield-check-line' },\n    { id: 'demo' as MainTab, label: 'Request Demo', icon: 'ri-calendar-check-line' },\n    { id: 'contact' as MainTab, label: 'Contact', icon: 'ri-mail-line' },\n    { id: 'contact-info' as MainTab, label: 'Contact Info', icon: 'ri-contacts-line' },\n    { id: 'global-settings' as MainTab, label: 'Global Settings', icon: 'ri-settings-3-line' },\n    { id: 'social-links' as MainTab, label: 'Social Links', icon: 'ri-share-line' },\n    { id: 'testimonials' as MainTab, label: 'Testimonials', icon: 'ri-chat-quote-line' },\n    { id: 'users' as MainTab, label: 'Users', icon: 'ri-user-settings-line' },\n    { id: 'smtp' as MainTab, label: 'SMTP', icon: 'ri-mail-settings-line' },\n    { id: 'logs' as MainTab, label: 'Activity Logs', icon: 'ri-file-list-3-line' },\n    { id: 'bin' as MainTab, label: 'Recycle Bin', icon: 'ri-delete-bin-line' },\n    { id: 'versions' as MainTab, label: 'Version History', icon: 'ri-history-line' }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-[#F5F7FA]\">\n      {/* Top Header */}\n      <div className=\"bg-white border-b border-[#E5E7EB] sticky top-0 z-50 shadow-sm\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo & Title */}\n            <div className=\"flex items-center space-x-4\">\n              <img \n                src={getDefaultImageUrl('2024/09/logo_adonis_4x-1.svg')} \n                alt=\"Adonis Medical\" \n                className=\"h-10\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-[#2563EB]\">Admin Dashboard</h1>\n                <p className=\"text-xs text-[#6B7280]\">Content Management System</p>\n              </div>\n            </div>\n\n            {/* User Info & Logout */}\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-[#1F2937]\">Welcome, <span className=\"text-[#2563EB]\">{user?.email || user?.fullName || 'Admin'}</span></p>\n              </div>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-[#EF4444] text-white rounded-lg hover:bg-[#DC2626] transition-all duration-300 whitespace-nowrap cursor-pointer\"\n              >\n                <i className=\"ri-logout-box-line\"></i>\n                <span className=\"text-sm font-medium\">Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Navigation Tabs */}\n        <div className=\"px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {mainTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveMainTab(tab.id)}\n                className={`flex items-center space-x-2 px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeMainTab === tab.id\n                    ? 'text-[#2563EB] border-[#2563EB] bg-gradient-to-b from-[#EFF6FF] to-transparent'\n                    : 'text-[#6B7280] border-transparent hover:text-[#2563EB] hover:bg-[#F9FAFB]'\n                }`}\n              >\n                <i className={`${tab.icon} text-lg`}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"p-6\">\n        {activeMainTab === 'home' && <HomePageManagement />}\n        {activeMainTab === 'header-footer' && <HeaderFooterManagement />}\n        {activeMainTab === 'about' && <AboutPageManagement />}\n        {activeMainTab === 'products' && <ProductsPageManagement />}\n        {activeMainTab === 'awards' && <AwardsPageManagement />}\n        {activeMainTab === 'careers' && <CareersPageManagement />}\n        {activeMainTab === 'specialties' && <SpecialtiesPageManagement />}\n        {activeMainTab === 'investors' && <InvestorRelationsPageManagement />}\n        {activeMainTab === 'clients' && <ClientsPageManagement />}\n        {activeMainTab === 'management' && <ManagementPageManagement />}\n        {activeMainTab === 'presence' && <OurPresencePageManagement />}\n        {activeMainTab === 'production' && <ProductionFacilityPageManagement />}\n        {activeMainTab === 'quality' && <QualityAssurancePageManagement />}\n        {activeMainTab === 'demo' && <RequestDemoPageManagement />}\n        {activeMainTab === 'contact' && <ContactPageManagement />}\n        {activeMainTab === 'contact-info' && <ContactInfoManagement />}\n        {activeMainTab === 'global-settings' && <GlobalSettingsManagement />}\n        {activeMainTab === 'social-links' && <SocialLinksManagement />}\n        {activeMainTab === 'testimonials' && <TestimonialsManagement />}\n        {activeMainTab === 'users' && <UserManagement />}\n        {activeMainTab === 'smtp' && <SMTPConfiguration />}\n        {activeMainTab === 'logs' && <ActivityLogsPage />}\n        {activeMainTab === 'bin' && <RecycleBinPage />}\n        {activeMainTab === 'versions' && <VersionHistoryPage />}\n      </div>\n    </div>\n  );\n}\n"],"names":["Modal","isOpen","onClose","title","children","size","showCloseButton","useEffect","sizeClasses","jsx","e","jsxs","FormField","label","required","error","hint","DragDropList","items","onReorder","renderItem","keyExtractor","emptyMessage","draggedIndex","setDraggedIndex","useState","dragOverIndex","setDragOverIndex","handleDragStart","index","handleDragOver","handleDrop","dropIndex","newItems","draggedItem","reorderedItems","item","handleDragEnd","ImageSelector","value","onChange","aspectRatio","currentImage","uploading","setUploading","preview","setPreview","inputMode","setInputMode","urlInput","setUrlInput","gallery","setGallery","loadingGallery","setLoadingGallery","galleryPage","setGalleryPage","selectedMedia","setSelectedMedia","isMediaId","isUrl","fetchGallery","baseUrl","fetchMediaPreview","getDefaultImageUrl","mediaId","response","api","handleFileUpload","file","formData","token","data","handleSelectFromGallery","media","handleUrlSubmit","handleRemove","getPreviewUrl","mediaUrl","HomePageManagement","activeSection","setActiveSection","loading","setLoading","saving","setSaving","heroData","setHeroData","aboutData","setAboutData","aboutParagraphs","setAboutParagraphs","showParagraphModal","setShowParagraphModal","editingParagraph","setEditingParagraph","stats","setStats","showStatModal","setShowStatModal","editingStat","setEditingStat","qualityData","setQualityData","productsData","setProductsData","specialtiesData","setSpecialtiesData","testimonialsData","setTestimonialsData","contactData","setContactData","sectionTabs","fetchSectionData","heroRes","aboutRes","statsRes","a","b","productsRes","qualityRes","specialtiesRes","testimonialsRes","contactRes","handleSaveHero","handleSaveAbout","handleSaveParagraph","paragraph","handleDeleteParagraph","id","p","handleReorderParagraphs","reorderedParagraphs","i","handleSaveStats","reorderedStats","handleSaveStat","stat","handleDeleteStat","s","handleSaveQuality","handleSaveProducts","handleSaveSpecialties","handleSaveTestimonials","handleSaveContact","getImageUrl","image","tab","Fragment","HeroSectionEditor","AboutSectionEditor","StatsSectionEditor","ProductsSectionEditor","QualitySectionEditor","SpecialtiesSectionEditor","TestimonialsSectionEditor","ContactSectionEditor","StatModal","ParagraphModal","onSave","paragraphs","onAddParagraph","onEditParagraph","onDeleteParagraph","onReorderParagraphs","safeData","safeParagraphs","setFormData","onEdit","onDelete","onAdd","isValid","HeaderFooterManagement","navItems","setNavItems","showNavModal","setShowNavModal","editingNavItem","setEditingNavItem","footerSections","setFooterSections","showSectionModal","setShowSectionModal","showLinkModal","setShowLinkModal","editingSection","setEditingSection","editingLink","setEditingLink","selectedSectionId","setSelectedSectionId","footerLogos","setFooterLogos","showLogoModal","setShowLogoModal","editingLogo","setEditingLogo","socialLinks","setSocialLinks","showSocialModal","setShowSocialModal","editingSocial","setEditingSocial","fetchNavItems","fetchFooterSections","fetchFooterLogos","fetchSocialLinks","allItems","itemsWithChildren","child","sections","handleSaveNavItem","handleDeleteNavItem","n","handleSaveFooterSection","section","handleDeleteFooterSection","handleSaveFooterLink","link","handleDeleteFooterLink","handleSaveLogo","logo","handleSaveSocial","social","existingRefex","l","existingAdonis","getLogoImageUrl","getLinkIconImageUrl","NavItemModal","SectionModal","LinkModal","LogoModal","SocialModal","isSubMenu","AboutPageManagement","content","setContent","fetchContent","handleSave","SectionEditor","val","fields","imageSelector","previewImage","field","defaultPermissions","pageLabels","UserManagement","view","setView","selectedUser","setSelectedUser","users","setUsers","customPermissions","setCustomPermissions","fetchUsers","mappedUsers","user","handleCreateUser","handleEditUser","fullUser","payload","handleCancel","handleRoleChange","role","getCurrentPermissions","handlePermissionChange","page","permission","current","updated","resetToRoleDefaults","handleDeleteUser","userId","getRoleBadgeColor","getStatusBadgeColor","status","permissions","perms","pageInfo","HfMobilePageManagement","activeTab","setActiveTab","pageContent","setPageContent","images","setImages","features","setFeatures","variants","setVariants","showImageModal","setShowImageModal","showFeatureModal","setShowFeatureModal","showVariantModal","setShowVariantModal","editingImage","setEditingImage","editingFeature","setEditingFeature","editingVariant","setEditingVariant","fetchPageContent","fetchImages","fetchFeatures","fetchVariants","handleSavePageContent","handleReorderImages","reordered","handleSaveImage","handleDeleteImage","handleReorderFeatures","handleSaveFeature","feature","handleDeleteFeature","f","handleReorderVariants","handleSaveVariant","variant","handleDeleteVariant","v","img","ImageModal","FeatureModal","VariantModal","HfFixedPageManagement","FpdCArmPageManagement","HfCArm1kPageManagement","LineFrequencyPageManagement","DigitalRadiographyPageManagement","DreamSeriesPageManagement","ProductsPageManagement","AwardsPageManagement","awards","setAwards","showAwardModal","setShowAwardModal","editingAward","setEditingAward","viewingAward","setViewingAward","fetchAwards","handleReorder","reorderedAwards","handleSaveAward","award","handleDeleteAward","PageContentEditor","AwardModal","AwardViewModal","CareersPageManagement","jobs","setJobs","showJobModal","setShowJobModal","editingJob","setEditingJob","viewingJob","setViewingJob","fetchJobs","handleSaveJob","job","handleDeleteJob","j","JobsListEditor","JobModal","JobViewModal","onView","ContactPageManagement","SMTPConfiguration","isEditing","setIsEditing","isTesting","setIsTesting","testResult","setTestResult","smtpConfig","setSmtpConfig","testEmail","setTestEmail","handleTestConnection","commonSMTPProviders","applyProvider","provider","SpecialtiesPageManagement","specialties","setSpecialties","showSpecialtyModal","setShowSpecialtyModal","editingSpecialty","setEditingSpecialty","viewingSpecialty","setViewingSpecialty","pageCards","setPageCards","showCardModal","setShowCardModal","editingCard","setEditingCard","fetchPageCards","fetchSpecialties","handleSaveCard","card","handleDeleteCard","c","handleReorderCards","reorderedCards","reorderedSpecialties","handleSaveSpecialty","specialty","handleDeleteSpecialty","CardsEditor","CardModal","SpecialtyModal","SpecialtyViewModal","cards","getCardImageUrl","name","InvestorRelationsPageManagement","documents","setDocuments","showDocumentModal","setShowDocumentModal","editingDocument","setEditingDocument","fetchDocuments","reorderedDocs","handleSaveDocument","doc","handleDeleteDocument","d","DocumentModal","document","formDataObj","ClientsPageManagement","clients","setClients","showClientModal","setShowClientModal","editingClient","setEditingClient","viewingClient","setViewingClient","fetchClients","getClientDisplayName","client","reorderedClients","handleSaveClient","errorMessage","handleDeleteClient","ClientModal","ClientViewModal","ManagementPageManagement","leaders","setLeaders","showLeaderModal","setShowLeaderModal","editingLeader","setEditingLeader","viewingLeader","setViewingLeader","fetchLeaders","reorderedLeaders","handleSaveLeader","leader","handleDeleteLeader","LeaderModal","LeaderViewModal","OurPresencePageManagement","locations","setLocations","showLocationModal","setShowLocationModal","editingLocation","setEditingLocation","fetchLocations","handleSaveLocation","loc","handleDeleteLocation","LocationModal","location","ProductionFacilityPageManagement","reorderedFeatures","QualityAssurancePageManagement","certifications","setCertifications","showCertModal","setShowCertModal","editingCert","setEditingCert","fetchCertifications","reorderedCerts","handleSaveCert","cert","handleDeleteCert","CertModal","RequestDemoPageManagement","setParagraphs","getFeatureIconUrl","ContactInfoManagement","contactInfo","setContactInfo","fetchContactInfo","GlobalSettingsManagement","settings","setSettings","showModal","setShowModal","editingSetting","setEditingSetting","fetchSettings","setting","handleDelete","SettingModal","SocialLinksManagement","links","setLinks","fetchLinks","reorderedLinks","TestimonialsManagement","testimonials","setTestimonials","editingTestimonial","setEditingTestimonial","viewingTestimonial","setViewingTestimonial","fetchTestimonials","testimonial","t","TestimonialModal","TestimonialViewModal","_","ActivityLogsPage","filterAction","setFilterAction","filterPage","setFilterPage","searchQuery","setSearchQuery","dateRange","setDateRange","logs","actionColors","actionIcons","filteredLogs","log","matchesAction","matchesPage","matchesSearch","exportLogs","csv","row","blob","url","RecycleBinPage","selectedItems","setSelectedItems","filterType","setFilterType","deletedItems","setDeletedItems","typeIcons","typeColors","filteredItems","handleSelectAll","handleSelectItem","prev","itemId","handleRestore","handleRestoreSelected","handlePermanentDelete","handleEmptyBin","getDaysAgo","date","days","VersionHistoryPage","selectedPage","setSelectedPage","selectedSection","setSelectedSection","compareMode","setCompareMode","compareVersions","setCompareVersions","versions","pages","filteredVersions","matchesSection","handleCompareToggle","versionId","version","handleCompare","change","idx","AdminDashboardPage","useNavigate","logout","useAuth","activeMainTab","setActiveMainTab","AOS","handleLogout","mainTabs"],"mappings":"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"}