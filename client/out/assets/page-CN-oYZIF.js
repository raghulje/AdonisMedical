import{r as o,j as e,a as x,u as Je,c as We,A as Ke}from"./index-BxtNdXkz.js";import{g as je,a as ye}from"./imageUrl-BzcOWJ-M.js";function Q({isOpen:r,onClose:d,title:n,children:i,size:t="lg",showCloseButton:a=!0}){if(o.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:c=>{c.target===c.currentTarget&&d()},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-black bg-opacity-50","aria-hidden":"true"}),e.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${s[t]}`,children:[e.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n}),a&&e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-500 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsx("div",{className:"bg-white px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:i})]})]})})}function m({label:r,required:d=!1,error:n,hint:i,children:t}){return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t,i&&e.jsx("p",{className:"text-xs text-gray-500",children:i}),n&&e.jsx("p",{className:"text-xs text-red-500",children:n})]})}function K({items:r,onReorder:d,renderItem:n,keyExtractor:i,emptyMessage:t="No items yet. Add your first item!"}){const[a,s]=o.useState(null),[c,g]=o.useState(null),f=b=>{s(b)},j=(b,I)=>{b.preventDefault(),!(a===null||a===I)&&g(I)},v=(b,I)=>{if(b.preventDefault(),a===null)return;const y=[...r],[P]=y.splice(a,1);y.splice(I,0,P);const p=y.map((T,A)=>({...T,orderIndex:A}));d(p),s(null),g(null)},C=()=>{s(null),g(null)};return r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-inbox-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:t})]}):e.jsx("div",{className:"space-y-3",children:r.map((b,I)=>e.jsx("div",{draggable:!0,onDragStart:()=>f(I),onDragOver:y=>j(y,I),onDrop:y=>v(y,I),onDragEnd:C,className:`
            transition-all duration-200 cursor-move
            ${a===I?"opacity-50":""}
            ${c===I?"transform translate-y-2 border-blue-400":""}
          `,children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-md",children:[e.jsx("div",{className:"text-gray-400 cursor-grab active:cursor-grabbing",children:e.jsx("i",{className:"ri-drag-move-2-line text-2xl"})}),e.jsx("div",{className:"flex-1",children:n(b,I)}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",I+1]})]})},i(b)))})}function B({value:r,onChange:d,label:n="Image",required:i=!1,aspectRatio:t="16/9",currentImage:a=null}){const[s,c]=o.useState(!1),[g,f]=o.useState(null),[j,v]=o.useState(null),[C,b]=o.useState(""),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(1),[k,w]=o.useState(null),$=o.useRef(null),E=typeof r=="number",V=typeof r=="string"&&(r.startsWith("http")||r.startsWith("/uploads"));o.useEffect(()=>{j==="gallery"&&F()},[j,T]),o.useEffect(()=>{if(a&&a.filePath&&E&&r){const J="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";f(`${J}${a.filePath}`),w({id:r,fileName:a.fileName||"",filePath:a.filePath})}else E&&r?O(r):V&&r?f(r.startsWith("http")?r:je(r.replace("/uploads/",""))):(f(null),w(null))},[r,a]);const O=async J=>{try{const M=await x.get(`/media/${J}`);if(M.success&&M.data){const q="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";f(`${q}${M.data.filePath}`),w(M.data)}}catch(M){console.error("Error fetching media:",M)}},F=async()=>{p(!0);try{const J=await x.get(`/media?fileType=image&page=${T}&limit=20`);J.success&&J.data&&y(J.data.media||[])}catch(J){console.error("Error fetching gallery:",J),alert("Failed to load gallery. Please try again.")}finally{p(!1)}},D=async J=>{const M=J.target.files?.[0];if(M){c(!0);try{const q=new FormData;q.append("image",M);const Z=localStorage.getItem("auth_token"),se=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/image`,{method:"POST",headers:{Authorization:`Bearer ${Z||""}`},body:q})).json();if(se.success&&se.mediaId){d(se.mediaId);const re="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";f(`${re}${se.imageUrl}`),v(null)}$.current&&($.current.value="")}catch(q){console.error("Upload error:",q),alert("Failed to upload image. Please try again."),$.current&&($.current.value="")}finally{c(!1)}}},_=J=>{d(J.id);const M="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";f(`${M}${J.filePath}`),w(J),v(null)},z=()=>{C.trim()&&(d(C.trim()),f(C.startsWith("http")?C:je(C.replace("/uploads/",""))),b(""),v(null))},te=()=>{d(null),f(null),w(null),v(null)},Y=()=>g||(E&&r?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}/placeholder`:null);return e.jsxs("div",{className:"space-y-3",children:[n&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[n,i&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Y()&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:Y()||"",alt:"Preview",className:`w-full rounded-lg object-cover ${t==="16/9"?"aspect-video":t==="1/1"?"aspect-square":""}`,style:{maxHeight:"300px"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[e.jsxs("button",{onClick:()=>$.current?.click(),className:"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change"]}),e.jsxs("button",{onClick:te,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 cursor-pointer",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Remove"]})]})})]}),k&&e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:k.fileName})]}),!Y()||j!==null?e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:j?j==="upload"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Upload New Image"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("button",{onClick:()=>$.current?.click(),className:"w-full px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-upload-2-line mr-2"}),"Choose File"]}),s&&e.jsxs("div",{className:"text-sm text-blue-600",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Uploading..."]})]}):j==="gallery"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose from Gallery"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),P?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading gallery..."})]}):I.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"No images in gallery"}):e.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto",children:I.map(J=>{const q=`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${J.filePath}`;return e.jsx("div",{onClick:()=>_(J),className:`relative aspect-square cursor-pointer rounded-lg overflow-hidden border-2 ${k?.id===J.id?"border-blue-500":"border-gray-200"} hover:border-blue-300`,children:e.jsx("img",{src:q,alt:J.fileName,className:"w-full h-full object-cover"})},J.id)})})]}):j==="url"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Enter Image URL"}),e.jsx("button",{onClick:()=>v(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:C,onChange:J=>b(J.target.value),placeholder:"https://example.com/image.jpg or /uploads/2025/05/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:J=>J.key==="Enter"&&z()}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:z,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer",children:"Use URL"}),C&&e.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg p-2",children:e.jsx("img",{src:C.startsWith("http")?C:je(C.replace("/uploads/","")),alt:"Preview",className:"w-full h-20 object-cover rounded",onError:J=>{J.target.style.display="none"}})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports local paths (/uploads/YYYY/MM/filename.jpg) or external URLs (https://...)"})]})]}):null:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select image source:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>$.current?.click(),className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-upload-2-line mr-2"}),"Upload"]}),e.jsxs("button",{onClick:()=>v("gallery"),className:"px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-image-line mr-2"}),"Gallery"]}),e.jsxs("button",{onClick:()=>v("url"),className:"px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-links-line mr-2"}),"URL"]})]}),e.jsx("button",{onClick:()=>v(null),className:"mt-4 text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:"Cancel"})]})}):e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>$.current?.click(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change Image"]})}),e.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:D,disabled:s,className:"hidden"})]})}function Ye(){const[r,d]=o.useState("hero"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:"",subtitle:"",backgroundImageId:null,titleColor:"#FFFFFF",subtitleColor:"#FFFFFF",overlayOpacity:40}),[g,f]=o.useState({title:null,subtitle:null,introText:null,backgroundImageId:null,mainImageId:null,ctaText:null,ctaUrl:null}),[j,v]=o.useState([]),[C,b]=o.useState(!1),[I,y]=o.useState(null),[P,p]=o.useState([]),[T,A]=o.useState(!1),[k,w]=o.useState(null),[$,E]=o.useState({title:"",content:"",imageId:null}),[V,O]=o.useState({heading:"",description:"",ctaText:"",ctaUrl:""}),[F,D]=o.useState([]),[_,z]=o.useState(!1),[te,Y]=o.useState(null),[J,M]=o.useState({heading:"",description:"",imageId:null,ctaText:"",ctaUrl:""}),[q,Z]=o.useState({subtitle:"",heading:""}),[oe,se]=o.useState({heading:"",companyName:"",address:"",phone:"",email:"",imageId:null}),re=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"about",label:"About Section",icon:"ri-information-line"},{id:"stats",label:"Statistics",icon:"ri-bar-chart-line"},{id:"products",label:"Products Section",icon:"ri-shopping-bag-line"},{id:"quality",label:"Quality Section",icon:"ri-shield-check-line"},{id:"specialties",label:"Specialties Section",icon:"ri-medicine-bottle-line"},{id:"testimonials",label:"Testimonials Section",icon:"ri-quote-text-line"},{id:"contact",label:"Contact Section",icon:"ri-phone-line"}];o.useEffect(()=>{N()},[r]);const N=async()=>{i(!0);try{switch(r){case"hero":const R=await x.get("/home-hero-section");R.success&&R.data&&c(R.data);break;case"about":const G=await x.get("/home-about-section");if(G.success&&G.data){const ne=G.data;f({id:ne.id,title:ne.title||null,subtitle:ne.subtitle||null,introText:ne.introText||null,backgroundImageId:ne.backgroundImageId||null,mainImageId:ne.mainImageId||null,ctaText:ne.ctaText||null,ctaUrl:ne.ctaUrl||null,backgroundImage:ne.backgroundImage,mainImage:ne.mainImage}),v(ne.paragraphs||[])}else f({title:null,subtitle:null,introText:null,backgroundImageId:null,mainImageId:null,ctaText:null,ctaUrl:null}),v([]);break;case"stats":const ae=await x.get("/home-stats");ae.success&&ae.data&&p(ae.data.sort((ne,Ce)=>ne.orderIndex-Ce.orderIndex));break;case"products":const me=await x.get("/home-products-section");me.success&&me.data?O(me.data):O({heading:"",description:"",ctaText:"",ctaUrl:""});const S=await x.get("/home-products-cards");S.success&&S.data?D(S.data.sort((ne,Ce)=>ne.orderIndex-Ce.orderIndex)):D([]);break;case"quality":const U=await x.get("/home-quality-section");if(U.success&&U.data){const ne=U.data;E({id:ne.id,title:ne.heading||ne.title||"",content:ne.description||ne.content||"",imageId:ne.backgroundImageId||ne.imageId||null,image:ne.backgroundImage||ne.image})}break;case"specialties":const he=await x.get("/home-specialties-section");he.success&&he.data&&M(he.data);break;case"testimonials":const Ne=await x.get("/home-testimonials-section");Ne.success&&Ne.data&&Z(Ne.data);break;case"contact":const we=await x.get("/home-contact-section");we.success&&we.data&&se(we.data);break}}catch(R){console.error("Error fetching data:",R),alert(R.message||"Failed to load data")}finally{i(!1)}},X=async()=>{a(!0);try{(await x.put("/home-hero-section",s)).success&&alert("Hero section saved successfully!")}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},le=async()=>{a(!0);try{if((await x.put("/home-about-section",{...g,paragraphs:j})).success){alert("About section saved successfully!");const G=await x.get("/home-about-section");if(G.success&&G.data){const ae=G.data;f({id:ae.id,title:ae.title||null,subtitle:ae.subtitle||null,introText:ae.introText||null,backgroundImageId:ae.backgroundImageId||null,mainImageId:ae.mainImageId||null,ctaText:ae.ctaText||null,ctaUrl:ae.ctaUrl||null,backgroundImage:ae.backgroundImage,mainImage:ae.mainImage}),v(ae.paragraphs||[])}}}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},ie=async R=>{a(!0);try{R.id?await x.put(`/home-about-paragraphs/${R.id}`,R):await x.post("/home-about-paragraphs",{...R,orderIndex:j.length}),b(!1),y(null),N(),alert("Paragraph saved successfully!")}catch(G){alert(G.message||"Failed to save")}finally{a(!1)}},ce=async R=>{if(confirm("Are you sure you want to delete this paragraph?")){a(!0);try{await x.delete(`/home-about-paragraphs/${R}`),v(j.filter(G=>G.id!==R)),alert("Paragraph deleted successfully!")}catch(G){alert(G.message||"Failed to delete")}finally{a(!1)}}},ue=async R=>{a(!0);try{for(let G=0;G<R.length;G++)await x.put(`/home-about-paragraphs/${R[G].id}`,{...R[G],orderIndex:G});v(R),alert("Paragraphs order updated successfully!")}catch(G){alert(G.message||"Failed to update order")}finally{a(!1)}},xe=async R=>{a(!0);try{for(let G=0;G<R.length;G++)await x.put(`/home-stats/${R[G].id}`,{...R[G],orderIndex:G});p(R),alert("Statistics order updated successfully!")}catch(G){alert(G.message||"Failed to update order")}finally{a(!1)}},de=async R=>{a(!0);try{R.id?await x.put(`/home-stats/${R.id}`,R):await x.post("/home-stats",{...R,orderIndex:P.length}),A(!1),w(null),N(),alert("Stat saved successfully!")}catch(G){alert(G.message||"Failed to save")}finally{a(!1)}},ge=async R=>{if(confirm("Are you sure you want to delete this statistic?")){a(!0);try{await x.delete(`/home-stats/${R}`),p(P.filter(G=>G.id!==R)),alert("Stat deleted successfully!")}catch(G){alert(G.message||"Failed to delete")}finally{a(!1)}}},h=async()=>{a(!0);try{const R={heading:$.title||null,description:$.content||null,backgroundImageId:$.imageId||null};if((await x.put("/home-quality-section",R)).success){alert("Quality section saved successfully!");const ae=await x.get("/home-quality-section");if(ae.success&&ae.data){const me=ae.data;E({id:me.id,title:me.heading||me.title||"",content:me.description||me.content||"",imageId:me.backgroundImageId||me.imageId||null,image:me.backgroundImage||me.image})}}}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},L=async()=>{a(!0);try{(await x.put("/home-products-section",V)).success&&alert("Products section saved successfully!")}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},ee=async R=>{a(!0);try{R.id&&R.id>0?await x.put(`/home-products-cards/${R.id}`,R):await x.post("/home-products-cards",{...R,orderIndex:F.length}),z(!1),Y(null);const G=await x.get("/home-products-cards");G.success&&G.data&&D(G.data.sort((ae,me)=>ae.orderIndex-me.orderIndex)),alert("Product card saved successfully!")}catch(G){alert(G.message||"Failed to save card")}finally{a(!1)}},l=async R=>{if(confirm("Are you sure you want to delete this product card?")){a(!0);try{await x.delete(`/home-products-cards/${R}`),D(F.filter(G=>G.id!==R)),alert("Product card deleted successfully!")}catch(G){alert(G.message||"Failed to delete")}finally{a(!1)}}},u=async R=>{a(!0);try{for(let G=0;G<R.length;G++)await x.put(`/home-products-cards/${R[G].id}`,{...R[G],orderIndex:G});D(R),alert("Product cards order updated successfully!")}catch(G){alert(G.message||"Failed to update order")}finally{a(!1)}},W=async()=>{a(!0);try{if((await x.put("/home-specialties-section",J)).success){alert("Specialties section saved successfully!");const G=await x.get("/home-specialties-section");if(G.success&&G.data){const ae=G.data;M({id:ae.id,heading:ae.heading||"",description:ae.description||"",imageId:ae.imageId||null,image:ae.image,ctaText:ae.ctaText||"",ctaUrl:ae.ctaUrl||""})}}}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},be=async()=>{a(!0);try{(await x.put("/home-testimonials-section",q)).success&&alert("Testimonials section saved successfully!")}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},ve=async()=>{a(!0);try{(await x.put("/home-contact-section",oe)).success&&alert("Contact section saved successfully!")}catch(R){alert(R.message||"Failed to save")}finally{a(!1)}},pe=R=>R?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${R.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Home Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of your home page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:re.map(R=>e.jsxs("button",{onClick:()=>d(R.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===R.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:R.icon}),e.jsx("span",{children:R.label})]},R.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[r==="hero"&&e.jsx(Xe,{data:s,onChange:c,onSave:X,saving:t,getImageUrl:pe}),r==="about"&&e.jsx(Ze,{data:g,onChange:f,onSave:le,saving:t,getImageUrl:pe,paragraphs:j,onAddParagraph:()=>{y({id:0,content:"",orderIndex:j.length}),b(!0)},onEditParagraph:R=>{y(R),b(!0)},onDeleteParagraph:ce,onReorderParagraphs:ue}),r==="stats"&&e.jsx(tt,{stats:P,onReorder:xe,onEdit:R=>{w(R),A(!0)},onDelete:ge,onAdd:()=>{w({id:0,iconClass:"",imageId:null,number:"",label:"",orderIndex:P.length}),A(!0)},getImageUrl:pe}),r==="products"&&e.jsx(at,{data:V,onChange:O,onSave:L,saving:t,cards:F,onAddCard:()=>{Y({id:0,name:"",backgroundImageId:null,cardImageId:null,internalLink:null,orderIndex:F.length,isActive:!0}),z(!0)},onEditCard:R=>{Y(R),z(!0)},onDeleteCard:l,onReorderCards:u,getImageUrl:pe}),r==="quality"&&e.jsx(st,{data:$,onChange:E,onSave:h,saving:t,getImageUrl:pe}),r==="specialties"&&e.jsx(rt,{data:J,onChange:M,onSave:W,saving:t,getImageUrl:pe}),r==="testimonials"&&e.jsx(lt,{data:q,onChange:Z,onSave:be,saving:t}),r==="contact"&&e.jsx(it,{data:oe,onChange:se,onSave:ve,saving:t,getImageUrl:pe})]})})]}),T&&k&&e.jsx(nt,{stat:k,onSave:de,onClose:()=>{A(!1),w(null)},saving:t,getImageUrl:pe}),C&&I&&e.jsx(et,{paragraph:I,onSave:ie,onClose:()=>{b(!1),y(null)},saving:t}),_&&te&&e.jsx(ot,{card:te,onSave:ee,onClose:()=>{z(!1),Y(null)},saving:t})]})}function Xe({data:r,onChange:d,onSave:n,saving:i,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hero Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Title",children:e.jsx("input",{type:"text",value:r.title??"",onChange:a=>d({...r,title:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title (optional)"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:r.subtitle??"",onChange:a=>d({...r,subtitle:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter subtitle"})}),e.jsx(B,{value:r.backgroundImageId,onChange:a=>d({...r,backgroundImageId:a}),label:"Background Image"}),e.jsx(m,{label:"Title Color",children:e.jsx("input",{type:"color",value:r.titleColor??"#FFFFFF",onChange:a=>d({...r,titleColor:a.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Subtitle Color",children:e.jsx("input",{type:"color",value:r.subtitleColor??"#FFFFFF",onChange:a=>d({...r,subtitleColor:a.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Overlay Opacity",hint:"0-100",children:e.jsx("input",{type:"number",min:"0",max:"100",value:r.overlayOpacity??40,onChange:a=>d({...r,overlayOpacity:parseInt(a.target.value)||40}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),r.backgroundImage&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview:"}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden",style:{height:"300px"},children:[e.jsx("img",{src:t(r.backgroundImage),alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center px-8",style:{backgroundColor:`rgba(0,0,0,${r.overlayOpacity/100})`},children:e.jsxs("div",{children:[e.jsx("h1",{style:{color:r.titleColor},className:"text-3xl font-medium mb-2",children:r.title}),e.jsx("p",{style:{color:r.subtitleColor},className:"text-lg",children:r.subtitle})]})})]})]})]})}function Ze({data:r,onChange:d,onSave:n,saving:i,getImageUrl:t,paragraphs:a=[],onAddParagraph:s,onEditParagraph:c,onDeleteParagraph:g,onReorderParagraphs:f}){const j=r||{},v=Array.isArray(a)?a:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Title",children:e.jsx("input",{type:"text",value:j.title||"",onChange:C=>d({...j,title:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Title (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:j.subtitle||"",onChange:C=>d({...j,subtitle:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Subtitle (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text (Fallback if no paragraphs)",children:e.jsx("textarea",{value:j.introText||"",onChange:C=>d({...j,introText:C.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter intro text (used if no paragraphs are added)"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:j.backgroundImageId||null,onChange:C=>d({...j,backgroundImageId:C}),label:"Section Background Image (PNG)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Background image for the section with rounded top corners. Recommended: PNG format."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:j.mainImageId||null,onChange:C=>d({...j,mainImageId:C}),label:"Section Image"})}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:j.ctaText||"",onChange:C=>d({...j,ctaText:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"More About Us"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:j.ctaUrl||"",onChange:C=>d({...j,ctaUrl:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about"})})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>s&&s(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder. If paragraphs are added, they will be displayed instead of the intro text."]}),e.jsx(K,{items:v,onReorder:f||(()=>{}),keyExtractor:C=>C.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:C=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:C.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>c&&c(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>g&&g(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}function et({paragraph:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r||{id:0,content:"",orderIndex:0});return o.useEffect(()=>{r&&a(r)},[r]),e.jsx(Q,{isOpen:!0,onClose:n,title:r?.id?"Edit Paragraph":"Add Paragraph",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t?.content||"",onChange:s=>a({...t,content:s.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t?.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function tt({stats:r,onReorder:d,onEdit:n,onDelete:i,onAdd:t,getImageUrl:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Statistics"}),e.jsxs("button",{onClick:t,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Statistic"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Drag and drop items to reorder them. Changes are saved automatically."]}),e.jsx(K,{items:r,onReorder:d,keyExtractor:s=>s.id,emptyMessage:"No statistics yet. Click 'Add Statistic' to get started!",renderItem:s=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[s.image&&s.image.filePath?e.jsx("img",{src:a(s.image),alt:s.image.altText||s.label,className:"h-10 w-10 object-contain"}):s.iconClass?e.jsx("i",{className:`${s.iconClass} text-2xl text-blue-600`}):e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx("i",{className:"ri-image-line text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.number}),e.jsx("p",{className:"text-sm text-gray-600",children:s.label})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>n(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>i(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})}function st({data:r,onChange:d,onSave:n,saving:i,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:r.title||"",onChange:a=>d({...r,title:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:r.content||"",onChange:a=>d({...r,content:a.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:r.imageId,onChange:a=>d({...r,imageId:a}),label:"Background Image"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Background image for the quality section."})]})]})]})}function at({data:r={},onChange:d,onSave:n,saving:i,cards:t=[],onAddCard:a,onEditCard:s,onDeleteCard:c,onReorderCards:g,getImageUrl:f}){const j=b=>!b||!b.cardImage?"":`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${b.cardImage.filePath}`,v=Array.isArray(t)?t:[],C=r||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:C.heading||"",onChange:b=>d&&d({...C,heading:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:C.description||"",onChange:b=>d&&d({...C,description:b.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter products section description"})})}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:C.ctaText||"",onChange:b=>d&&d({...C,ctaText:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"View All Products"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:C.ctaUrl||"",onChange:b=>d&&d({...C,ctaUrl:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products Cards"}),e.jsxs("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),v.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No cards yet. Add your first product card!"})]}):e.jsx(K,{items:v,onReorder:g||(()=>{}),onReorder:g,keyExtractor:b=>b.id,emptyMessage:"No cards yet. Click 'Add Card' to get started!",renderItem:b=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[b.cardImage&&e.jsx("img",{src:j(b),alt:b.name||"Card image",className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:b.name||"Unnamed Card"}),b.internalLink&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Link: ",b.internalLink]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>s&&s(b),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>c&&c(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})}function rt({data:r,onChange:d,onSave:n,saving:i,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Specialties Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:a=>d({...r,heading:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Specialties"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:r.description||"",onChange:a=>d({...r,description:a.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialties section description"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:r.imageId,onChange:a=>d({...r,imageId:a}),label:"Section Image (Left Side)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Large vertical image displayed on the left side of the specialties section."})]}),e.jsx(m,{label:"CTA Text",children:e.jsx("input",{type:"text",value:r.ctaText||"",onChange:a=>d({...r,ctaText:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explore Products"})}),e.jsx(m,{label:"CTA URL",children:e.jsx("input",{type:"text",value:r.ctaUrl||"",onChange:a=>d({...r,ctaUrl:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]})]})}function lt({data:r,onChange:d,onSave:n,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Testimonials Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Subtitle",children:e.jsx("input",{type:"text",value:r.subtitle||"",onChange:t=>d({...r,subtitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Testimonial"})}),e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:t=>d({...r,heading:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Client Stories & Experiences"})})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Note: Testimonials content is managed separately. This section only controls the header."]})})]})}function it({data:r,onChange:d,onSave:n,saving:i,getImageUrl:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:r.heading||"",onChange:a=>d({...r,heading:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Company Name",children:e.jsx("input",{type:"text",value:r.companyName||"",onChange:a=>d({...r,companyName:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ADONIS MEDICAL SYSTEMS PVT LTD"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:r.address||"",onChange:a=>d({...r,address:a.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071."})})}),e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:r.phone||"",onChange:a=>d({...r,phone:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9872003273"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:r.email||"",onChange:a=>d({...r,email:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"support@adonismedical.com"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:r.imageId,onChange:a=>d({...r,imageId:a}),label:"Section Image"})})]})]})}function nt({stat:r,onSave:d,onClose:n,saving:i,getImageUrl:t}){const[a,s]=o.useState(r),c=a.number&&a.label&&(a.iconClass||a.imageId);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id?"Edit Statistic":"Add Statistic",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{label:"Icon Class",hint:"Use RemixIcon class names (e.g., ri-user-line) or upload an image below",children:[e.jsx("input",{type:"text",value:a.iconClass||"",onChange:g=>s({...a,iconClass:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-number-1"}),a.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:a.iconClass})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"OR"}),e.jsx(B,{value:a.imageId||null,onChange:g=>s({...a,imageId:g}),label:"Upload Icon Image (JPG, PNG, SVG, etc.)"}),a.image&&a.image.filePath&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Image:"}),e.jsx("img",{src:t(a.image),alt:a.image.altText||"Stat icon",className:"h-12 w-12 object-contain border border-gray-200 rounded"})]})]}),e.jsx(m,{label:"Number/Value",required:!0,children:e.jsx("input",{type:"text",value:a.number||"",onChange:g=>s({...a,number:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"100+"})}),e.jsx(m,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:a.label||"",onChange:g=>s({...a,label:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Happy Clients"})}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"You can use either an icon class or upload an image. If both are provided, the image will take priority."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(a),disabled:i||!c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ot({card:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return o.useEffect(()=>{a(r)},[r]),e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Product Card":"Add New Product Card",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Card Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"HF Mobile"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(B,{value:t.backgroundImageId,onChange:s=>a({...t,backgroundImageId:s}),label:"Background Image"}),e.jsx(B,{value:t.cardImageId,onChange:s=>a({...t,cardImageId:s}),label:"Card Image"})]}),e.jsx(m,{label:"Internal Link",hint:"Page URL to redirect to (e.g., /products/hf-mobile)",children:e.jsx("input",{type:"text",value:t.internalLink||"",onChange:s=>a({...t,internalLink:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products/hf-mobile"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Card":"Create Card"})]})]})})}function dt(){const[r,d]=o.useState("header"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState([]),[g,f]=o.useState(!1),[j,v]=o.useState(null),[C,b]=o.useState([]),[I,y]=o.useState(!1),[P,p]=o.useState(!1),[T,A]=o.useState(null),[k,w]=o.useState(null),[$,E]=o.useState(null),[V,O]=o.useState([]),[F,D]=o.useState(!1),[_,z]=o.useState(null),[te,Y]=o.useState([]),[J,M]=o.useState(!1),[q,Z]=o.useState(null);o.useEffect(()=>{r==="header"?oe():(se(),re(),N())},[r]);const oe=async()=>{i(!0);try{const h=await x.get("/navigation");if(h.success&&h.data){const L=h.data,l=L.filter(u=>!u.parentId).sort((u,W)=>u.orderIndex-W.orderIndex).map(u=>{const W=L.filter(be=>be.parentId===u.id).sort((be,ve)=>be.orderIndex-ve.orderIndex);return{...u,children:W.length>0?W:void 0}});c(l)}}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},se=async()=>{i(!0);try{const h=await x.get("/footer/sections");if(h.success&&h.data){const L=h.data.sort((ee,l)=>ee.orderIndex-l.orderIndex);b(L)}}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},re=async()=>{try{const h=await x.get("/footer/logos");h.success&&h.data&&O(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){console.error("Error fetching footer logos:",h)}},N=async()=>{try{const h=await x.get("/social-links");h.success&&h.data&&Y(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){console.error("Error fetching social links:",h)}},X=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/navigation/${h.id}`,h):await x.post("/navigation",{...h,orderIndex:s.length}),f(!1),v(null),oe(),alert("Navigation item saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},le=async h=>{if(confirm("Delete this navigation item?")){a(!0);try{await x.delete(`/navigation/${h}`),c(s.filter(L=>L.id!==h)),alert("Navigation item deleted!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},ie=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/footer/sections/${h.id}`,h):await x.post("/footer/sections",{...h,orderIndex:C.length}),y(!1),A(null),se(),alert("Footer section saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},ce=async h=>{if(confirm("Are you sure you want to delete this footer section? This will also delete all links within this section.")){a(!0);try{await x.delete(`/footer/sections/${h}`),b(C.filter(L=>L.id!==h)),alert("Footer section deleted successfully!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},ue=async h=>{a(!0);try{if(h.id&&h.id>0)await x.put(`/footer/links/${h.id}`,h);else{const L=C.find(ee=>ee.id===$);await x.post("/footer/links",{...h,footerSectionId:$,iconSvg:h.iconSvg||null,iconImageId:h.iconImageId||null,orderIndex:L?.links?.length||0})}p(!1),w(null),se(),alert("Footer link saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},xe=async h=>{if(confirm("Are you sure you want to delete this link?")){a(!0);try{await x.delete(`/footer/links/${h}`),se(),alert("Footer link deleted successfully!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},de=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/footer/logos/${h.id}`,h):await x.post("/footer/logos",h),D(!1),z(null),re(),alert("Logo saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},ge=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/social-links/${h.id}`,h):await x.post("/social-links",h),M(!1),Z(null),N(),alert("Social link saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Header & Footer Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage navigation menu and footer content"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("header"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="header"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Navigation"}),e.jsx("button",{onClick:()=>d("footer"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="footer"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Footer"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="header"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Navigation Menu"}),e.jsxs("button",{onClick:()=>{v({id:0,label:"",url:null,parentId:null,orderIndex:s.length,isActive:!0,openInNewTab:!1}),f(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Item"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-menu-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No navigation items yet"})]}):e.jsx("div",{className:"space-y-3",children:s.map(h=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:h.label}),h.children&&h.children.length>0&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[h.children.length," sub-menu",h.children.length!==1?"s":""]})]}),h.url&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Inactive"}),e.jsxs("button",{onClick:()=>{v({id:0,label:"",url:null,parentId:h.id,orderIndex:h.children?.length||0,isActive:!0,openInNewTab:!1}),f(!0)},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",title:"Add Sub-menu",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Sub-menu"]}),e.jsx("button",{onClick:()=>{v(h),f(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>le(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),h.children&&h.children.length>0&&e.jsx("div",{className:"ml-4 mt-3 space-y-2 border-l-2 border-gray-300 pl-4",children:h.children.map(L=>e.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded p-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:L.label}),L.url&&e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:L.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${L.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{v(L),f(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>le(L.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},L.id))})]},h.id))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b pb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo and Social Media Icons"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Logos"}),e.jsxs("button",{onClick:()=>{const h=V.find(ee=>ee.name==="refex"),L=V.find(ee=>ee.name==="adonis");h?L||(z({id:0,name:"adonis",logoImageId:null,orderIndex:1,isActive:!0}),D(!0)):(z({id:0,name:"refex",logoImageId:null,orderIndex:0,isActive:!0}),D(!0))},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Logo"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:V.map(h=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium capitalize",children:[h.name," Logo"]}),e.jsx("button",{onClick:()=>{z(h),D(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]}),h.logoImage&&e.jsx("img",{src:ct(h),alt:`${h.name} logo`,className:"h-12 w-auto object-contain"})]},h.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Social Media Icons"}),e.jsxs("button",{onClick:()=>{Z({id:0,platform:"",url:null,iconClass:null,iconId:null,orderIndex:te.length,isActive:!0}),M(!0)},className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Social Link"]})]}),te.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No social links yet"}):e.jsx("div",{className:"space-y-2",children:te.map(h=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h.icon&&h.icon.filePath?e.jsx("img",{src:ye(h.icon),alt:h.platform||"Social",className:"w-6 h-6 object-contain"}):h.iconClass?e.jsx("i",{className:`${h.iconClass} text-xl text-[#FF6B35]`}):null,e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:h.platform}),h.url&&e.jsx("p",{className:"text-sm text-gray-600",children:h.url})]})]}),e.jsx("button",{onClick:()=>{Z(h),M(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]},h.id))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"}),' Create sections like "Quick Links", "Our Products", and "Contact Information". For Contact Information, upload icon images (JPG, PNG, SVG) for Phone, Email, and Location.']})})]})}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Footer Sections"}),e.jsxs("button",{onClick:()=>{A({id:0,title:"",orderIndex:C.length}),y(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Section"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-layout-bottom-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No footer sections yet"})]}):e.jsx("div",{className:"space-y-4",children:C.map(h=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:h.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{E(h.id),w({id:0,footerSectionId:h.id,label:"",url:"",iconImageId:null,orderIndex:h.links?.length||0}),p(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer text-sm",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Link"]}),e.jsx("button",{onClick:()=>{A(h),y(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit Section",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ce(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete Section",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),h.links&&h.links.length>0&&e.jsx("div",{className:"space-y-2",children:h.links.map(L=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[L.iconImage&&e.jsx("img",{src:ut(L),alt:L.label,className:"w-5 h-5 object-contain"}),!L.iconImage&&L.iconSvg&&e.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-[#FF6B35]",dangerouslySetInnerHTML:{__html:L.iconSvg}}),e.jsxs("span",{className:"text-sm text-gray-700",children:[L.label," - ",L.url]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>{w(L),p(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",title:"Edit Link",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>xe(L.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",title:"Delete Link",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},L.id))})]},h.id))})]})]})})]}),g&&j&&e.jsx(mt,{item:j,onSave:X,onClose:()=>{f(!1),v(null)},saving:t}),I&&T&&e.jsx(ht,{section:T,onSave:ie,onClose:()=>{y(!1),A(null)},saving:t}),P&&k&&e.jsx(pt,{link:k,onSave:ue,onClose:()=>{p(!1),w(null)},saving:t}),F&&_&&e.jsx(xt,{logo:_,onSave:de,onClose:()=>{D(!1),z(null)},saving:t}),J&&q&&e.jsx(gt,{social:q,onSave:ge,onClose:()=>{M(!1),Z(null)},saving:t})]})}function ct(r){return r.logoImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.logoImage.filePath}`:""}function ut(r){return r.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.iconImage.filePath}`:""}function xt({logo:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Logo":"Add Logo",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Logo Name",required:!0,children:e.jsxs("select",{value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:r.id>0,children:[e.jsx("option",{value:"refex",children:"Refex"}),e.jsx("option",{value:"adonis",children:"Adonis"})]})}),e.jsx(B,{value:t.logoImageId,onChange:s=>a({...t,logoImageId:s}),label:"Logo Image"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function gt({social:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:t.platform,onChange:s=>a({...t,platform:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook, Twitter, Instagram, LinkedIn"})}),e.jsx(m,{label:"URL",children:e.jsx("input",{type:"text",value:t.url||"",onChange:s=>a({...t,url:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsx(m,{label:"Icon (SVG Upload)",hint:"Upload SVG icon for this social link",children:e.jsx(B,{value:t.iconId||null,onChange:s=>a({...t,iconId:s||null}),label:""})}),e.jsx(m,{label:"Icon Class (Optional)",hint:"RemixIcon class as fallback",children:e.jsx("input",{type:"text",value:t.iconClass||"",onChange:s=>a({...t,iconClass:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-fill"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.platform,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function mt({item:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r),s=r.parentId!==null&&r.parentId!==void 0;return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?s?"Edit Sub-menu Item":"Edit Navigation Item":s?"Add Sub-menu Item":"Add Navigation Item",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"This will be added as a sub-menu item under its parent."]})}),e.jsx(m,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:t.label,onChange:c=>a({...t,label:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Home, About Us, Products"})}),e.jsxs(m,{label:"URL",children:[e.jsx("input",{type:"text",value:t.url||"",onChange:c=>a({...t,url:c.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about or /products (optional for parent with sub-menus)"}),!s&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Parent items can have both a URL and sub-menus. Leave empty if this is only a dropdown parent."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:c=>a({...t,isActive:c.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx(m,{label:"Open in New Tab",children:e.jsxs("select",{value:t.openInNewTab?"yes":"no",onChange:c=>a({...t,openInNewTab:c.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.label,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ht({section:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Footer Section":"Add Footer Section",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Section Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:s=>a({...t,title:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function pt({link:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState({...r,iconSvg:r.iconSvg||"",iconImageId:r.iconImageId||null}),s=c=>c?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${c.filePath}`:"";return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Footer Link":"Add Footer Link",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Link Label (Title)",required:!0,children:e.jsx("input",{type:"text",value:t.label,onChange:c=>a({...t,label:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Phone, Email, Location"})}),e.jsxs(m,{label:"Data (URL or Content)",required:!0,children:[e.jsx("input",{type:"text",value:t.url,onChange:c=>a({...t,url:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"tel:+1234567890, mailto:email@example.com, or /about"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"For Contact Info: Use tel: for phone, mailto: for email, or plain text for address"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Icon (Choose one method)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon Image Upload (JPG, PNG, SVG)"}),e.jsx(B,{value:t.iconImageId,onChange:c=>a({...t,iconImageId:c,iconSvg:null}),label:""}),t.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:s(t.iconImage),alt:"Icon preview",className:"w-8 h-8 object-contain"})})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"OR"}),e.jsxs(m,{label:"SVG Icon Code (Alternative)",children:[e.jsx("textarea",{value:t.iconSvg||"",onChange:c=>a({...t,iconSvg:c.target.value||null,iconImageId:null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'Paste SVG code here, e.g., <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M..."/></svg>'}),t.iconSvg&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview:"}),e.jsx("div",{className:"w-8 h-8 text-[#FF6B35]",dangerouslySetInnerHTML:{__html:t.iconSvg}})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.label||!t.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function bt(){const[r,d]=o.useState("hero"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,overviewHeading:null,overviewContent:null,overviewImageId:null,backgroundImageId:null,safetyHeading:null,safetyContent:null,safetyImageId:null,excellenceHeading:null,excellenceContent:null,excellenceImageId:null}),[g,f]=o.useState([]),[j,v]=o.useState(null),[C,b]=o.useState([]),[I,y]=o.useState(null),[P,p]=o.useState([]),[T,A]=o.useState(null),k=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"overview",label:"Company Overview",icon:"ri-file-text-line"},{id:"safety",label:"Safety & Innovation",icon:"ri-shield-check-line"},{id:"excellence",label:"Excellence",icon:"ri-award-line"},{id:"global-reach",label:"Global Reach and Vision",icon:"ri-global-line"}];o.useEffect(()=>{w(),$(),E(),M()},[]);const w=async()=>{i(!0);try{const N=await x.get("/about");N.success&&N.data&&(c(N.data),N.data.highlights&&f(N.data.highlights),N.data.overviewParagraphs&&b(N.data.overviewParagraphs),N.data.globalReachCards&&p(N.data.globalReachCards))}catch(N){console.error("Error fetching content:",N),alert(N.message||"Failed to load content")}finally{i(!1)}},$=async()=>{try{const N=await x.get("/about/highlights");N.success&&N.data&&f(N.data)}catch(N){console.error("Error fetching highlights:",N)}},E=async()=>{try{const N=await x.get("/about/overview-paragraphs");N.success&&N.data&&b(N.data)}catch(N){console.error("Error fetching overview paragraphs:",N)}},V=N=>{y({content:"",orderIndex:C.filter(X=>X.position===N).length,position:N})},O=async()=>{if(I){a(!0);try{I.id?(await x.put(`/about/overview-paragraphs/${I.id}`,I)).success&&(await E(),y(null),alert("Paragraph updated successfully!")):(await x.post("/about/overview-paragraphs",I)).success&&(await E(),y(null),alert("Paragraph created successfully!"))}catch(N){alert(N.message||"Failed to save paragraph")}finally{a(!1)}}},F=async N=>{if(confirm("Are you sure you want to delete this paragraph?")){a(!0);try{(await x.delete(`/about/overview-paragraphs/${N}`)).success&&(await E(),alert("Paragraph deleted successfully!"))}catch(X){alert(X.message||"Failed to delete paragraph")}finally{a(!1)}}},D=async(N,X)=>{a(!0);try{(await x.put("/about/overview-paragraphs/reorder",{paragraphs:N.map((ie,ce)=>({id:ie.id,orderIndex:ce}))})).success&&(b([...C.filter(ie=>ie.position!==X),...N]),alert("Paragraphs order updated successfully!"))}catch(le){alert(le.message||"Failed to update order")}finally{a(!1)}},_=async()=>{a(!0);try{(await x.put("/about",s)).success&&(alert("About page saved successfully!"),w())}catch(N){alert(N.message||"Failed to save")}finally{a(!1)}},z=()=>{v({text:"",iconClass:null,iconId:null,orderIndex:g.length})},te=async()=>{if(j){a(!0);try{j.id?(await x.put(`/about/highlights/${j.id}`,{...j,sectionName:"overview"})).success&&(await $(),v(null),alert("Highlight updated successfully!")):(await x.post("/about/highlights",{...j,sectionName:"overview"})).success&&(await $(),v(null),alert("Highlight created successfully!"))}catch(N){alert(N.message||"Failed to save highlight")}finally{a(!1)}}},Y=async N=>{if(confirm("Are you sure you want to delete this highlight?")){a(!0);try{(await x.delete(`/about/highlights/${N}`)).success&&(await $(),alert("Highlight deleted successfully!"))}catch(X){alert(X.message||"Failed to delete highlight")}finally{a(!1)}}},J=async N=>{a(!0);try{(await x.put("/about/highlights/reorder",{highlights:N.map((le,ie)=>({id:le.id,orderIndex:ie}))})).success&&(f(N),alert("Highlights order updated successfully!"))}catch(X){alert(X.message||"Failed to update order")}finally{a(!1)}},M=async()=>{try{const N=await x.get("/about/global-reach-cards");N.success&&N.data&&p(N.data)}catch(N){console.error("Error fetching global reach cards:",N)}},q=()=>{A({iconClass:null,iconId:null,content:"",orderIndex:P.length})},Z=async()=>{if(T){a(!0);try{T.id?(await x.put(`/about/global-reach-cards/${T.id}`,T)).success&&(A(null),await M(),await w(),alert("Card updated successfully!")):(await x.post("/about/global-reach-cards",T)).success&&(A(null),await M(),await w(),alert("Card created successfully!"))}catch(N){alert(N.message||"Failed to save card")}finally{a(!1)}}},oe=async N=>{if(confirm("Are you sure you want to delete this card?")){a(!0);try{(await x.delete(`/about/global-reach-cards/${N}`)).success&&(await M(),alert("Card deleted successfully!"))}catch(X){alert(X.message||"Failed to delete card")}finally{a(!1)}}},se=async N=>{a(!0);try{(await x.put("/about/global-reach-cards/reorder",{cards:N.map((le,ie)=>({id:le.id,orderIndex:ie}))})).success&&(p(N),alert("Cards order updated successfully!"))}catch(X){alert(X.message||"Failed to update order")}finally{a(!1)}},re=N=>N?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${N.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"About Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of the about page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:k.map(N=>e.jsxs("button",{onClick:()=>d(N.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===N.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:N.icon}),e.jsx("span",{children:N.label})]},N.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[r==="hero"&&e.jsx(Ie,{title:"Hero Section",fields:[{label:"Hero Title",value:s.heroTitle||"",onChange:N=>c({...s,heroTitle:N||null}),type:"text"},{label:"Hero Subtitle",value:s.heroSubtitle||"",onChange:N=>c({...s,heroSubtitle:N||null}),type:"textarea"}],imageSelector:e.jsx(B,{value:s.heroImageId,onChange:N=>c({...s,heroImageId:N}),label:"Hero Image"}),previewImage:s.heroImage?re(s.heroImage):null,onSave:_,saving:t}),r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Company Overview Section"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:s.overviewHeading||"",onChange:N=>c({...s,overviewHeading:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(m,{label:"Intro Content",children:[e.jsx("textarea",{value:s.overviewContent||"",onChange:N=>c({...s,overviewContent:N.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"First paragraph that appears before the image row"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This is the introductory paragraph displayed at the top of the section."})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(m,{label:"Image Overlay Text",children:[e.jsx("textarea",{value:s.overviewImageOverlayText||"",onChange:N=>c({...s,overviewImageOverlayText:N.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Text displayed on top of the left image"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This text will appear in a white box on top of the left image."})]})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:s.overviewImageId,onChange:N=>c({...s,overviewImageId:N}),label:"Overview Image (Left Side)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Image displayed on the left side of the first row."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:s.backgroundImageId,onChange:N=>c({...s,backgroundImageId:N}),label:"Section Background Image (PNG)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Optional background image for the entire section with rounded top corners."})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Paragraphs (Before Highlights)"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add paragraphs that appear before the bullet points in the right column"})]}),e.jsxs("button",{onClick:()=>V("before"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsx(K,{items:C.filter(N=>N.position==="before"||!N.position),onReorder:N=>D(N,"before"),keyExtractor:N=>N.id||`temp-${N.orderIndex}`,renderItem:N=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:N.content})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(N),className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),N.id&&e.jsx("button",{onClick:()=>F(N.id),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to create one."})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Bullet Points (Highlights)"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add, edit, and reorder bullet points displayed in the first row"})]}),e.jsxs("button",{onClick:z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Highlight"]})]}),e.jsx(K,{items:g,onReorder:J,keyExtractor:N=>N.id||`temp-${N.orderIndex}`,renderItem:(N,X)=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[N.icon?e.jsx("img",{src:re(N.icon),alt:N.icon.altText||N.text,className:"w-6 h-6 object-contain"}):N.iconClass?e.jsx("i",{className:`${N.iconClass} text-[#FF6B35] text-xl`}):e.jsx("i",{className:"ri-checkbox-circle-line text-[#FF6B35] text-xl"}),e.jsx("span",{className:"text-gray-900",children:N.text})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(N),className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),N.id&&e.jsx("button",{onClick:()=>Y(N.id),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),emptyMessage:"No highlights yet. Click 'Add Highlight' to create one."})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Paragraphs (After Highlights)"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add paragraphs that appear after the bullet points in the right column"})]}),e.jsxs("button",{onClick:()=>V("after"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsx(K,{items:C.filter(N=>N.position==="after"),onReorder:N=>D(N,"after"),keyExtractor:N=>N.id||`temp-${N.orderIndex}`,renderItem:N=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:N.content})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(N),className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),N.id&&e.jsx("button",{onClick:()=>F(N.id),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to create one."})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:j.id?"Edit Highlight":"Add Highlight"}),e.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Text",children:e.jsx("input",{type:"text",value:j.text,onChange:N=>v({...j,text:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Unmatched product reliability"})}),e.jsxs(m,{label:"Icon (SVG Image)",children:[e.jsx(B,{value:j.iconId,onChange:N=>v({...j,iconId:N||null}),label:"Upload SVG Icon"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an SVG icon that will appear next to this bullet point. If not provided, a default icon will be used."})]}),e.jsxs(m,{label:"Icon Class (Alternative)",children:[e.jsx("input",{type:"text",value:j.iconClass||"",onChange:N=>v({...j,iconClass:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., ri-checkbox-circle-line"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Alternatively, provide a RemixIcon class name (e.g., ri-checkbox-circle-line)"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{onClick:te,disabled:t||!j.text,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"}),e.jsx("button",{onClick:()=>v(null),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer",children:"Cancel"})]})]})]})})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:I.id?"Edit Paragraph":"Add Paragraph"}),e.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Content",children:e.jsx("textarea",{value:I.content,onChange:N=>y({...I,content:N.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsx(m,{label:"Position",children:e.jsxs("select",{value:I.position||"before",onChange:N=>y({...I,position:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"before",children:"Before Highlights"}),e.jsx("option",{value:"after",children:"After Highlights"})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{onClick:O,disabled:t||!I.content,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"}),e.jsx("button",{onClick:()=>y(null),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer",children:"Cancel"})]})]})]})})})]}),r==="safety"&&e.jsx(Ie,{title:"Safety & Innovation Section",fields:[{label:"Heading",value:s.safetyHeading||"",onChange:N=>c({...s,safetyHeading:N||null}),type:"text"},{label:"Content",value:s.safetyContent||"",onChange:N=>c({...s,safetyContent:N||null}),type:"textarea",rows:6}],imageSelector:e.jsx(B,{value:s.safetyImageId,onChange:N=>c({...s,safetyImageId:N}),label:"Safety Image"}),previewImage:s.safetyImage?re(s.safetyImage):null,onSave:_,saving:t}),r==="excellence"&&e.jsx(Ie,{title:"Excellence Section",fields:[{label:"Heading",value:s.excellenceHeading||"",onChange:N=>c({...s,excellenceHeading:N||null}),type:"text"},{label:"Content",value:s.excellenceContent||"",onChange:N=>c({...s,excellenceContent:N||null}),type:"textarea",rows:6}],imageSelector:e.jsx(B,{value:s.excellenceImageId,onChange:N=>c({...s,excellenceImageId:N}),label:"Excellence Image"}),previewImage:s.excellenceImage?re(s.excellenceImage):null,onSave:_,saving:t}),r==="global-reach"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Global Reach and Vision Section"}),e.jsx("button",{onClick:_,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save Changes"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:s.globalReachHeading||"",onChange:N=>c({...s,globalReachHeading:N.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Global Reach and Vision"})})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Cards"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add, edit, and reorder cards displayed in the Global Reach section"})]}),e.jsxs("button",{onClick:q,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),e.jsx(K,{items:P,onReorder:se,keyExtractor:N=>N.id||`temp-${N.orderIndex}`,renderItem:N=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white border-2 border-gray-200",children:N.icon?e.jsx("img",{src:re(N.icon),alt:N.icon.altText||N.content,className:"w-6 h-6 object-contain"}):N.iconClass?e.jsx("i",{className:`${N.iconClass} text-gray-700 text-lg`}):e.jsx("i",{className:"ri-global-line text-gray-700 text-lg"})}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:N.content})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>A(N),className:"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),N.id&&e.jsx("button",{onClick:()=>oe(N.id),className:"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),emptyMessage:"No cards yet. Click 'Add Card' to create one."})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:T.id?"Edit Card":"Add Card"}),e.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{label:"Icon (SVG Image)",children:[e.jsx(B,{value:T.iconId,onChange:N=>A({...T,iconId:N||null}),label:"Upload SVG Icon"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an SVG icon that will appear in the orange circle for this card. If not provided, a default icon will be used."})]}),e.jsx(m,{label:"Content",children:e.jsx("textarea",{value:T.content,onChange:N=>A({...T,content:N.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter card content"})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{onClick:Z,disabled:t||!T.content,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"}),e.jsx("button",{onClick:()=>A(null),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer",children:"Cancel"})]})]})]})})})]})]})})]})]})}function Ie({title:r,fields:d,imageSelector:n,previewImage:i,onSave:t,saving:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),e.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:a?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.map((s,c)=>e.jsx("div",{className:s.type==="textarea"?"md:col-span-2":"",children:e.jsx(m,{label:s.label,children:s.type==="textarea"?e.jsx("textarea",{value:s.value,onChange:g=>s.onChange(g.target.value),rows:s.rows||4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}):e.jsx("input",{type:s.type||"text",value:s.value,onChange:g=>s.onChange(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})},c)),e.jsx("div",{className:"md:col-span-2",children:n}),i&&e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Preview",children:e.jsx("img",{src:i,alt:"Preview",className:"w-full rounded-lg max-h-64 object-cover"})})})]})]})}const Se={super_admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!0},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!0},"global-settings":{view:!0,edit:!0,delete:!0},"social-links":{view:!0,edit:!0,delete:!0},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!0},smtp:{view:!0,edit:!0,delete:!0},logs:{view:!0,edit:!0,delete:!0},bin:{view:!0,edit:!0,delete:!0},versions:{view:!0,edit:!0,delete:!0}},admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!1},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!0,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!1},smtp:{view:!0,edit:!1,delete:!1},logs:{view:!0,edit:!1,delete:!1},bin:{view:!0,edit:!1,delete:!1},versions:{view:!0,edit:!1,delete:!1}},editor:{home:{view:!0,edit:!0,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!0,delete:!1},products:{view:!0,edit:!0,delete:!1},awards:{view:!0,edit:!0,delete:!1},careers:{view:!0,edit:!0,delete:!1},specialties:{view:!0,edit:!0,delete:!1},investors:{view:!0,edit:!0,delete:!1},clients:{view:!0,edit:!0,delete:!1},management:{view:!0,edit:!0,delete:!1},presence:{view:!0,edit:!0,delete:!1},production:{view:!0,edit:!0,delete:!1},quality:{view:!0,edit:!0,delete:!1},demo:{view:!0,edit:!0,delete:!1},contact:{view:!0,edit:!0,delete:!1},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}},viewer:{home:{view:!0,edit:!1,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!1,delete:!1},products:{view:!0,edit:!1,delete:!1},awards:{view:!0,edit:!1,delete:!1},careers:{view:!0,edit:!1,delete:!1},specialties:{view:!0,edit:!1,delete:!1},investors:{view:!0,edit:!1,delete:!1},clients:{view:!0,edit:!1,delete:!1},management:{view:!0,edit:!1,delete:!1},presence:{view:!0,edit:!1,delete:!1},production:{view:!0,edit:!1,delete:!1},quality:{view:!0,edit:!1,delete:!1},demo:{view:!0,edit:!1,delete:!1},contact:{view:!0,edit:!1,delete:!1},"contact-info":{view:!0,edit:!1,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!1,delete:!1},testimonials:{view:!0,edit:!1,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}}},ft={home:{label:"Home",icon:"ri-home-line"},"header-footer":{label:"Header & Footer",icon:"ri-layout-line"},about:{label:"About",icon:"ri-information-line"},products:{label:"Products",icon:"ri-product-hunt-line"},awards:{label:"Awards",icon:"ri-award-line"},careers:{label:"Careers",icon:"ri-briefcase-line"},specialties:{label:"Specialties",icon:"ri-stethoscope-line"},investors:{label:"Investors",icon:"ri-line-chart-line"},clients:{label:"Clients",icon:"ri-user-heart-line"},management:{label:"Management",icon:"ri-team-line"},presence:{label:"Our Presence",icon:"ri-map-2-line"},production:{label:"Production",icon:"ri-factory-line"},quality:{label:"Quality",icon:"ri-shield-check-line"},demo:{label:"Request Demo",icon:"ri-calendar-check-line"},contact:{label:"Contact",icon:"ri-mail-line"},"contact-info":{label:"Contact Info",icon:"ri-contacts-line"},"global-settings":{label:"Global Settings",icon:"ri-settings-3-line"},"social-links":{label:"Social Links",icon:"ri-share-line"},testimonials:{label:"Testimonials",icon:"ri-chat-quote-line"},users:{label:"Users",icon:"ri-user-settings-line"},smtp:{label:"SMTP",icon:"ri-mail-settings-line"},logs:{label:"Activity Logs",icon:"ri-file-list-3-line"},bin:{label:"Recycle Bin",icon:"ri-delete-bin-line"},versions:{label:"Version History",icon:"ri-history-line"}};function yt(){const[r,d]=o.useState("list"),[n,i]=o.useState(null),[t,a]=o.useState([]),[s,c]=o.useState(!1),[g,f]=o.useState(!1),[j,v]=o.useState({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),[C,b]=o.useState(null);o.useEffect(()=>{I()},[]);const I=async()=>{c(!0);try{const F=await x.get("/users");if(F.success&&F.data){const D=F.data.map(_=>({id:_.id,username:_.username,name:_.fullName||_.username,email:_.email,role:_.role,status:_.isActive?"active":"inactive",createdAt:new Date(_.createdAt).toLocaleDateString(),lastLogin:_.lastLoginAt?new Date(_.lastLoginAt).toLocaleString():"Never"}));a(D)}}catch(F){console.error("Error fetching users:",F),alert(F.message||"Failed to load users")}finally{c(!1)}},y=()=>{v({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),i(null),d("create")},P=async F=>{i(F),v({username:F.username,name:F.name,email:F.email,password:"",role:F.role,status:F.status});try{const D=await x.get(`/users/${F.id}`);if(D.success&&D.data){const _=D.data;_.permissions&&Object.keys(_.permissions).length>0?b(_.permissions):b(null)}}catch(D){console.error("Error fetching user details:",D),b(null)}d("edit")},p=async()=>{if(!j.email||!j.username){alert("Email and username are required");return}if(r==="create"&&!j.password){alert("Password is required when creating a new user");return}f(!0);try{const F={username:j.username,email:j.email,fullName:j.name,role:j.role,permissions:C||null};if(r==="create"){F.password=j.password;const D=await x.post("/users",F);if(D.success)alert("User created successfully!"),I(),d("list"),i(null),b(null);else throw new Error(D.message||"Failed to create user")}else{if(!n)return;F.isActive=j.status==="active",j.password&&(F.password=j.password);const D=await x.put(`/users/${n.id}`,F);if(D.success)alert("User updated successfully!"),I(),d("list"),i(null),b(null);else throw new Error(D.message||"Failed to update user")}}catch(F){console.error("Error saving user:",F),alert(F.message||"Failed to save user")}finally{f(!1)}},T=()=>{d("list"),i(null)},A=F=>{v({...j,role:F}),b(null)},k=()=>C||Se[j.role]||Se.editor,w=(F,D,_)=>{const z=k(),te={...z,[F]:{...z[F],[D]:_}};b(te)},$=()=>{b(null)},E=async F=>{if(window.confirm("Are you sure you want to delete this user?")){f(!0);try{const D=await x.delete(`/users/${F}`);if(D.success)alert("User deleted successfully!"),I();else throw new Error(D.message||"Failed to delete user")}catch(D){console.error("Error deleting user:",D),alert(D.message||"Failed to delete user")}finally{f(!1)}}},V=F=>{switch(F){case"super_admin":return"bg-[#7C3AED] text-white";case"admin":return"bg-[#2563EB] text-white";case"editor":return"bg-[#10B981] text-white";case"viewer":return"bg-[#6B7280] text-white";default:return"bg-[#6B7280] text-white"}},O=F=>F==="active"?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]";return s&&t.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]"})})}):e.jsxs("div",{children:[r==="list"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"User Management"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Manage admin users and their permissions"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-add-line"}),e.jsx("span",{children:"Add New User"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-[#E5E7EB]",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Last Login"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Actions"})]})}),e.jsxs("tbody",{children:[t.map(F=>{const D=Se[F.role];return Object.values(D).some(_=>_.view),Object.values(D).some(_=>_.edit),Object.values(D).some(_=>_.delete),e.jsxs("tr",{className:"border-b border-[#F3F4F6] hover:bg-[#F9FAFB] transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#1F2937]",children:F.name}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:F.email})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${V(F.role)}`,children:F.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O(F.status)}`,children:F.status.toUpperCase()})}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:F.createdAt}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:F.lastLogin}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>P(F),className:"p-2 text-[#2563EB] hover:bg-[#EFF6FF] rounded-lg transition-all duration-300 cursor-pointer",title:"Edit User",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>E(F.id),className:"p-2 text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg transition-all duration-300 cursor-pointer",title:"Delete User",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})})]},F.id)}),t.length===0&&!s&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-[#6B7280]",children:'No users found. Click "Add New User" to create one.'})})]})]})})]}),(r==="create"||r==="edit")&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:r==="create"?"Create New User":`Edit User: ${n?.name}`}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:T,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",disabled:g,children:"Cancel"}),e.jsx("button",{onClick:p,disabled:g,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Saving...":r==="create"?"Create User":"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username *"}),e.jsx("input",{type:"text",value:j.username,onChange:F=>v({...j,username:F.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:j.name,onChange:F=>v({...j,name:F.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:j.email,onChange:F=>v({...j,email:F.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"user@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:r==="create"?"Password *":"New Password (leave blank to keep current)"}),e.jsx("input",{type:"password",value:j.password,onChange:F=>v({...j,password:F.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter password",required:r==="create"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Role"}),e.jsxs("select",{value:j.role,onChange:F=>A(F.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"super_admin",children:"Super Admin - Full access to everything"}),e.jsx("option",{value:"admin",children:"Admin - Manage content and users"}),e.jsx("option",{value:"editor",children:"Editor - Edit content only"}),e.jsx("option",{value:"viewer",children:"Viewer - View only access"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Status"}),e.jsxs("select",{value:j.status,onChange:F=>v({...j,status:F.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2 flex-1",children:"Permissions"}),C&&e.jsxs("button",{onClick:$,className:"text-sm text-[#2563EB] hover:text-[#1D4ED8] cursor-pointer",title:"Reset to role defaults",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset to Defaults"]})]}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-4",children:C?"Custom permissions (overriding role defaults)":"Permissions are automatically set based on the selected role. You can customize them below:"}),e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:Object.entries(k()).map(([F,D])=>{const _=ft[F]||{label:F,icon:"ri-file-line"};return e.jsxs("div",{className:"bg-white rounded-lg border border-[#E5E7EB] p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"text-sm font-medium text-[#1F2937] flex items-center space-x-2",children:[e.jsx("i",{className:`${_.icon} text-[#6B7280]`}),e.jsx("span",{children:_.label})]})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.view,onChange:z=>w(F,"view",z.target.checked),className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${D.view?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["View ",D.view?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.edit,onChange:z=>w(F,"edit",z.target.checked),disabled:!D.view,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${D.edit?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Edit ",D.edit?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.delete,onChange:z=>w(F,"delete",z.target.checked),disabled:!D.edit,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${D.delete?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Delete ",D.delete?"":""]})]})]})]},F)})})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1E40AF] mb-1",children:"Permission Guidelines"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"View:"})," User can see the page/section content"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edit:"})," User can modify existing content (requires View)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Delete:"})," User can remove content (requires Edit)"]})]}),e.jsx("p",{className:"text-xs text-[#1E40AF] mt-2",children:"You can customize permissions by checking/unchecking the boxes above. Changes will override the role defaults."})]})]})})]})]})]})]})}function vt(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null,productGalleryTitle:null,ourProductsTitle:null,hospitalsServedTitle:null,enquireButtonText:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const h=await x.get("/products/hf-mobile");h.success&&h.data&&c(h.data)}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const h=await x.get("/products/hf-mobile/images");h.success&&h.data&&f(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const h=await x.get("/products/hf-mobile/features");h.success&&h.data&&v(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const h=await x.get("/products/hf-mobile/variants");h.success&&h.data&&b(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/hf-mobile",s),alert("Page content saved!")}catch(h){alert(h.message||"Failed to save")}finally{a(!1)}},se=async h=>{a(!0);try{for(let L=0;L<h.length;L++)await x.put(`/products/hf-mobile/images/${h[L].id}`,{...h[L],orderIndex:L});f(h),alert("Images order updated!")}catch(L){alert(L.message||"Failed to update")}finally{a(!1)}},re=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/products/hf-mobile/images/${h.id}`,h):await x.post("/products/hf-mobile/images",{...h,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},N=async h=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/hf-mobile/images/${h}`),f(g.filter(L=>L.id!==h)),alert("Image deleted!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},X=async h=>{a(!0);try{for(let L=0;L<h.length;L++)await x.put(`/products/hf-mobile/features/${h[L].id}`,{...h[L],orderIndex:L});v(h),alert("Features order updated!")}catch(L){alert(L.message||"Failed to update")}finally{a(!1)}},le=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/products/hf-mobile/features/${h.id}`,h):await x.post("/products/hf-mobile/features",{...h,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},ie=async h=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/hf-mobile/features/${h}`),v(j.filter(L=>L.id!==h)),alert("Feature deleted!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},ce=async h=>{a(!0);try{for(let L=0;L<h.length;L++)await x.put(`/products/hf-mobile/variants/${h[L].id}`,{...h[L],orderIndex:L});b(h),alert("Variants order updated!")}catch(L){alert(L.message||"Failed to update")}finally{a(!1)}},ue=async h=>{a(!0);try{h.id&&h.id>0?await x.put(`/products/hf-mobile/variants/${h.id}`,h):await x.post("/products/hf-mobile/variants",{...h,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(L){alert(L.message||"Failed to save")}finally{a(!1)}},xe=async h=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/hf-mobile/variants/${h}`),b(C.filter(L=>L.id!==h)),alert("Variant deleted!")}catch(L){alert(L.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const h=await x.get("/products/hf-mobile/hospitals");h.success&&h.data&&y(h.data.sort((L,ee)=>L.orderIndex-ee.orderIndex))}catch(h){alert(h.message||"Failed to load")}finally{i(!1)}},ge=h=>h?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${h.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"HF Mobile Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(h=>e.jsxs("button",{onClick:()=>d(h.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===h.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:h.icon}),e.jsx("span",{children:h.label})]},h.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:h=>c({...s,title:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:h=>c({...s,deploymentInfo:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:h=>c({...s,mainImageId:h}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:h=>c({...s,shortDescription:h.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:h=>c({...s,fullDescription:h.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:e.jsx("h4",{className:"text-md font-semibold mb-4",children:"Section Titles & Button Text"})}),e.jsx(m,{label:"Product Gallery Title",hint:"Title for the product gallery section",children:e.jsx("input",{type:"text",value:s.productGalleryTitle||"",onChange:h=>c({...s,productGalleryTitle:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Product Gallery"})}),e.jsx(m,{label:"Our Products Title",hint:"Title for the 'Our Products' section",children:e.jsx("input",{type:"text",value:s.ourProductsTitle||"",onChange:h=>c({...s,ourProductsTitle:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})}),e.jsx(m,{label:"Hospitals Served Title",hint:"Title for the hospitals served section",children:e.jsx("input",{type:"text",value:s.hospitalsServedTitle||"",onChange:h=>c({...s,hospitalsServedTitle:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Hospitals Served"})}),e.jsx(m,{label:"Enquire Button Text",hint:"Text for the enquiry button",children:e.jsx("input",{type:"text",value:s.enquireButtonText||"",onChange:h=>c({...s,enquireButtonText:h.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enquire Now"})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:h=>h.id,renderItem:h=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[h.image&&e.jsx("img",{src:ge(h.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:h.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(h),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:h=>h.id,renderItem:h=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:h.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(h),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:h=>h.id,renderItem:h=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:h.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(h),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx(jt,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(Nt,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(wt,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t})]})}function jt({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Nt({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function wt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ct(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const l=await x.get("/products/hf-fixed");l.success&&l.data&&c(l.data)}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const l=await x.get("/products/hf-fixed/images");l.success&&l.data&&f(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const l=await x.get("/products/hf-fixed/features");l.success&&l.data&&v(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const l=await x.get("/products/hf-fixed/variants");l.success&&l.data&&b(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/hf-fixed",s),alert("Page content saved!")}catch(l){alert(l.message||"Failed to save")}finally{a(!1)}},se=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-fixed/images/${l[u].id}`,{...l[u],orderIndex:u});f(l),alert("Images order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},re=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-fixed/images/${l.id}`,l):await x.post("/products/hf-fixed/images",{...l,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},N=async l=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/hf-fixed/images/${l}`),f(g.filter(u=>u.id!==l)),alert("Image deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},X=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-fixed/features/${l[u].id}`,{...l[u],orderIndex:u});v(l),alert("Features order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},le=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-fixed/features/${l.id}`,l):await x.post("/products/hf-fixed/features",{...l,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},ie=async l=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/hf-fixed/features/${l}`),v(j.filter(u=>u.id!==l)),alert("Feature deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ce=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-fixed/variants/${l[u].id}`,{...l[u],orderIndex:u});b(l),alert("Variants order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},ue=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-fixed/variants/${l.id}`,l):await x.post("/products/hf-fixed/variants",{...l,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},xe=async l=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/hf-fixed/variants/${l}`),b(C.filter(u=>u.id!==l)),alert("Variant deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const l=await x.get("/products/hf-fixed/hospitals");l.success&&l.data&&y(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},ge=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-fixed/hospitals/${l[u].id}`,{...l[u],orderIndex:u});y(l),alert("Hospitals order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},h=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-fixed/hospitals/${l.id}`,l):await x.post("/products/hf-fixed/hospitals",{...l,orderIndex:I.length}),E(!1),Y(null),de(),alert("Hospital saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},L=async l=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/hf-fixed/hospitals/${l}`),y(I.filter(u=>u.id!==l)),alert("Hospital deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ee=l=>l?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${l.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"HF Fixed Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===l.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:l.icon}),e.jsx("span",{children:l.label})]},l.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:l=>c({...s,title:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:l=>c({...s,deploymentInfo:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:l=>c({...s,mainImageId:l}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:l=>c({...s,shortDescription:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:l=>c({...s,fullDescription:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.image&&e.jsx("img",{src:ee(l.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:l.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(l),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:l.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(l),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:l.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(l),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{Y({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:I.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:I,onReorder:ge,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[l.city,l.city&&l.state?", ":"",l.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{Y(l),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>L(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx(It,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(St,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(kt,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t}),$&&te&&e.jsx(Ft,{hospital:te,onSave:h,onClose:()=>{E(!1),Y(null)},saving:t})]})}function It({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function St({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function kt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ft({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function At(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const l=await x.get("/products/fpd-c-arm");l.success&&l.data&&c(l.data)}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const l=await x.get("/products/fpd-c-arm/images");l.success&&l.data&&f(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const l=await x.get("/products/fpd-c-arm/features");l.success&&l.data&&v(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const l=await x.get("/products/fpd-c-arm/variants");l.success&&l.data&&b(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/fpd-c-arm",s),alert("Page content saved!")}catch(l){alert(l.message||"Failed to save")}finally{a(!1)}},se=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/fpd-c-arm/images/${l[u].id}`,{...l[u],orderIndex:u});f(l),alert("Images order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},re=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/fpd-c-arm/images/${l.id}`,l):await x.post("/products/fpd-c-arm/images",{...l,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},N=async l=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/fpd-c-arm/images/${l}`),f(g.filter(u=>u.id!==l)),alert("Image deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},X=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/fpd-c-arm/features/${l[u].id}`,{...l[u],orderIndex:u});v(l),alert("Features order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},le=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/fpd-c-arm/features/${l.id}`,l):await x.post("/products/fpd-c-arm/features",{...l,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},ie=async l=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/fpd-c-arm/features/${l}`),v(j.filter(u=>u.id!==l)),alert("Feature deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ce=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/fpd-c-arm/variants/${l[u].id}`,{...l[u],orderIndex:u});b(l),alert("Variants order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},ue=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/fpd-c-arm/variants/${l.id}`,l):await x.post("/products/fpd-c-arm/variants",{...l,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},xe=async l=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/fpd-c-arm/variants/${l}`),b(C.filter(u=>u.id!==l)),alert("Variant deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const l=await x.get("/products/fpd-c-arm/hospitals");l.success&&l.data&&y(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},ge=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/fpd-c-arm/hospitals/${l[u].id}`,{...l[u],orderIndex:u});y(l),alert("Hospitals order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},h=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/fpd-c-arm/hospitals/${l.id}`,l):await x.post("/products/fpd-c-arm/hospitals",{...l,orderIndex:I.length}),E(!1),Y(null),de(),alert("Hospital saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},L=async l=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/fpd-c-arm/hospitals/${l}`),y(I.filter(u=>u.id!==l)),alert("Hospital deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ee=l=>l?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${l.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"FPD C-Arm Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===l.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:l.icon}),e.jsx("span",{children:l.label})]},l.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:l=>c({...s,title:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:l=>c({...s,deploymentInfo:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:l=>c({...s,mainImageId:l}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:l=>c({...s,shortDescription:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:l=>c({...s,fullDescription:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.image&&e.jsx("img",{src:ee(l.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:l.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(l),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:l.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(l),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:l.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(l),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{Y({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:I.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:I,onReorder:ge,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[l.city,l.city&&l.state?", ":"",l.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{Y(l),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>L(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx(Pt,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(Et,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(Dt,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t}),$&&te&&e.jsx(Tt,{hospital:te,onSave:h,onClose:()=>{E(!1),Y(null)},saving:t})]})}function Pt({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Et({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Dt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Tt({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Mt(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const l=await x.get("/products/hf-c-arm-1k");l.success&&l.data&&c(l.data)}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const l=await x.get("/products/hf-c-arm-1k/images");l.success&&l.data&&f(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const l=await x.get("/products/hf-c-arm-1k/features");l.success&&l.data&&v(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const l=await x.get("/products/hf-c-arm-1k/variants");l.success&&l.data&&b(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/hf-c-arm-1k",s),alert("Page content saved!")}catch(l){alert(l.message||"Failed to save")}finally{a(!1)}},se=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-c-arm-1k/images/${l[u].id}`,{...l[u],orderIndex:u});f(l),alert("Images order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},re=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-c-arm-1k/images/${l.id}`,l):await x.post("/products/hf-c-arm-1k/images",{...l,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},N=async l=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/hf-c-arm-1k/images/${l}`),f(g.filter(u=>u.id!==l)),alert("Image deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},X=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-c-arm-1k/features/${l[u].id}`,{...l[u],orderIndex:u});v(l),alert("Features order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},le=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-c-arm-1k/features/${l.id}`,l):await x.post("/products/hf-c-arm-1k/features",{...l,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},ie=async l=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/hf-c-arm-1k/features/${l}`),v(j.filter(u=>u.id!==l)),alert("Feature deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ce=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-c-arm-1k/variants/${l[u].id}`,{...l[u],orderIndex:u});b(l),alert("Variants order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},ue=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-c-arm-1k/variants/${l.id}`,l):await x.post("/products/hf-c-arm-1k/variants",{...l,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},xe=async l=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/hf-c-arm-1k/variants/${l}`),b(C.filter(u=>u.id!==l)),alert("Variant deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const l=await x.get("/products/hf-c-arm-1k/hospitals");l.success&&l.data&&y(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},ge=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/hf-c-arm-1k/hospitals/${l[u].id}`,{...l[u],orderIndex:u});y(l),alert("Hospitals order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},h=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/hf-c-arm-1k/hospitals/${l.id}`,l):await x.post("/products/hf-c-arm-1k/hospitals",{...l,orderIndex:I.length}),E(!1),Y(null),de(),alert("Hospital saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},L=async l=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/hf-c-arm-1k/hospitals/${l}`),y(I.filter(u=>u.id!==l)),alert("Hospital deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ee=l=>l?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${l.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"1K*1K High End HF C-ARM Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===l.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:l.icon}),e.jsx("span",{children:l.label})]},l.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:l=>c({...s,title:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:l=>c({...s,deploymentInfo:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:l=>c({...s,mainImageId:l}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:l=>c({...s,shortDescription:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:l=>c({...s,fullDescription:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.image&&e.jsx("img",{src:ee(l.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:l.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(l),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:l.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(l),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:l.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(l),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{Y({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:I.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:I,onReorder:ge,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[l.city,l.city&&l.state?", ":"",l.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{Y(l),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>L(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx($t,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(Lt,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(Ht,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t}),$&&te&&e.jsx(Rt,{hospital:te,onSave:h,onClose:()=>{E(!1),Y(null)},saving:t})]})}function $t({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Lt({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ht({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Rt({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ut(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const l=await x.get("/products/line-frequency");l.success&&l.data&&c(l.data)}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const l=await x.get("/products/line-frequency/images");l.success&&l.data&&f(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const l=await x.get("/products/line-frequency/features");l.success&&l.data&&v(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const l=await x.get("/products/line-frequency/variants");l.success&&l.data&&b(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/line-frequency",s),alert("Page content saved!")}catch(l){alert(l.message||"Failed to save")}finally{a(!1)}},se=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/line-frequency/images/${l[u].id}`,{...l[u],orderIndex:u});f(l),alert("Images order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},re=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/line-frequency/images/${l.id}`,l):await x.post("/products/line-frequency/images",{...l,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},N=async l=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/line-frequency/images/${l}`),f(g.filter(u=>u.id!==l)),alert("Image deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},X=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/line-frequency/features/${l[u].id}`,{...l[u],orderIndex:u});v(l),alert("Features order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},le=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/line-frequency/features/${l.id}`,l):await x.post("/products/line-frequency/features",{...l,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},ie=async l=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/line-frequency/features/${l}`),v(j.filter(u=>u.id!==l)),alert("Feature deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ce=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/line-frequency/variants/${l[u].id}`,{...l[u],orderIndex:u});b(l),alert("Variants order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},ue=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/line-frequency/variants/${l.id}`,l):await x.post("/products/line-frequency/variants",{...l,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},xe=async l=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/line-frequency/variants/${l}`),b(C.filter(u=>u.id!==l)),alert("Variant deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const l=await x.get("/products/line-frequency/hospitals");l.success&&l.data&&y(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},ge=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/line-frequency/hospitals/${l[u].id}`,{...l[u],orderIndex:u});y(l),alert("Hospitals order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},h=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/line-frequency/hospitals/${l.id}`,l):await x.post("/products/line-frequency/hospitals",{...l,orderIndex:I.length}),E(!1),Y(null),de(),alert("Hospital saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},L=async l=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/line-frequency/hospitals/${l}`),y(I.filter(u=>u.id!==l)),alert("Hospital deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ee=l=>l?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${l.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Line Frequency Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===l.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:l.icon}),e.jsx("span",{children:l.label})]},l.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:l=>c({...s,title:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:l=>c({...s,deploymentInfo:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:l=>c({...s,mainImageId:l}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:l=>c({...s,shortDescription:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:l=>c({...s,fullDescription:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.image&&e.jsx("img",{src:ee(l.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:l.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(l),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:l.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(l),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:l.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(l),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{Y({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:I.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:I,onReorder:ge,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[l.city,l.city&&l.state?", ":"",l.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{Y(l),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>L(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx(Bt,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(Vt,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(qt,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t}),$&&te&&e.jsx(Ot,{hospital:te,onSave:h,onClose:()=>{E(!1),Y(null)},saving:t})]})}function Bt({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Vt({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function qt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ot({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function _t(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState([]),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(!1),[F,D]=o.useState(!1),[_,z]=o.useState(null),[te,Y]=o.useState(null),[J,M]=o.useState(null),[q,Z]=o.useState(null),[oe,se]=o.useState(null);o.useEffect(()=>{r==="content"?re():r==="images"?N():r==="features"?X():r==="variants"?le():r==="highlights"?ie():r==="hospitals"&&ce()},[r]);const re=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography");S.success&&S.data&&c(S.data)}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},N=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography/images");S.success&&S.data&&f(S.data.sort((U,he)=>U.orderIndex-he.orderIndex))}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},X=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography/features");S.success&&S.data&&v(S.data.sort((U,he)=>U.orderIndex-he.orderIndex))}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},le=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography/variants");S.success&&S.data&&b(S.data.sort((U,he)=>U.orderIndex-he.orderIndex))}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},ie=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography/highlights");S.success&&S.data&&y(S.data.sort((U,he)=>U.orderIndex-he.orderIndex))}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},ce=async()=>{i(!0);try{const S=await x.get("/products/digital-radiography/hospitals");S.success&&S.data&&p(S.data.sort((U,he)=>U.orderIndex-he.orderIndex))}catch(S){alert(S.message||"Failed to load")}finally{i(!1)}},ue=async()=>{a(!0);try{await x.put("/products/digital-radiography",s),alert("Page content saved!")}catch(S){alert(S.message||"Failed to save")}finally{a(!1)}},xe=async S=>{a(!0);try{for(let U=0;U<S.length;U++)await x.put(`/products/digital-radiography/images/${S[U].id}`,{...S[U],orderIndex:U});f(S),alert("Images order updated!")}catch(U){alert(U.message||"Failed to update")}finally{a(!1)}},de=async S=>{a(!0);try{S.id&&S.id>0?await x.put(`/products/digital-radiography/images/${S.id}`,S):await x.post("/products/digital-radiography/images",{...S,orderIndex:g.length}),A(!1),z(null),N(),alert("Image saved!")}catch(U){alert(U.message||"Failed to save")}finally{a(!1)}},ge=async S=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/digital-radiography/images/${S}`),f(g.filter(U=>U.id!==S)),alert("Image deleted!")}catch(U){alert(U.message||"Failed to delete")}finally{a(!1)}}},h=async S=>{a(!0);try{for(let U=0;U<S.length;U++)await x.put(`/products/digital-radiography/features/${S[U].id}`,{...S[U],orderIndex:U});v(S),alert("Features order updated!")}catch(U){alert(U.message||"Failed to update")}finally{a(!1)}},L=async S=>{a(!0);try{S.id&&S.id>0?await x.put(`/products/digital-radiography/features/${S.id}`,S):await x.post("/products/digital-radiography/features",{...S,orderIndex:j.length}),w(!1),Y(null),X(),alert("Feature saved!")}catch(U){alert(U.message||"Failed to save")}finally{a(!1)}},ee=async S=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/digital-radiography/features/${S}`),v(j.filter(U=>U.id!==S)),alert("Feature deleted!")}catch(U){alert(U.message||"Failed to delete")}finally{a(!1)}}},l=async S=>{a(!0);try{for(let U=0;U<S.length;U++)await x.put(`/products/digital-radiography/variants/${S[U].id}`,{...S[U],orderIndex:U});b(S),alert("Variants order updated!")}catch(U){alert(U.message||"Failed to update")}finally{a(!1)}},u=async S=>{a(!0);try{S.id&&S.id>0?await x.put(`/products/digital-radiography/variants/${S.id}`,S):await x.post("/products/digital-radiography/variants",{...S,orderIndex:C.length}),E(!1),M(null),le(),alert("Variant saved!")}catch(U){alert(U.message||"Failed to save")}finally{a(!1)}},W=async S=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/digital-radiography/variants/${S}`),b(C.filter(U=>U.id!==S)),alert("Variant deleted!")}catch(U){alert(U.message||"Failed to delete")}finally{a(!1)}}},be=async S=>{a(!0);try{for(let U=0;U<S.length;U++)await x.put(`/products/digital-radiography/highlights/${S[U].id}`,{...S[U],orderIndex:U});y(S),alert("Highlights order updated!")}catch(U){alert(U.message||"Failed to update")}finally{a(!1)}},ve=async S=>{a(!0);try{S.id&&S.id>0?await x.put(`/products/digital-radiography/highlights/${S.id}`,S):await x.post("/products/digital-radiography/highlights",{...S,orderIndex:I.length}),O(!1),Z(null),ie(),alert("Highlight saved!")}catch(U){alert(U.message||"Failed to save")}finally{a(!1)}},pe=async S=>{if(confirm("Delete this highlight?")){a(!0);try{await x.delete(`/products/digital-radiography/highlights/${S}`),y(I.filter(U=>U.id!==S)),alert("Highlight deleted!")}catch(U){alert(U.message||"Failed to delete")}finally{a(!1)}}},R=async S=>{a(!0);try{for(let U=0;U<S.length;U++)await x.put(`/products/digital-radiography/hospitals/${S[U].id}`,{...S[U],orderIndex:U});p(S),alert("Hospitals order updated!")}catch(U){alert(U.message||"Failed to update")}finally{a(!1)}},G=async S=>{a(!0);try{S.id&&S.id>0?await x.put(`/products/digital-radiography/hospitals/${S.id}`,S):await x.post("/products/digital-radiography/hospitals",{...S,orderIndex:P.length}),D(!1),se(null),ce(),alert("Hospital saved!")}catch(U){alert(U.message||"Failed to save")}finally{a(!1)}},ae=async S=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/digital-radiography/hospitals/${S}`),p(P.filter(U=>U.id!==S)),alert("Hospital deleted!")}catch(U){alert(U.message||"Failed to delete")}finally{a(!1)}}},me=S=>S?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${S.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Digital Radiography Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"highlights",label:"Highlights",icon:"ri-lightbulb-line"}].map(S=>e.jsxs("button",{onClick:()=>d(S.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===S.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:S.icon}),e.jsx("span",{children:S.label})]},S.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:ue,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:S=>c({...s,title:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:S=>c({...s,deploymentInfo:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:S=>c({...s,mainImageId:S}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:S=>c({...s,shortDescription:S.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:S=>c({...s,fullDescription:S.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{z({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:xe,keyExtractor:S=>S.id,renderItem:S=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[S.image&&e.jsx("img",{src:me(S.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:S.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{z(S),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ge(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{Y({id:0,featureText:"",orderIndex:j.length}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:h,keyExtractor:S=>S.id,renderItem:S=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:S.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{Y(S),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ee(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{M({id:0,variantName:"",orderIndex:C.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:l,keyExtractor:S=>S.id,renderItem:S=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:S.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{M(S),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>W(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="highlights"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Featured Highlights"}),e.jsxs("button",{onClick:()=>{Z({id:0,subtitle:"",description:"",orderIndex:I.length}),O(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Highlight"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-lightbulb-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No highlights yet"})]}):e.jsx(K,{items:I,onReorder:be,keyExtractor:S=>S.id,renderItem:S=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:S.subtitle}),e.jsx("p",{className:"text-gray-600 text-sm",children:S.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{Z(S),O(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>pe(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{se({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:P.length,isActive:!0}),D(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),P.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:P,onReorder:R,keyExtractor:S=>S.id,renderItem:S=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:S.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[S.city,S.city&&S.state?", ":"",S.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{se(S),D(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ae(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),T&&_&&e.jsx(zt,{image:_,onSave:de,onClose:()=>{A(!1),z(null)},saving:t}),k&&te&&e.jsx(Gt,{feature:te,onSave:L,onClose:()=>{w(!1),Y(null)},saving:t}),$&&J&&e.jsx(Qt,{variant:J,onSave:u,onClose:()=>{E(!1),M(null)},saving:t}),V&&q&&e.jsx(Jt,{highlight:q,onSave:ve,onClose:()=>{O(!1),Z(null)},saving:t}),F&&oe&&e.jsx(Wt,{hospital:oe,onSave:G,onClose:()=>{D(!1),se(null)},saving:t})]})}function zt({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Gt({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Subtitle (Optional - Bold text like 'Dual Battery:', 'ACCESS POINT MODE:')",children:e.jsx("input",{type:"text",value:t.subtitle||"",onChange:s=>a({...t,subtitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Dual Battery:"})}),e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Feature description (will appear on new line after subtitle)"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Qt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Jt({highlight:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Highlight":"Add Highlight",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Subtitle (Bold Title)",required:!0,children:e.jsx("input",{type:"text",value:t.subtitle,onChange:s=>a({...t,subtitle:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., TRANSFER IN A FLASH"})}),e.jsx(m,{label:"Description",required:!0,children:e.jsx("textarea",{value:t.description,onChange:s=>a({...t,description:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Description text..."})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.subtitle||!t.description,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Wt({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Kt(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[g,f]=o.useState([]),[j,v]=o.useState([]),[C,b]=o.useState([]),[I,y]=o.useState([]),[P,p]=o.useState(!1),[T,A]=o.useState(!1),[k,w]=o.useState(!1),[$,E]=o.useState(!1),[V,O]=o.useState(null),[F,D]=o.useState(null),[_,z]=o.useState(null),[te,Y]=o.useState(null);o.useEffect(()=>{r==="content"?J():r==="images"?M():r==="features"?q():r==="variants"?Z():r==="hospitals"&&de()},[r]);const J=async()=>{i(!0);try{const l=await x.get("/products/dream-series");l.success&&l.data&&c(l.data)}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},M=async()=>{i(!0);try{const l=await x.get("/products/dream-series/images");l.success&&l.data&&f(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},q=async()=>{i(!0);try{const l=await x.get("/products/dream-series/features");l.success&&l.data&&v(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},Z=async()=>{i(!0);try{const l=await x.get("/products/dream-series/variants");l.success&&l.data&&b(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},oe=async()=>{a(!0);try{await x.put("/products/dream-series",s),alert("Page content saved!")}catch(l){alert(l.message||"Failed to save")}finally{a(!1)}},se=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/dream-series/images/${l[u].id}`,{...l[u],orderIndex:u});f(l),alert("Images order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},re=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/dream-series/images/${l.id}`,l):await x.post("/products/dream-series/images",{...l,orderIndex:g.length}),p(!1),O(null),M(),alert("Image saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},N=async l=>{if(confirm("Delete this image?")){a(!0);try{await x.delete(`/products/dream-series/images/${l}`),f(g.filter(u=>u.id!==l)),alert("Image deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},X=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/dream-series/features/${l[u].id}`,{...l[u],orderIndex:u});v(l),alert("Features order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},le=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/dream-series/features/${l.id}`,l):await x.post("/products/dream-series/features",{...l,orderIndex:j.length}),A(!1),D(null),q(),alert("Feature saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},ie=async l=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/products/dream-series/features/${l}`),v(j.filter(u=>u.id!==l)),alert("Feature deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ce=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/dream-series/variants/${l[u].id}`,{...l[u],orderIndex:u});b(l),alert("Variants order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},ue=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/dream-series/variants/${l.id}`,l):await x.post("/products/dream-series/variants",{...l,orderIndex:C.length}),w(!1),z(null),Z(),alert("Variant saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},xe=async l=>{if(confirm("Delete this variant?")){a(!0);try{await x.delete(`/products/dream-series/variants/${l}`),b(C.filter(u=>u.id!==l)),alert("Variant deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},de=async()=>{i(!0);try{const l=await x.get("/products/dream-series/hospitals");l.success&&l.data&&y(l.data.sort((u,W)=>u.orderIndex-W.orderIndex))}catch(l){alert(l.message||"Failed to load")}finally{i(!1)}},ge=async l=>{a(!0);try{for(let u=0;u<l.length;u++)await x.put(`/products/dream-series/hospitals/${l[u].id}`,{...l[u],orderIndex:u});y(l),alert("Hospitals order updated!")}catch(u){alert(u.message||"Failed to update")}finally{a(!1)}},h=async l=>{a(!0);try{l.id&&l.id>0?await x.put(`/products/dream-series/hospitals/${l.id}`,l):await x.post("/products/dream-series/hospitals",{...l,orderIndex:I.length}),E(!1),Y(null),de(),alert("Hospital saved!")}catch(u){alert(u.message||"Failed to save")}finally{a(!1)}},L=async l=>{if(confirm("Delete this hospital?")){a(!0);try{await x.delete(`/products/dream-series/hospitals/${l}`),y(I.filter(u=>u.id!==l)),alert("Hospital deleted!")}catch(u){alert(u.message||"Failed to delete")}finally{a(!1)}}},ee=l=>l?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${l.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Dream Series Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"},{id:"hospitals",label:"Hospitals",icon:"ri-hospital-line"}].map(l=>e.jsxs("button",{onClick:()=>d(l.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${r===l.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:l.icon}),e.jsx("span",{children:l.label})]},l.id))})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:oe,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Product Title",children:e.jsx("input",{type:"text",value:s.title||"",onChange:l=>c({...s,title:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:s.deploymentInfo||"",onChange:l=>c({...s,deploymentInfo:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:l=>c({...s,mainImageId:l}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Short Description",children:e.jsx("textarea",{value:s.shortDescription||"",onChange:l=>c({...s,shortDescription:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Full Description",children:e.jsx("textarea",{value:s.fullDescription||"",onChange:l=>c({...s,fullDescription:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):r==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{O({id:0,imageId:0,orderIndex:g.length,isPrimary:!1}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(K,{items:g,onReorder:se,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.image&&e.jsx("img",{src:ee(l.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:l.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{O(l),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>N(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{D({id:0,featureText:"",orderIndex:j.length}),A(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:j,onReorder:X,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:l.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{D(l),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>ie(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):r==="variants"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{z({id:0,variantName:"",orderIndex:C.length,isActive:!0}),w(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(K,{items:C,onReorder:ce,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:l.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{z(l),w(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>xe(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Served"}),e.jsxs("button",{onClick:()=>{Y({id:0,hospitalName:"",city:null,state:null,hospitalLogoId:null,orderIndex:I.length,isActive:!0}),E(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Hospital"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-hospital-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No hospitals yet"})]}):e.jsx(K,{items:I,onReorder:ge,keyExtractor:l=>l.id,renderItem:l=>e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.hospitalName}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[l.city,l.city&&l.state?", ":"",l.state]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{Y(l),E(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>L(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),P&&V&&e.jsx(Yt,{image:V,onSave:re,onClose:()=>{p(!1),O(null)},saving:t}),T&&F&&e.jsx(Xt,{feature:F,onSave:le,onClose:()=>{A(!1),D(null)},saving:t}),k&&_&&e.jsx(Zt,{variant:_,onSave:ue,onClose:()=>{w(!1),z(null)},saving:t}),$&&te&&e.jsx(es,{hospital:te,onSave:h,onClose:()=>{E(!1),Y(null)},saving:t})]})}function Yt({image:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Product Image",required:!0}),e.jsx(m,{label:"Set as Primary Image",children:e.jsxs("select",{value:t.isPrimary?"yes":"no",onChange:s=>a({...t,isPrimary:s.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Xt({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:t.featureText,onChange:s=>a({...t,featureText:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Zt({variant:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:t.variantName,onChange:s=>a({...t,variantName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function es({hospital:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Hospital":"Add Hospital",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hospital Name",required:!0,children:e.jsx("input",{type:"text",value:t.hospitalName||"",onChange:s=>a({...t,hospitalName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(B,{value:t.hospitalLogoId,onChange:s=>a({...t,hospitalLogoId:Number(s)||null}),label:"Hospital Logo (Optional)"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.hospitalName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ts(){const[r,d]=o.useState("hf-mobile"),n=[{id:"hf-mobile",label:"HF Mobile",icon:"ri-truck-line"},{id:"hf-fixed",label:"HF Fixed",icon:"ri-hospital-line"},{id:"fpd-c-arm",label:"FPD C-Arm",icon:"ri-scan-line"},{id:"hf-c-arm-1k",label:"1K*1K High End HF C-ARM",icon:"ri-vip-crown-line"},{id:"line-frequency",label:"Line Frequency",icon:"ri-pulse-line"},{id:"digital-radiography",label:"Digital Radiography",icon:"ri-image-line"},{id:"dream-series",label:"Dream Series",icon:"ri-star-line"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:n.map(i=>e.jsxs("button",{onClick:()=>d(i.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${r===i.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:i.icon}),e.jsx("span",{children:i.label})]},i.id))})})}),e.jsxs("div",{children:[r==="hf-mobile"&&e.jsx(vt,{}),r==="hf-fixed"&&e.jsx(Ct,{}),r==="fpd-c-arm"&&e.jsx(At,{}),r==="hf-c-arm-1k"&&e.jsx(Mt,{}),r==="line-frequency"&&e.jsx(Ut,{}),r==="digital-radiography"&&e.jsx(_t,{}),r==="dream-series"&&e.jsx(Kt,{})]})]})}function ss(){const[r,d]=o.useState("content"),[n,i]=o.useState([]),[t,a]=o.useState(null),[s,c]=o.useState(!1),[g,f]=o.useState(!1),[j,v]=o.useState(!1),[C,b]=o.useState(null),[I,y]=o.useState(null);o.useEffect(()=>{r==="content"?P():p()},[r]);const P=async()=>{c(!0);try{const $=await x.get("/awards/page-content");$.success&&$.data?a($.data):a({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null})}catch($){$.message&&$.message.includes("not found")?a({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}):(console.error("Error fetching page content:",$),alert($.message||"Failed to load page content"))}finally{c(!1)}},p=async()=>{c(!0);try{const $=await x.get("/awards");$.success&&$.data&&i($.data.sort((E,V)=>E.orderIndex-V.orderIndex))}catch($){console.error("Error fetching awards:",$),alert($.message||"Failed to load awards")}finally{c(!1)}},T=async()=>{if(t){f(!0);try{const $={heroTitle:t.heroTitle||null,heroSubtitle:t.heroSubtitle||null,heroImageId:t.heroImageId||null,introText:t.introText||null};(await x.put("/awards/page-content",$)).success&&(alert("Page content saved successfully!"),P())}catch($){alert($.message||"Failed to save page content")}finally{f(!1)}}},A=async $=>{f(!0);try{for(let E=0;E<$.length;E++)await x.put(`/awards/${$[E].id}`,{...$[E],orderIndex:E});i($),alert("Awards order updated successfully!")}catch(E){alert(E.message||"Failed to update order")}finally{f(!1)}},k=async $=>{f(!0);try{$.id&&$.id>0?await x.put(`/awards/${$.id}`,$):await x.post("/awards",{...$,orderIndex:n.length}),v(!1),b(null),p(),alert("Award saved successfully!")}catch(E){alert(E.message||"Failed to save award")}finally{f(!1)}},w=async $=>{if(confirm("Are you sure you want to delete this award?")){f(!0);try{await x.delete(`/awards/${$}`),i(n.filter(E=>E.id!==$)),alert("Award deleted successfully!")}catch(E){alert(E.message||"Failed to delete award")}finally{f(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Awards Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage awards page content and awards list"})]})}),e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>d("content"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>d("awards"),className:`py-2 px-1 border-b-2 font-medium text-sm ${r==="awards"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-award-line mr-2"}),"Awards List"]})]})})]}),r==="content"&&e.jsx(as,{content:t,setContent:a,onSave:T,saving:g,loading:s}),r==="awards"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Awards List"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage individual awards and certifications"})]}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:n.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop awards to reorder them. The order shown here will appear on the website. Only award images are shown on the frontend (no titles)."]})})]})}),s?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading awards..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-award-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No awards yet. Add your first award!"}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:0,isActive:!0}),v(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(K,{items:n,onReorder:A,keyExtractor:$=>$.id,emptyMessage:"No awards yet. Click 'Add Award' to get started!",renderItem:$=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[$.image&&e.jsx("img",{src:ye($.image),alt:$.title,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:$.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:$.description}),$.awardDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),new Date($.awardDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${$.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>y($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{b($),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>w($.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),j&&C&&e.jsx(rs,{award:C,onSave:k,onClose:()=>{v(!1),b(null)},saving:g}),I&&e.jsx(ls,{award:I,onClose:()=>y(null),onEdit:()=>{b(I),y(null),v(!0)},getImageUrl:ye})]})}function as({content:r,setContent:d,onSave:n,saving:i,loading:t}){return t?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading page content..."})]}):r?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:a=>d({...r,heroTitle:a.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title (e.g., Awards & Recognition)"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:r.heroSubtitle||"",onChange:a=>d({...r,heroSubtitle:a.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero subtitle (optional)"})}),e.jsx(B,{value:r.heroImageId,onChange:a=>d({...r,heroImageId:a||null}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:r.heroImage}),e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:a=>d({...r,introText:a.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text (optional)"})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:n,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Page Content"})})]})]}):e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("p",{className:"text-gray-600",children:"No page content found."})})}function rs({award:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Award":"Add New Award",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Award Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:s=>a({...t,title:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award title"})}),e.jsx(m,{label:"Description",required:!0,children:e.jsx("textarea",{value:t.description,onChange:s=>a({...t,description:s.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award description"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Award Date",children:e.jsx("input",{type:"date",value:t.awardDate?new Date(t.awardDate).toISOString().split("T")[0]:"",onChange:s=>a({...t,awardDate:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Award Image",aspectRatio:"1/1"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.title||!t.description,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Award":"Create Award"})]})]})})}function ls({award:r,onClose:d,onEdit:n,getImageUrl:i}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Award Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.image&&e.jsx("div",{className:"rounded-lg overflow-hidden",children:e.jsx("img",{src:i(r.image),alt:r.title,className:"w-full h-64 object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),r.awardDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"Awarded on: ",new Date(r.awardDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Award"]})]})]})})}function is(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,introImageId:null,lifeAtAdonisTitle:null,lifeAtAdonisBackgroundImageId:null,lifeAtAdonisImageId:null}),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(null),[I,y]=o.useState(null);o.useEffect(()=>{r==="content"?P():p()},[r]);const P=async()=>{i(!0);try{const w=await x.get("/careers");w.success&&w.data&&c(w.data)}catch(w){alert(w.message||"Failed to load content")}finally{i(!1)}},p=async()=>{i(!0);try{const w=await x.get("/careers/jobs");w.success&&w.data&&f(w.data)}catch(w){alert(w.message||"Failed to load jobs")}finally{i(!1)}},T=async()=>{a(!0);try{(await x.put("/careers",s)).success&&alert("Page content saved successfully!")}catch(w){alert(w.message||"Failed to save")}finally{a(!1)}},A=async w=>{a(!0);try{w.id&&w.id>0?await x.put(`/careers/jobs/${w.id}`,w):await x.post("/careers/jobs",{...w,postedDate:new Date().toISOString()}),v(!1),b(null),p(),alert("Job saved successfully!")}catch($){alert($.message||"Failed to save job")}finally{a(!1)}},k=async w=>{if(confirm("Are you sure you want to delete this job?")){a(!0);try{await x.delete(`/careers/jobs/${w}`),f(g.filter($=>$.id!==w)),alert("Job deleted successfully!")}catch($){alert($.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Careers Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage careers page content and job listings"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>d("jobs"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="jobs"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Job Listings"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):r==="content"?e.jsx(ns,{content:s,onChange:c,onSave:T,saving:t}):e.jsx(os,{jobs:g,onAdd:()=>{b({id:0,title:"",department:null,location:null,employmentType:null,description:null,requirements:null,responsibilities:null,salaryRange:null,isActive:!0,postedDate:null}),v(!0)},onEdit:w=>{b(w),v(!0)},onView:y,onDelete:k})})]}),j&&C&&e.jsx(ds,{job:C,onSave:A,onClose:()=>{v(!1),b(null)},saving:t}),I&&e.jsx(cs,{job:I,onClose:()=>y(null),onEdit:()=>{b(I),y(null),v(!0)}})]})}function ns({content:r,onChange:d,onSave:n,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>d({...r,heroTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:r.heroSubtitle||"",onChange:t=>d({...r,heroSubtitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:r.heroImageId,onChange:t=>d({...r,heroImageId:t}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>d({...r,introText:t.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(B,{value:r.introImageId,onChange:t=>d({...r,introImageId:t}),label:"Intro Image"})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Life at Adonis Medical Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Title",children:e.jsx("input",{type:"text",value:r.lifeAtAdonisTitle||"",onChange:t=>d({...r,lifeAtAdonisTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Life at Adonis Medical"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:r.lifeAtAdonisBackgroundImageId,onChange:t=>d({...r,lifeAtAdonisBackgroundImageId:t}),label:"Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:r.lifeAtAdonisImageId,onChange:t=>d({...r,lifeAtAdonisImageId:t}),label:"Section Image"})})]})]})]})}function os({jobs:r,onAdd:d,onEdit:n,onView:i,onDelete:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Job Listings"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Job"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-briefcase-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No jobs yet. Add your first job!"})]}):e.jsx("div",{className:"space-y-3",children:r.map(a=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[a.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),a.department]}),a.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),a.location]}),a.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),a.employmentType]})]}),a.postedDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Posted: ",new Date(a.postedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>i(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>n(a),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>t(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},a.id))})]})}function ds({job:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Job":"Add New Job",size:"xl",children:e.jsxs("div",{className:"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Job Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:s=>a({...t,title:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Department",children:e.jsx("input",{type:"text",value:t.department||"",onChange:s=>a({...t,department:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Location",children:e.jsx("input",{type:"text",value:t.location||"",onChange:s=>a({...t,location:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Employment Type",children:e.jsxs("select",{value:t.employmentType||"",onChange:s=>a({...t,employmentType:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Internship",children:"Internship"})]})}),e.jsx(m,{label:"Salary Range",children:e.jsx("input",{type:"text",value:t.salaryRange||"",onChange:s=>a({...t,salaryRange:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., $50,000 - $70,000"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(m,{label:"Job Description",children:e.jsx("textarea",{value:t.description||"",onChange:s=>a({...t,description:s.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Requirements",children:e.jsx("textarea",{value:t.requirements||"",onChange:s=>a({...t,requirements:s.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Responsibilities",children:e.jsx("textarea",{value:t.responsibilities||"",onChange:s=>a({...t,responsibilities:s.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Job":"Create Job"})]})]})})}function cs({job:r,onClose:d,onEdit:n}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Job Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-4",children:r.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[r.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),r.department]}),r.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),r.location]}),r.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),r.employmentType]}),r.salaryRange&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-money-dollar-circle-line mr-1"}),r.salaryRange]})]}),r.postedDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Posted: ",new Date(r.postedDate).toLocaleDateString()]})]}),r.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.description})]}),r.requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Requirements"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.requirements})]}),r.responsibilities&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsibilities"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:r.responsibilities})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Job"]})]})]})})}function us(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({heroTitle:null,heroSubtitle:null,introText:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const g=await x.get("/contact-us");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{d(!1)}},c=async()=>{i(!0);try{(await x.put("/contact-us",t)).success&&(alert("Contact page saved successfully!"),s())}catch(g){alert(g.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Contact Us Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage contact page content"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:g=>a({...t,heroTitle:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:t.heroSubtitle||"",onChange:g=>a({...t,heroSubtitle:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Get in touch with us"})})]})})]})}function xs(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState(null),[s,c]=o.useState({host:"smtp.gmail.com",port:"587",username:"your-email@gmail.com",password:"",fromEmail:"noreply@adonismedical.com",fromName:"Adonis Medical",encryption:"tls",enabled:!0}),[g,f]=o.useState(""),j=()=>{console.log("Saving SMTP configuration:",s),d(!1),a({success:!0,message:"SMTP configuration saved successfully!"}),setTimeout(()=>a(null),5e3)},v=()=>{d(!1)},C=async()=>{if(!g){a({success:!1,message:"Please enter a test email address"});return}i(!0),a(null),setTimeout(()=>{i(!1),a({success:!0,message:`Test email sent successfully to ${g}! Please check your inbox.`})},2e3)},b=[{name:"Gmail",host:"smtp.gmail.com",port:"587",encryption:"tls",note:"Use App Password for Gmail accounts with 2FA enabled"},{name:"Outlook/Office 365",host:"smtp.office365.com",port:"587",encryption:"tls",note:"Use your Microsoft account credentials"},{name:"Yahoo Mail",host:"smtp.mail.yahoo.com",port:"587",encryption:"tls",note:"Generate an app password in Yahoo account settings"},{name:"SendGrid",host:"smtp.sendgrid.net",port:"587",encryption:"tls",note:'Use "apikey" as username and your API key as password'},{name:"Mailgun",host:"smtp.mailgun.org",port:"587",encryption:"tls",note:"Use your Mailgun SMTP credentials"}],I=y=>{c({...s,host:y.host,port:y.port,encryption:y.encryption}),d(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"SMTP Configuration"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Configure email server settings for sending emails"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:v,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:j,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Save Configuration"})]}):e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Configuration"]})})]}),t&&e.jsx("div",{className:`mb-6 p-4 rounded-lg border ${t.success?"bg-[#D1FAE5] border-[#6EE7B7] text-[#065F46]":"bg-[#FEE2E2] border-[#FCA5A5] text-[#991B1B]"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:`${t.success?"ri-checkbox-circle-line":"ri-error-warning-line"} text-xl`}),e.jsx("p",{className:"text-sm font-medium",children:t.message})]})}),r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Enable SMTP"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Turn on/off email sending functionality"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:y=>c({...s,enabled:y.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-[#D1D5DB] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#BFDBFE] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#D1D5DB] after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#2563EB]"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Server Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Host"}),e.jsx("input",{type:"text",value:s.host,onChange:y=>c({...s,host:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"smtp.example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Port"}),e.jsx("input",{type:"text",value:s.port,onChange:y=>c({...s,port:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Encryption"}),e.jsxs("select",{value:s.encryption,onChange:y=>c({...s,encryption:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"ssl",children:"SSL"}),e.jsx("option",{value:"tls",children:"TLS (Recommended)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username"}),e.jsx("input",{type:"text",value:s.username,onChange:y=>c({...s,username:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"your-email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Password"}),e.jsx("input",{type:"password",value:s.password,onChange:y=>c({...s,password:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Sender Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Email"}),e.jsx("input",{type:"email",value:s.fromEmail,onChange:y=>c({...s,fromEmail:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"noreply@example.com"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Email address that will appear as sender"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Name"}),e.jsx("input",{type:"text",value:s.fromName,onChange:y=>c({...s,fromName:y.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Your Company Name"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Name that will appear as sender"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Test Email Connection"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"email",value:g,onChange:y=>f(y.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"test@example.com"}),e.jsx("button",{onClick:C,disabled:n,className:"w-full px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending Test Email..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-mail-send-line mr-2"}),"Send Test Email"]})})]})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.enabled?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:s.enabled?"Enabled":"Disabled"})]})}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Server Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Host:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:s.host})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Port:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:s.port})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Encryption:"}),e.jsx("span",{className:"text-[#1F2937] font-medium uppercase",children:s.encryption})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Username:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:s.username})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Sender Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Email:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:s.fromEmail})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Name:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:s.fromName})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937] mb-4",children:"Common SMTP Providers"}),e.jsx("p",{className:"text-sm text-[#6B7280] mb-6",children:"Quick setup with popular email service providers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(y=>e.jsxs("div",{className:"border border-[#E5E7EB] rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:y.name}),e.jsx("button",{onClick:()=>I(y),className:"px-3 py-1 bg-[#2563EB] text-white text-xs rounded-lg hover:bg-[#1D4ED8] transition-all cursor-pointer whitespace-nowrap",children:"Use This"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-[#6B7280] mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Host:"})," ",y.host]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Port:"})," ",y.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Encryption:"})," ",y.encryption.toUpperCase()]})]}),e.jsxs("p",{className:"text-xs text-[#6B7280] bg-[#F9FAFB] p-2 rounded",children:[e.jsx("i",{className:"ri-information-line mr-1"}),y.note]})]},y.name))})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-2xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1E40AF] mb-2",children:"SMTP Configuration Help"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Port 587 (TLS):"})," Recommended for most providers, uses STARTTLS encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 465 (SSL):"})," Uses SSL encryption, supported by some providers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 25:"})," Standard SMTP port, often blocked by ISPs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gmail Users:"}),' Enable "Less secure app access" or use App Passwords with 2FA']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Testing:"})," Always send a test email after configuration to verify settings"]})]})]})]})})]})}function gs(){const[r,d]=o.useState("page"),[n,i]=o.useState([]),[t,a]=o.useState(!1),[s,c]=o.useState(!1),[g,f]=o.useState(!1),[j,v]=o.useState(null),[C,b]=o.useState(null),[I,y]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[P,p]=o.useState([]),[T,A]=o.useState(!1),[k,w]=o.useState(null);o.useEffect(()=>{r==="page"?($(),E()):V()},[r]);const $=async()=>{a(!0);try{const M=await x.get("/specialties/page/content");M.success&&M.data&&y(M.data)}catch(M){console.error("Error fetching page content:",M)}finally{a(!1)}},E=async()=>{a(!0);try{const M=await x.get("/specialties/page/cards");M.success&&M.data&&p(M.data.sort((q,Z)=>q.orderIndex-Z.orderIndex))}catch(M){console.error("Error fetching page cards:",M)}finally{a(!1)}},V=async()=>{a(!0);try{const M=await x.get("/specialties");M.success&&M.data&&i(M.data.sort((q,Z)=>q.orderIndex-Z.orderIndex))}catch(M){console.error("Error fetching specialties:",M),alert(M.message||"Failed to load specialties")}finally{a(!1)}},O=async()=>{c(!0);try{(await x.put("/specialties/page/content",I)).success&&alert("Page content saved successfully!")}catch(M){alert(M.message||"Failed to save")}finally{c(!1)}},F=async M=>{c(!0);try{M.id&&M.id>0?await x.put(`/specialties/page/cards/${M.id}`,M):await x.post("/specialties/page/cards",{...M,orderIndex:P.length}),A(!1),w(null),E(),alert("Card saved successfully!")}catch(q){alert(q.message||"Failed to save card")}finally{c(!1)}},D=async M=>{if(confirm("Are you sure you want to delete this card?")){c(!0);try{await x.delete(`/specialties/page/cards/${M}`),p(P.filter(q=>q.id!==M)),alert("Card deleted successfully!")}catch(q){alert(q.message||"Failed to delete")}finally{c(!1)}}},_=async M=>{c(!0);try{for(let q=0;q<M.length;q++)await x.put(`/specialties/page/cards/${M[q].id}`,{...M[q],orderIndex:q});p(M),alert("Cards order updated successfully!")}catch(q){alert(q.message||"Failed to update order")}finally{c(!1)}},z=async M=>{c(!0);try{for(let q=0;q<M.length;q++)await x.put(`/specialties/${M[q].id}`,{...M[q],orderIndex:q});i(M),alert("Specialties order updated successfully!")}catch(q){alert(q.message||"Failed to update order")}finally{c(!1)}},te=async M=>{c(!0);try{!M.slug&&M.name&&(M.slug=M.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")),M.id&&M.id>0?await x.put(`/specialties/${M.id}`,M):await x.post("/specialties",{...M,orderIndex:n.length}),f(!1),v(null),V(),alert("Specialty saved successfully!")}catch(q){alert(q.message||"Failed to save specialty")}finally{c(!1)}},Y=async M=>{if(confirm("Are you sure you want to delete this specialty?")){c(!0);try{await x.delete(`/specialties/${M}`),i(n.filter(q=>q.id!==M)),alert("Specialty deleted successfully!")}catch(q){alert(q.message||"Failed to delete specialty")}finally{c(!1)}}},J=M=>M.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${M.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Specialties Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specialties page content and cards"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("page"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="page"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content & Cards"}),e.jsx("button",{onClick:()=>d("specialties"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="specialties"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"General Specialties"})]})}),e.jsx("div",{className:"p-6",children:t?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):r==="page"?e.jsxs(e.Fragment,{children:[e.jsx(ms,{content:I,onChange:y,onSave:O,saving:s}),e.jsx("div",{className:"border-t mt-8 pt-8",children:e.jsx(hs,{cards:P,onAdd:()=>{w({id:0,name:"",backgroundImageId:null,cardImageId:null,internalLink:null,orderIndex:P.length,isActive:!0}),A(!0)},onEdit:M=>{w(M),A(!0)},onDelete:D,onReorder:_,saving:s})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"General Specialties"}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",slug:"",description:null,imageId:null,iconClass:null,orderIndex:n.length,isActive:!0}),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Specialty"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop specialties to reorder them."]})})]})}),n.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-stethoscope-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No specialties yet. Add your first specialty!"})]}):e.jsx(K,{items:n,onReorder:z,keyExtractor:M=>M.id,emptyMessage:"No specialties yet. Click 'Add Specialty' to get started!",renderItem:M=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[M.iconClass&&e.jsx("i",{className:`${M.iconClass} text-3xl text-blue-600`}),M.image&&!M.iconClass&&e.jsx("img",{src:J(M),alt:M.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:M.name}),M.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:M.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:M.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>b(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{v(M),f(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>Y(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),T&&k&&e.jsx(bs,{card:k,onSave:F,onClose:()=>{A(!1),w(null)},saving:s}),g&&j&&e.jsx(fs,{specialty:j,onSave:te,onClose:()=>{f(!1),v(null)},saving:s}),C&&e.jsx(ys,{specialty:C,onClose:()=>b(null),onEdit:()=>{v(C),b(null),f(!0)},getImageUrl:J})]})}function ms({content:r,onChange:d,onSave:n,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hero Section"}),e.jsx("button",{onClick:n,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>d({...r,heroTitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:r.heroSubtitle||"",onChange:t=>d({...r,heroSubtitle:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:r.heroImageId,onChange:t=>d({...r,heroImageId:t}),label:"Hero Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>d({...r,introText:t.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]})}function hs({cards:r,onAdd:d,onEdit:n,onDelete:i,onReorder:t,saving:a}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Specialties Cards"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No cards yet. Add your first card!"})]}):e.jsx(K,{items:r,onReorder:t,keyExtractor:s=>s.id,emptyMessage:"No cards yet. Click 'Add Card' to get started!",renderItem:s=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[s.cardImage&&e.jsx("img",{src:ps(s),alt:s.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),s.internalLink&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Link: ",s.internalLink]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>n(s),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>i(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})}function ps(r){return r.cardImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.cardImage.filePath}`:""}function bs({card:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return o.useEffect(()=>{a(r)},[r]),e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Card":"Add New Card",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Card Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Radiology"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(B,{value:t.backgroundImageId,onChange:s=>a({...t,backgroundImageId:s}),label:"Background Image"}),e.jsx(B,{value:t.cardImageId,onChange:s=>a({...t,cardImageId:s}),label:"Card Image"})]}),e.jsx(m,{label:"Internal Link",hint:"Page URL to redirect to (e.g., /products, /about)",children:e.jsx("input",{type:"text",value:t.internalLink||"",onChange:s=>a({...t,internalLink:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Card":"Create Card"})]})]})})}function fs({specialty:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Specialty":"Add New Specialty",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Specialty Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:s=>{const c=s.target.value;a({...t,name:c,slug:c.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Cardiology"})}),e.jsx(m,{label:"Slug",hint:"Auto-generated from name, or customize",children:e.jsx("input",{type:"text",value:t.slug,onChange:s=>a({...t,slug:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"cardiology"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:s=>a({...t,description:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialty description"})}),e.jsxs(m,{label:"Icon Class",hint:"Use RemixIcon class (e.g., ri-heart-line)",children:[e.jsx("input",{type:"text",value:t.iconClass||"",onChange:s=>a({...t,iconClass:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-heart-line"}),t.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:t.iconClass})]})]}),e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Specialty Image",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name||!t.slug,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Specialty":"Create Specialty"})]})]})})}function ys({specialty:r,onClose:d,onEdit:n,getImageUrl:i}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Specialty Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[r.iconClass&&e.jsx("i",{className:`${r.iconClass} text-5xl text-blue-600`}),r.image&&!r.iconClass&&e.jsx("img",{src:i(r),alt:r.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Slug: ",r.slug]})]})]}),r.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Specialty"]})]})]})})}function vs(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(null);o.useEffect(()=>{r==="content"?I():y()},[r]);const I=async()=>{i(!0);try{const k=await x.get("/investor-relations");k.success&&k.data&&c(k.data)}catch(k){alert(k.message||"Failed to load content")}finally{i(!1)}},y=async()=>{i(!0);try{const k=await x.get("/investor-relations/documents");k.success&&k.data&&f(k.data.sort((w,$)=>w.orderIndex-$.orderIndex))}catch(k){alert(k.message||"Failed to load documents")}finally{i(!1)}},P=async()=>{a(!0);try{await x.put("/investor-relations",s),alert("Page content saved successfully!")}catch(k){alert(k.message||"Failed to save")}finally{a(!1)}},p=async k=>{a(!0);try{for(let w=0;w<k.length;w++)await x.put(`/investor-relations/documents/${k[w].id}`,{...k[w],orderIndex:w});f(k),alert("Documents order updated!")}catch(w){alert(w.message||"Failed to update order")}finally{a(!1)}},T=async k=>{a(!0);try{k.id&&k.id>0?await x.put(`/investor-relations/documents/${k.id}`,k):await x.post("/investor-relations/documents",{...k,orderIndex:g.length}),v(!1),b(null),y(),alert("Document saved successfully!")}catch(w){alert(w.message||"Failed to save")}finally{a(!1)}},A=async k=>{if(confirm("Delete this document?")){a(!0);try{await x.delete(`/investor-relations/documents/${k}`),f(g.filter(w=>w.id!==k)),alert("Document deleted!")}catch(w){alert(w.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Investor Relations"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and investor documents"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>d("documents"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="documents"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Documents"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:P,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:k=>c({...s,heroTitle:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:s.heroSubtitle||"",onChange:k=>c({...s,heroSubtitle:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.heroImageId,onChange:k=>c({...s,heroImageId:k}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:k=>c({...s,introText:k.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Investor Documents"}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:null,fileId:null,documentType:null,publishDate:null,orderIndex:g.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Document"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-file-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No documents yet"})]}):e.jsx(K,{items:g,onReorder:p,keyExtractor:k=>k.id,renderItem:k=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:k.title}),k.documentType&&e.jsx("p",{className:"text-sm text-gray-600",children:k.documentType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(k),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>A(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),j&&C&&e.jsx(js,{document:C,onSave:T,onClose:()=>{v(!1),b(null)},saving:t})]})}function js({document:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r),[s,c]=o.useState(!1),g=async f=>{const j=f.target.files?.[0];if(j){c(!0);try{const v=new FormData;v.append("file",j);const C=localStorage.getItem("auth_token"),I=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/file`,{method:"POST",headers:{Authorization:`Bearer ${C||""}`},body:v})).json();I.success&&I.mediaId&&a({...t,fileId:I.mediaId})}catch{alert("Upload failed")}finally{c(!1)}}};return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Document":"Add Document",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:f=>a({...t,title:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:f=>a({...t,description:f.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Document Type",children:e.jsxs("select",{value:t.documentType||"",onChange:f=>a({...t,documentType:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Annual Report",children:"Annual Report"}),e.jsx("option",{value:"Quarterly Report",children:"Quarterly Report"}),e.jsx("option",{value:"Press Release",children:"Press Release"}),e.jsx("option",{value:"Other",children:"Other"})]})}),e.jsx(m,{label:"Publish Date",children:e.jsx("input",{type:"date",value:t.publishDate?new Date(t.publishDate).toISOString().split("T")[0]:"",onChange:f=>a({...t,publishDate:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs(m,{label:"Document File",children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:g,disabled:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s&&e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Uploading..."})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:f=>a({...t,isActive:f.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ns(){const[r,d]=o.useState("content"),[n,i]=o.useState([]),[t,a]=o.useState(!1),[s,c]=o.useState(!1),[g,f]=o.useState(!1),[j,v]=o.useState(null),[C,b]=o.useState(null),[I,y]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null});o.useEffect(()=>{r==="content"?P():p()},[r]);const P=async()=>{a(!0);try{const E=await x.get("/clients/page-content");if(E.success&&E.data){const V=E.data;y({id:V.id||void 0,heroTitle:V.heroTitle||null,heroSubtitle:V.heroSubtitle||null,heroImageId:V.heroImageId||null,introText:V.introText||null,heroImage:V.heroImage})}}catch(E){console.error("Error fetching page content:",E),E.message?.includes("not found")||alert(E.message||"Failed to load page content")}finally{a(!1)}},p=async()=>{a(!0);try{const E=await x.get("/clients");E.success&&E.data&&i(E.data.sort((V,O)=>V.orderIndex-O.orderIndex))}catch(E){console.error("Error fetching clients:",E),alert(E.message||"Failed to load clients")}finally{a(!1)}},T=async()=>{c(!0);try{const E={heroTitle:I.heroTitle||null,heroSubtitle:I.heroSubtitle||null,heroImageId:I.heroImageId||null,introText:I.introText||null},V=await x.put("/clients/page-content",E);if(V.success)alert("Page content saved successfully!"),P();else throw new Error(V.message||"Failed to save page content")}catch(E){console.error("Error saving page content:",E),alert(E.message||"Failed to save page content")}finally{c(!1)}},A=E=>{if(E.name&&!E.name.match(/^Client\s+\d+$/i))return E.name;if(E.logo?.altText)return E.logo.altText;if(E.logo?.fileName){const V=E.logo.fileName.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,O=>O.toUpperCase());if(V&&V!=="Logo")return V}return E.name||"Unnamed Client"},k=async E=>{c(!0);try{for(let V=0;V<E.length;V++)await x.put(`/clients/${E[V].id}`,{...E[V],orderIndex:V});i(E),alert("Clients order updated successfully!")}catch(V){alert(V.message||"Failed to update order")}finally{c(!1)}},w=async E=>{c(!0);try{if(E.id&&E.id>0){const V=await x.put(`/clients/${E.id}`,E);if(!V.success)throw new Error(V.message||"Failed to update client")}else{const V=await x.post("/clients",{...E,orderIndex:n.length});if(!V.success)throw new Error(V.message||"Failed to create client")}f(!1),v(null),p(),alert("Client saved successfully!")}catch(V){const O=V.message||"Failed to save client";O.includes("not found")?(alert("This client no longer exists. Please refresh the page and try again."),p()):alert(O)}finally{c(!1)}},$=async E=>{if(confirm("Are you sure you want to delete this client?")){c(!0);try{const V=await x.delete(`/clients/${E}`);if(!V.success)throw new Error(V.message||"Failed to delete client");i(n.filter(O=>O.id!==E)),alert("Client deleted successfully!")}catch(V){const O=V.message||"Failed to delete client";O.includes("not found")?(alert("This client no longer exists. The list will be refreshed."),p()):alert(O)}finally{c(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Clients Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage clients page content and client list"})]})}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>d("content"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>d("clients"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="clients"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-group-line mr-2"}),"Clients List"]})]})})]}),r==="content"?e.jsx(ws,{content:I,onChange:y,onSave:T,saving:s}):e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clients"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage client logos and information"})]}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:n.length,isActive:!0}),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop clients to reorder them. The order will appear on your clients page."]})})]})}),t?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading clients..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-user-heart-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No clients yet. Add your first client!"}),e.jsxs("button",{onClick:()=>{v({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:0,isActive:!0}),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(K,{items:n,onReorder:k,keyExtractor:E=>E.id,emptyMessage:"No clients yet. Click 'Add Client' to get started!",renderItem:E=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[E.logo&&e.jsx("img",{src:ye(E.logo),alt:A(E),className:"w-20 h-20 object-contain bg-gray-50 rounded-lg p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:A(E)}),E.websiteUrl&&e.jsxs("a",{href:E.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-1"}),E.websiteUrl]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>b(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{v(E),f(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>$(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),g&&j&&e.jsx(Cs,{client:j,onSave:w,onClose:()=>{f(!1),v(null)},saving:s}),C&&e.jsx(Is,{client:C,onClose:()=>b(null),onEdit:()=>{v(C),b(null),f(!0)},getImageUrl:E=>ye(E),getClientDisplayName:A})]})}function ws({content:r,onChange:d,onSave:n,saving:i}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:r.heroTitle||"",onChange:t=>d({...r,heroTitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Clients"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:r.heroSubtitle||"",onChange:t=>d({...r,heroSubtitle:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Unlock Your Potential"})}),e.jsx(B,{value:r.heroImageId,onChange:t=>d({...r,heroImageId:t}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:r.heroImage}),e.jsx(m,{label:"Intro Text",hint:"Optional text below hero section",children:e.jsx("textarea",{value:r.introText||"",onChange:t=>d({...r,introText:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Add introduction text here..."})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:n,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})})]})]})}function Cs({client:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Client":"Add New Client",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})}),e.jsx(m,{label:"Website URL",hint:"Optional - Include https://",children:e.jsx("input",{type:"url",value:t.websiteUrl||"",onChange:s=>a({...t,websiteUrl:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})}),e.jsx(B,{value:t.logoId,onChange:s=>a({...t,logoId:s}),label:"Client Logo",aspectRatio:"3/2"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Client":"Create Client"})]})]})})}function Is({client:r,onClose:d,onEdit:n,getImageUrl:i,getClientDisplayName:t}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Client Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.logo&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(r.logo),alt:t(r),className:"max-w-xs max-h-48 object-contain bg-gray-50 rounded-lg p-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:t(r)}),r.websiteUrl&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsxs("a",{href:r.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-2"}),r.websiteUrl]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Client"]})]})]})})}function Ss(){const[r,d]=o.useState([]),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState(!1),[g,f]=o.useState(null),[j,v]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{i(!0);try{const p=await x.get("/leaders");p.success&&p.data&&d(p.data.sort((T,A)=>T.orderIndex-A.orderIndex))}catch(p){console.error("Error fetching leaders:",p),alert(p.message||"Failed to load leaders")}finally{i(!1)}},b=async p=>{a(!0);try{for(let T=0;T<p.length;T++)await x.put(`/leaders/${p[T].id}`,{...p[T],orderIndex:T});d(p),alert("Leaders order updated successfully!")}catch(T){alert(T.message||"Failed to update order")}finally{a(!1)}},I=async p=>{a(!0);try{p.id&&p.id>0?await x.put(`/leaders/${p.id}`,p):await x.post("/leaders",{...p,orderIndex:r.length}),c(!1),f(null),C(),alert("Leader saved successfully!")}catch(T){alert(T.message||"Failed to save leader")}finally{a(!1)}},y=async p=>{if(confirm("Are you sure you want to delete this leader?")){a(!0);try{await x.delete(`/leaders/${p}`),d(r.filter(T=>T.id!==p)),alert("Leader deleted successfully!")}catch(T){alert(T.message||"Failed to delete leader")}finally{a(!1)}}},P=p=>p.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${p.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Management Team"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage leadership team members"})]}),e.jsxs("button",{onClick:()=>{f({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:r.length,isActive:!0}),c(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop leaders to reorder them on the management page."]})})]})}),n?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading leaders..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-team-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No leaders yet. Add your first team member!"}),e.jsxs("button",{onClick:()=>{f({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:0,isActive:!0}),c(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(K,{items:r,onReorder:b,keyExtractor:p=>p.id,emptyMessage:"No leaders yet. Click 'Add Leader' to get started!",renderItem:p=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[p.image&&e.jsx("img",{src:P(p),alt:p.fullName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:p.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:p.position}),p.department&&e.jsx("p",{className:"text-xs text-gray-500",children:p.department})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{f(p),c(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),s&&g&&e.jsx(ks,{leader:g,onSave:I,onClose:()=>{c(!1),f(null)},saving:t}),j&&e.jsx(Fs,{leader:j,onClose:()=>v(null),onEdit:()=>{f(j),v(null),c(!0)},getImageUrl:P})]})}function ks({leader:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id&&r.id>0?"Edit Leader":"Add New Leader",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Full Name",required:!0,children:e.jsx("input",{type:"text",value:t.fullName,onChange:s=>a({...t,fullName:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})}),e.jsx(m,{label:"Position",required:!0,children:e.jsx("input",{type:"text",value:t.position,onChange:s=>a({...t,position:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CEO"})})]}),e.jsx(m,{label:"Department",children:e.jsx("input",{type:"text",value:t.department||"",onChange:s=>a({...t,department:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Executive"})}),e.jsx(m,{label:"Bio",children:e.jsx("textarea",{value:t.bio||"",onChange:s=>a({...t,bio:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter leader's biography"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:s=>a({...t,email:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})}),e.jsx(m,{label:"LinkedIn URL",children:e.jsx("input",{type:"url",value:t.linkedinUrl||"",onChange:s=>a({...t,linkedinUrl:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/johndoe"})})]}),e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"Profile Photo",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.fullName||!t.position,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r.id&&r.id>0?"Update Leader":"Create Leader"})]})]})})}function Fs({leader:r,onClose:d,onEdit:n,getImageUrl:i}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Leader Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.image&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(r),alt:r.fullName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-2",children:r.fullName}),e.jsx("p",{className:"text-lg text-gray-700 mb-1",children:r.position}),r.department&&e.jsx("p",{className:"text-blue-600 font-medium",children:r.department})]}),r.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Biography"}),e.jsx("p",{className:"text-gray-600",children:r.bio})]}),e.jsxs("div",{className:"space-y-2",children:[r.email&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-mail-line mr-2 text-gray-500"}),e.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline",children:r.email})]}),r.linkedinUrl&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-linkedin-line mr-2 text-gray-500"}),e.jsx("a",{href:r.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Leader"]})]})]})})}function As(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,mapImageId:null,mapBackgroundImageId:null,salesServiceHeading:null,salesServiceContent:null,salesServiceImageId:null}),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(null);o.useEffect(()=>{r==="content"?I():y()},[r]);const I=async()=>{i(!0);try{const A=await x.get("/our-presence");A.success&&A.data&&c(A.data)}catch(A){alert(A.message||"Failed to load")}finally{i(!1)}},y=async()=>{i(!0);try{const A=await x.get("/our-presence/locations");A.success&&A.data&&f(A.data)}catch(A){alert(A.message||"Failed to load")}finally{i(!1)}},P=async()=>{a(!0);try{await x.put("/our-presence",s),alert("Saved successfully!")}catch(A){alert(A.message||"Failed to save")}finally{a(!1)}},p=async A=>{a(!0);try{A.id&&A.id>0?await x.put(`/our-presence/locations/${A.id}`,A):await x.post("/our-presence/locations",A),v(!1),b(null),y(),alert("Location saved!")}catch(k){alert(k.message||"Failed to save")}finally{a(!1)}},T=async A=>{if(confirm("Delete this location?")){a(!0);try{await x.delete(`/our-presence/locations/${A}`),f(g.filter(k=>k.id!==A)),alert("Location deleted!")}catch(k){alert(k.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Our Presence"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and office locations"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>d("locations"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="locations"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Office Locations"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:P,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:A=>c({...s,heroTitle:A.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:s.heroSubtitle||"",onChange:A=>c({...s,heroSubtitle:A.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.heroImageId,onChange:A=>c({...s,heroImageId:Number(A)}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:A=>c({...s,introText:A.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mapImageId,onChange:A=>c({...s,mapImageId:Number(A)}),label:"Map Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mapBackgroundImageId,onChange:A=>c({...s,mapBackgroundImageId:Number(A)}),label:"Map Background Image (PNG)"})}),e.jsx(m,{label:"Sales & Service Heading",children:e.jsx("input",{type:"text",value:s.salesServiceHeading||"",onChange:A=>c({...s,salesServiceHeading:A.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Sales & Service Content",hint:"Separate paragraphs with a blank line (press Enter twice)",children:e.jsx("textarea",{value:s.salesServiceContent||"",onChange:A=>c({...s,salesServiceContent:A.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`First paragraph here...

Second paragraph here...`})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.salesServiceImageId,onChange:A=>c({...s,salesServiceImageId:Number(A)}),label:"Sales & Service Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Office Locations"}),e.jsxs("button",{onClick:()=>{b({id:0,officeType:null,city:null,state:null,country:null,address:null,phone:null,email:null,latitude:null,longitude:null,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Location"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-map-pin-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No locations yet"})]}):e.jsx("div",{className:"space-y-3",children:g.map(A=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[A.city,", ",A.state||A.country]}),A.officeType&&e.jsx("p",{className:"text-sm text-gray-600",children:A.officeType}),A.address&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.address}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[A.phone&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-phone-line mr-1"}),A.phone]}),A.email&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-mail-line mr-1"}),A.email]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${A.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(A),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},A.id))})]})})]}),j&&C&&e.jsx(Ps,{location:C,onSave:p,onClose:()=>{v(!1),b(null)},saving:t})]})}function Ps({location:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Location":"Add Location",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Office Type",children:e.jsx("input",{type:"text",value:t.officeType||"",onChange:s=>a({...t,officeType:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Headquarters"})}),e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:s=>a({...t,city:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:s=>a({...t,state:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Country",children:e.jsx("input",{type:"text",value:t.country||"",onChange:s=>a({...t,country:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:t.address||"",onChange:s=>a({...t,address:s.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:t.phone||"",onChange:s=>a({...t,phone:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:s=>a({...t,email:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Latitude",children:e.jsx("input",{type:"number",step:"any",value:t.latitude||"",onChange:s=>a({...t,latitude:s.target.value?parseFloat(s.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Longitude",children:e.jsx("input",{type:"number",step:"any",value:t.longitude||"",onChange:s=>a({...t,longitude:s.target.value?parseFloat(s.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Es(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,introBackgroundImageId:null,flexibilityHeading:null,flexibilityContent:null,highlightedBoxText:null,flexibilityAdditionalText:null,flexibilityImageId:null,qualityHeading:null,qualityContent:null,qualityBackgroundImageId:null,qualityImageId:null}),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(null);o.useEffect(()=>{r==="content"?I():y()},[r]);const I=async()=>{i(!0);try{const k=await x.get("/production-facility");k.success&&k.data&&c(k.data)}catch(k){alert(k.message||"Failed to load")}finally{i(!1)}},y=async()=>{i(!0);try{const k=await x.get("/production-facility/features");k.success&&k.data&&f(k.data.sort((w,$)=>w.orderIndex-$.orderIndex))}catch(k){alert(k.message||"Failed to load")}finally{i(!1)}},P=async()=>{a(!0);try{await x.put("/production-facility",s),alert("Saved successfully!")}catch(k){alert(k.message||"Failed to save")}finally{a(!1)}},p=async k=>{a(!0);try{for(let w=0;w<k.length;w++)await x.put(`/production-facility/features/${k[w].id}`,{...k[w],orderIndex:w});f(k),alert("Order updated!")}catch(w){alert(w.message||"Failed to update")}finally{a(!1)}},T=async k=>{a(!0);try{k.id&&k.id>0?await x.put(`/production-facility/features/${k.id}`,k):await x.post("/production-facility/features",{...k,orderIndex:g.length}),v(!1),b(null),y(),alert("Feature saved!")}catch(w){alert(w.message||"Failed to save")}finally{a(!1)}},A=async k=>{if(confirm("Delete this feature?")){a(!0);try{await x.delete(`/production-facility/features/${k}`),f(g.filter(w=>w.id!==k)),alert("Feature deleted!")}catch(w){alert(w.message||"Failed to delete")}finally{a(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Production Facility"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and facility features"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>d("features"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="features"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Features"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:P,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:k=>c({...s,heroTitle:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:s.heroSubtitle||"",onChange:k=>c({...s,heroSubtitle:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.heroImageId,onChange:k=>c({...s,heroImageId:Number(k)}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:k=>c({...s,introText:k.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:s.introBackgroundImageId,onChange:k=>c({...s,introBackgroundImageId:Number(k)}),label:"Introduction Section Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image for the introduction section with rounded top corners."]})]}),e.jsx(m,{label:"Flexibility Heading",children:e.jsx("input",{type:"text",value:s.flexibilityHeading||"",onChange:k=>c({...s,flexibilityHeading:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Flexibility Content (First Paragraph)",children:e.jsx("textarea",{value:s.flexibilityContent||"",onChange:k=>c({...s,flexibilityContent:k.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"First paragraph about adaptability"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Highlighted Box Text",children:e.jsx("textarea",{value:s.highlightedBoxText||"",onChange:k=>c({...s,highlightedBoxText:k.target.value||null}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Text for the box with gradient underline"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Flexibility Additional Text (Third Paragraph)",children:e.jsx("textarea",{value:s.flexibilityAdditionalText||"",onChange:k=>c({...s,flexibilityAdditionalText:k.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Third paragraph about agile approach"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.flexibilityImageId,onChange:k=>c({...s,flexibilityImageId:Number(k)}),label:"Flexibility Image"})}),e.jsx(m,{label:"Quality Heading",children:e.jsx("input",{type:"text",value:s.qualityHeading||"",onChange:k=>c({...s,qualityHeading:k.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Quality Content",children:e.jsx("textarea",{value:s.qualityContent||"",onChange:k=>c({...s,qualityContent:k.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:s.qualityBackgroundImageId,onChange:k=>c({...s,qualityBackgroundImageId:Number(k)}),label:"Quality Section Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image for the quality section with rounded top corners."]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.qualityImageId,onChange:k=>c({...s,qualityImageId:Number(k)}),label:"Quality Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Facility Features"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"First 3 features appear in the Introduction section. Features 4-6 appear in the Quality section as Process Overview."]})]}),e.jsxs("button",{onClick:()=>{b({id:0,iconId:null,heading:null,description:null,orderIndex:g.length}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-settings-3-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(K,{items:g,onReorder:p,keyExtractor:k=>k.id,renderItem:k=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[k.icon?e.jsx("img",{src:`/uploads/${k.icon.filePath}`,alt:k.icon.altText||"",className:"w-10 h-10 object-contain p-1 border rounded"}):e.jsx("i",{className:"ri-image-line text-2xl text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:k.heading}),k.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:k.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{b(k),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>A(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),j&&C&&e.jsx(Ds,{feature:C,onSave:T,onClose:()=>{v(!1),b(null)},saving:t})]})}function Ds({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx(B,{value:t.iconId,onChange:s=>a({...t,iconId:Number(s)}),label:"Feature Icon"})}),e.jsx(m,{label:"Heading",hint:"Feature title (e.g., 'Full vertical integration', 'Streamlined processes')",children:e.jsx("input",{type:"text",value:t.heading||"",onChange:s=>a({...t,heading:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Full vertical integration"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:s=>a({...t,description:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ts(){const[r,d]=o.useState("content"),[n,i]=o.useState(!1),[t,a]=o.useState(!1),[s,c]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,backgroundImageId:null,mainHeading:null,mainContent:null,mainImageId:null}),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(null);o.useEffect(()=>{r==="content"?I():y()},[r]);const I=async()=>{i(!0);try{const w=await x.get("/quality-assurance");w.success&&w.data&&c(w.data)}catch(w){alert(w.message||"Failed to load")}finally{i(!1)}},y=async()=>{i(!0);try{const w=await x.get("/quality-assurance/certifications");w.success&&w.data&&f(w.data.sort(($,E)=>$.orderIndex-E.orderIndex))}catch(w){alert(w.message||"Failed to load")}finally{i(!1)}},P=async()=>{a(!0);try{await x.put("/quality-assurance",s),alert("Saved successfully!")}catch(w){alert(w.message||"Failed to save")}finally{a(!1)}},p=async w=>{a(!0);try{for(let $=0;$<w.length;$++)await x.put(`/quality-assurance/certifications/${w[$].id}`,{...w[$],orderIndex:$});f(w),alert("Order updated!")}catch($){alert($.message||"Failed to update")}finally{a(!1)}},T=async w=>{a(!0);try{w.id&&w.id>0?await x.put(`/quality-assurance/certifications/${w.id}`,w):await x.post("/quality-assurance/certifications",{...w,orderIndex:g.length}),v(!1),b(null),y(),alert("Certification saved!")}catch($){alert($.message||"Failed to save")}finally{a(!1)}},A=async w=>{if(confirm("Delete this certification?")){a(!0);try{await x.delete(`/quality-assurance/certifications/${w}`),f(g.filter($=>$.id!==w)),alert("Certification deleted!")}catch($){alert($.message||"Failed to delete")}finally{a(!1)}}},k=w=>w.logo?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${w.logo.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Quality Assurance"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and certifications"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>d("certifications"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${r==="certifications"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Certifications"})]})}),e.jsx("div",{className:"p-6",children:n?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):r==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:P,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:t?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:w=>c({...s,heroTitle:w.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:s.heroSubtitle||"",onChange:w=>c({...s,heroSubtitle:w.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.heroImageId,onChange:w=>c({...s,heroImageId:Number(w)}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:w=>c({...s,introText:w.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(B,{value:s.backgroundImageId,onChange:w=>c({...s,backgroundImageId:Number(w)}),label:"Section Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload an image for the rounded card background (optional)."]})]}),e.jsx(m,{label:"Main Heading",children:e.jsx("input",{type:"text",value:s.mainHeading||"",onChange:w=>c({...s,mainHeading:w.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Main Content",children:e.jsx("textarea",{value:s.mainContent||"",onChange:w=>c({...s,mainContent:w.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(B,{value:s.mainImageId,onChange:w=>c({...s,mainImageId:Number(w)}),label:"Main Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Certifications"}),e.jsxs("button",{onClick:()=>{b({id:0,name:"",abbreviation:null,logoId:null,description:null,orderIndex:g.length,isActive:!0}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Certification"]})]}),g.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-shield-check-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No certifications yet"})]}):e.jsx(K,{items:g,onReorder:p,keyExtractor:w=>w.id,renderItem:w=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[w.logo&&e.jsx("img",{src:k(w),alt:w.name,className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),w.abbreviation&&e.jsx("p",{className:"text-sm text-gray-600",children:w.abbreviation})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(w),v(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>A(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),j&&C&&e.jsx(Ms,{cert:C,onSave:T,onClose:()=>{v(!1),b(null)},saving:t})]})}function Ms({cert:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Certification":"Add Certification",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Certification Name",required:!0,children:e.jsx("input",{type:"text",value:t.name,onChange:s=>a({...t,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Abbreviation",children:e.jsx("input",{type:"text",value:t.abbreviation||"",onChange:s=>a({...t,abbreviation:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISO 13485"})}),e.jsx(m,{label:"Description",children:e.jsx("textarea",{value:t.description||"",onChange:s=>a({...t,description:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(B,{value:t.logoId,onChange:s=>a({...t,logoId:Number(s)}),label:"Certification Logo",aspectRatio:"1/1"}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function $s(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({heroTitle:null,introText:null,backgroundImageId:null}),[s,c]=o.useState([]),[g,f]=o.useState([]),[j,v]=o.useState(!1),[C,b]=o.useState(!1),[I,y]=o.useState(null),[P,p]=o.useState(null);o.useEffect(()=>{T()},[]);const T=async()=>{d(!0);try{const F=await x.get("/request-demo");if(F.success&&F.data){const D=F.data;a({id:D.id,heroTitle:D.heroTitle,introText:D.introText,backgroundImageId:D.backgroundImageId,backgroundImage:D.backgroundImage}),c(D.paragraphs||[]),f(D.features||[])}}catch(F){console.error("Error fetching content:",F),alert(F.message||"Failed to load content")}finally{d(!1)}},A=async()=>{i(!0);try{(await x.put("/request-demo",t)).success&&(alert("Request Demo page saved successfully!"),T())}catch(F){alert(F.message||"Failed to save")}finally{i(!1)}},k=async F=>{i(!0);try{F.id&&F.id>0?await x.put(`/request-demo/paragraphs/${F.id}`,F):await x.post("/request-demo/paragraphs",{...F,orderIndex:s.length}),v(!1),y(null),T(),alert("Paragraph saved successfully!")}catch(D){alert(D.message||"Failed to save")}finally{i(!1)}},w=async F=>{if(confirm("Are you sure you want to delete this paragraph?")){i(!0);try{await x.delete(`/request-demo/paragraphs/${F}`),c(s.filter(D=>D.id!==F)),alert("Paragraph deleted successfully!")}catch(D){alert(D.message||"Failed to delete")}finally{i(!1)}}},$=async F=>{i(!0);try{for(let D=0;D<F.length;D++)await x.put(`/request-demo/paragraphs/${F[D].id}`,{...F[D],orderIndex:D});c(F),alert("Paragraphs order updated successfully!")}catch(D){alert(D.message||"Failed to update order")}finally{i(!1)}},E=async F=>{i(!0);try{F.id&&F.id>0?await x.put(`/request-demo/features/${F.id}`,F):await x.post("/request-demo/features",{...F,orderIndex:g.length}),b(!1),p(null),T(),alert("Feature saved successfully!")}catch(D){alert(D.message||"Failed to save")}finally{i(!1)}},V=async F=>{if(confirm("Are you sure you want to delete this feature?")){i(!0);try{await x.delete(`/request-demo/features/${F}`),f(g.filter(D=>D.id!==F)),alert("Feature deleted successfully!")}catch(D){alert(D.message||"Failed to delete")}finally{i(!1)}}},O=async F=>{i(!0);try{for(let D=0;D<F.length;D++)await x.put(`/request-demo/features/${F[D].id}`,{...F[D],orderIndex:D});f(F),alert("Features order updated successfully!")}catch(D){alert(D.message||"Failed to update order")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Request Demo Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage request demo page content"})]}),e.jsx("button",{onClick:A,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:F=>a({...t,heroTitle:F.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Request a Demo"})}),e.jsx(m,{label:"Intro Text",children:e.jsx("textarea",{value:t.introText||"",onChange:F=>a({...t,introText:F.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Background Image"}),e.jsx(B,{value:t.backgroundImageId,onChange:F=>a({...t,backgroundImageId:F}),label:"Page Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image (e.g., Frame-75-1.png). This will replace the default gradient background."]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>{y({id:0,content:"",orderIndex:s.length}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder."]}),e.jsx(K,{items:s,onReorder:$,keyExtractor:F=>F.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:F=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:F.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{y(F),v(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>w(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Features"}),e.jsxs("button",{onClick:()=>{p({id:0,title:"",content:"",iconImageId:null,orderIndex:g.length}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add feature blocks with icon, title, and content. Drag and drop to reorder."]}),e.jsx(K,{items:g,onReorder:O,keyExtractor:F=>F.id,emptyMessage:"No features yet. Click 'Add Feature' to get started!",renderItem:F=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[F.iconImage&&e.jsx("img",{src:Ls(F),alt:F.iconImage.altText||F.title,className:"w-10 h-10 object-contain"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:F.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:F.content})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{p(F),b(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>V(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}),j&&e.jsx(Hs,{paragraph:I,onSave:k,onClose:()=>{v(!1),y(null)},saving:n}),C&&e.jsx(Rs,{feature:P,onSave:E,onClose:()=>{b(!1),p(null)},saving:n})]})}function Ls(r){return r.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${r.iconImage.filePath}`:""}function Hs({paragraph:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r||{id:0,content:"",orderIndex:0});return o.useEffect(()=>{a(r||{id:0,content:"",orderIndex:0})},[r]),e.jsx(Q,{isOpen:!0,onClose:n,title:r?.id&&r.id>0?"Edit Paragraph":"Add Paragraph",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t.content,onChange:s=>a({...t,content:s.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r?.id&&r.id>0?"Update Paragraph":"Create Paragraph"})]})]})})}function Rs({feature:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r||{id:0,title:"",content:"",iconImageId:null,orderIndex:0}),s=c=>c?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${c.filePath}`:"";return o.useEffect(()=>{a(r||{id:0,title:"",content:"",iconImageId:null,orderIndex:0})},[r]),e.jsx(Q,{isOpen:!0,onClose:n,title:r?.id&&r.id>0?"Edit Feature":"Add Feature",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:t.title,onChange:c=>a({...t,title:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., System Variety"})}),e.jsx(m,{label:"Content",required:!0,children:e.jsx("textarea",{value:t.content,onChange:c=>a({...t,content:c.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., We offer 15+ models ranging from portable to high-powered fixed machines..."})}),e.jsx(B,{value:t.iconImageId,onChange:c=>a({...t,iconImageId:c}),label:"Icon Image (JPG, PNG, SVG)"}),t.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:s(t.iconImage),alt:"Icon preview",className:"w-16 h-16 object-contain"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.title||!t.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":r?.id&&r.id>0?"Update Feature":"Create Feature"})]})]})})}function Us(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const f=await x.get("/our-products/content");f.success&&f.data&&a(f.data)}catch(f){console.error("Error fetching content:",f),alert(f.message||"Failed to load content")}finally{d(!1)}},c=async()=>{i(!0);try{(await x.put("/our-products/content",t)).success&&(alert("Our Products Page Content saved successfully!"),s())}catch(f){alert(f.message||"Failed to save")}finally{i(!1)}},g=f=>f?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${f.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Our Products Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Our Products page content"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:f=>a({...t,heroTitle:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:t.heroSubtitle||"",onChange:f=>a({...t,heroSubtitle:f.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explore our comprehensive range of medical imaging solutions"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx(B,{value:t.heroImageId,onChange:f=>a({...t,heroImageId:f}),label:"Hero Background Image"}),t.heroImage&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Image:"}),e.jsx("img",{src:g(t.heroImage),alt:t.heroImage.altText||"Hero image",className:"w-full max-w-md h-auto rounded-lg shadow-md"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image for the hero section."]})]})]})})]})}var ke={exports:{}},Fe,Me;function Bs(){if(Me)return Fe;Me=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fe=r,Fe}var Ae,$e;function Vs(){if($e)return Ae;$e=1;var r=Bs();function d(){}function n(){}return n.resetWarningCache=d,Ae=function(){function i(s,c,g,f,j,v){if(v!==r){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}i.isRequired=i;function t(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:t,element:i,elementType:i,instanceOf:t,node:i,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:d};return a.PropTypes=a,a},Ae}var Le;function qs(){return Le||(Le=1,ke.exports=Vs()()),ke.exports}var H=qs(),De=function(){return De=Object.assign||function(r){for(var d,n=1,i=arguments.length;n<i;n++){d=arguments[n];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(r[t]=d[t])}return r},De.apply(this,arguments)},_e={onActivate:H.func,onAddUndo:H.func,onBeforeAddUndo:H.func,onBeforeExecCommand:H.func,onBeforeGetContent:H.func,onBeforeRenderUI:H.func,onBeforeSetContent:H.func,onBeforePaste:H.func,onBlur:H.func,onChange:H.func,onClearUndos:H.func,onClick:H.func,onContextMenu:H.func,onCommentChange:H.func,onCompositionEnd:H.func,onCompositionStart:H.func,onCompositionUpdate:H.func,onCopy:H.func,onCut:H.func,onDblclick:H.func,onDeactivate:H.func,onDirty:H.func,onDrag:H.func,onDragDrop:H.func,onDragEnd:H.func,onDragGesture:H.func,onDragOver:H.func,onDrop:H.func,onExecCommand:H.func,onFocus:H.func,onFocusIn:H.func,onFocusOut:H.func,onGetContent:H.func,onHide:H.func,onInit:H.func,onInput:H.func,onKeyDown:H.func,onKeyPress:H.func,onKeyUp:H.func,onLoadContent:H.func,onMouseDown:H.func,onMouseEnter:H.func,onMouseLeave:H.func,onMouseMove:H.func,onMouseOut:H.func,onMouseOver:H.func,onMouseUp:H.func,onNodeChange:H.func,onObjectResizeStart:H.func,onObjectResized:H.func,onObjectSelected:H.func,onPaste:H.func,onPostProcess:H.func,onPostRender:H.func,onPreProcess:H.func,onProgressState:H.func,onRedo:H.func,onRemove:H.func,onReset:H.func,onSaveContent:H.func,onSelectionChange:H.func,onSetAttrib:H.func,onSetContent:H.func,onShow:H.func,onSubmit:H.func,onUndo:H.func,onVisualAid:H.func,onSkinLoadError:H.func,onThemeLoadError:H.func,onModelLoadError:H.func,onPluginLoadError:H.func,onIconsLoadError:H.func,onLanguageLoadError:H.func,onScriptsLoad:H.func,onScriptsLoadError:H.func},Os=De({apiKey:H.string,licenseKey:H.string,id:H.string,inline:H.bool,init:H.object,initialValue:H.string,onEditorChange:H.func,value:H.string,tagName:H.string,tabIndex:H.number,cloudChannel:H.string,plugins:H.oneOfType([H.string,H.array]),toolbar:H.oneOfType([H.string,H.array]),disabled:H.bool,readonly:H.bool,textareaName:H.string,tinymceScriptSrc:H.oneOfType([H.string,H.arrayOf(H.string),H.arrayOf(H.shape({src:H.string,async:H.bool,defer:H.bool}))]),rollback:H.oneOfType([H.number,H.oneOf([!1])]),scriptLoading:H.shape({async:H.bool,defer:H.bool,delay:H.number})},_e),ze=function(r){var d=r;return d&&d.tinymce?d.tinymce:null},Pe=function(r){return typeof r=="function"},He=function(r){return r in _e},Re=function(r){return r.substr(2)},_s=function(r,d,n,i,t,a,s){var c=Object.keys(t).filter(He),g=Object.keys(a).filter(He),f=c.filter(function(v){return a[v]===void 0}),j=g.filter(function(v){return t[v]===void 0});f.forEach(function(v){var C=Re(v),b=s[C];n(C,b),delete s[C]}),j.forEach(function(v){var C=i(r,v),b=Re(v);s[b]=C,d(b,C)})},zs=function(r,d,n,i,t){return _s(t,r.on.bind(r),r.off.bind(r),function(a,s){return function(c){var g;return(g=a(s))===null||g===void 0?void 0:g(c,r)}},d,n,i)},Ue=0,Ge=function(r){var d=Date.now(),n=Math.floor(Math.random()*1e9);return Ue++,r+"_"+n+Ue+String(d)},Be=function(r){return r!==null&&(r.tagName.toLowerCase()==="textarea"||r.tagName.toLowerCase()==="input")},Ve=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},Gs=function(r,d){return Ve(r).concat(Ve(d))},Qs=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Js=function(r){if(!("isConnected"in Node.prototype)){for(var d=r,n=r.parentNode;n!=null;)d=n,n=d.parentNode;return d===r.ownerDocument}return r.isConnected},qe=function(r,d){r!==void 0&&(r.mode!=null&&typeof r.mode=="object"&&typeof r.mode.set=="function"?r.mode.set(d):r.setMode(d))},Ws=function(r){var d=ze(r);if(!d)throw new Error("tinymce should have been loaded into global scope");return d},Oe=function(r){return r.options&&r.options.isRegistered("disabled")},Te=function(){return Te=Object.assign||function(r){for(var d,n=1,i=arguments.length;n<i;n++){d=arguments[n];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(r[t]=d[t])}return r},Te.apply(this,arguments)},Ks=function(r,d,n){var i,t,a=r.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=d.id,a.src=d.src,a.async=(i=d.async)!==null&&i!==void 0?i:!1,a.defer=(t=d.defer)!==null&&t!==void 0?t:!1;var s=function(){a.removeEventListener("load",s),a.removeEventListener("error",c),n(d.src)},c=function(g){a.removeEventListener("load",s),a.removeEventListener("error",c),n(d.src,g)};a.addEventListener("load",s),a.addEventListener("error",c),r.head&&r.head.appendChild(a)},Ys=function(r){var d={},n=function(s,c){var g=d[s];g.done=!0,g.error=c;for(var f=0,j=g.handlers;f<j.length;f++){var v=j[f];v(s,c)}g.handlers=[]},i=function(s,c,g){var f=function(T){return g!==void 0?g(T):console.error(T)};if(s.length===0){f(new Error("At least one script must be provided"));return}for(var j=0,v=!1,C=function(T,A){v||(A?(v=!0,f(A)):++j===s.length&&c())},b=0,I=s;b<I.length;b++){var y=I[b],P=d[y.src];if(P)P.done?C(y.src,P.error):P.handlers.push(C);else{var p=Ge("tiny-");d[y.src]={id:p,src:y.src,done:!1,error:null,handlers:[C]},Ks(r,Te({id:p},y),n)}}},t=function(){for(var s,c=0,g=Object.values(d);c<g.length;c++){var f=g[c],j=r.getElementById(f.id);j!=null&&j.tagName==="SCRIPT"&&((s=j.parentNode)===null||s===void 0||s.removeChild(j))}d={}},a=function(){return r};return{loadScripts:i,deleteScripts:t,getDocument:a}},Xs=function(){var r=[],d=function(t){var a=r.find(function(s){return s.getDocument()===t});return a===void 0&&(a=Ys(t),r.push(a)),a},n=function(t,a,s,c,g){var f=function(){return d(t).loadScripts(a,c,g)};s>0?setTimeout(f,s):f()},i=function(){for(var t=r.pop();t!=null;t=r.pop())t.deleteScripts()};return{loadList:n,reinitialize:i}},Zs=Xs(),ea=(function(){var r=function(d,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])},r(d,n)};return function(d,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(d,n);function i(){this.constructor=d}d.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),fe=function(){return fe=Object.assign||function(r){for(var d,n=1,i=arguments.length;n<i;n++){d=arguments[n];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(r[t]=d[t])}return r},fe.apply(this,arguments)},Ee="change keyup compositionend setcontent CommentChange",ta=(function(r){ea(d,r);function d(n){var i,t,a,s=r.call(this,n)||this;return s.rollbackTimer=void 0,s.valueCursor=void 0,s.rollbackChange=function(){var c=s.editor,g=s.props.value;c&&g&&g!==s.currentContent&&c.undoManager.ignore(function(){if(c.setContent(g),s.valueCursor&&(!s.inline||c.hasFocus()))try{c.selection.moveToBookmark(s.valueCursor)}catch{}}),s.rollbackTimer=void 0},s.handleBeforeInput=function(c){if(s.props.value!==void 0&&s.props.value===s.currentContent&&s.editor&&(!s.inline||s.editor.hasFocus()))try{s.valueCursor=s.editor.selection.getBookmark(3)}catch{}},s.handleBeforeInputSpecial=function(c){(c.key==="Enter"||c.key==="Backspace"||c.key==="Delete")&&s.handleBeforeInput(c)},s.handleEditorChange=function(c){var g=s.editor;if(g&&g.initialized){var f=g.getContent();s.props.value!==void 0&&s.props.value!==f&&s.props.rollback!==!1&&(s.rollbackTimer||(s.rollbackTimer=window.setTimeout(s.rollbackChange,typeof s.props.rollback=="number"?s.props.rollback:200))),f!==s.currentContent&&(s.currentContent=f,Pe(s.props.onEditorChange)&&s.props.onEditorChange(f,g))}},s.handleEditorChangeSpecial=function(c){(c.key==="Backspace"||c.key==="Delete")&&s.handleEditorChange(c)},s.initialise=function(c){var g,f,j;c===void 0&&(c=0);var v=s.elementRef.current;if(v){if(!Js(v)){if(c===0)setTimeout(function(){return s.initialise(1)},1);else if(c<100)setTimeout(function(){return s.initialise(c+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var C=Ws(s.view),b=fe(fe(fe(fe({},s.props.init),{selector:void 0,target:v,disabled:s.props.disabled,readonly:s.props.readonly,inline:s.inline,plugins:Gs((g=s.props.init)===null||g===void 0?void 0:g.plugins,s.props.plugins),toolbar:(f=s.props.toolbar)!==null&&f!==void 0?f:(j=s.props.init)===null||j===void 0?void 0:j.toolbar}),s.props.licenseKey?{license_key:s.props.licenseKey}:{}),{setup:function(I){s.editor=I,s.bindHandlers({}),s.inline&&!Be(v)&&I.once("PostRender",function(y){I.setContent(s.getInitialValue(),{no_events:!0})}),s.props.init&&Pe(s.props.init.setup)&&s.props.init.setup(I),s.props.disabled&&(Oe(s.editor)?s.editor.options.set("disabled",s.props.disabled):s.editor.mode.set("readonly"))},init_instance_callback:function(I){var y,P=s.getInitialValue();s.currentContent=(y=s.currentContent)!==null&&y!==void 0?y:I.getContent(),s.currentContent!==P&&(s.currentContent=P,I.setContent(P),I.undoManager.clear(),I.undoManager.add(),I.setDirty(!1)),s.props.init&&Pe(s.props.init.init_instance_callback)&&s.props.init.init_instance_callback(I)}});s.inline||(v.style.visibility=""),Be(v)&&(v.value=s.getInitialValue()),C.init(b)}},s.id=s.props.id||Ge("tiny-react"),s.elementRef=o.createRef(),s.inline=(a=(i=s.props.inline)!==null&&i!==void 0?i:(t=s.props.init)===null||t===void 0?void 0:t.inline)!==null&&a!==void 0?a:!1,s.boundHandlers={},s}return Object.defineProperty(d.prototype,"view",{get:function(){var n,i;return(i=(n=this.elementRef.current)===null||n===void 0?void 0:n.ownerDocument.defaultView)!==null&&i!==void 0?i:window},enumerable:!1,configurable:!0}),d.prototype.componentDidUpdate=function(n){var i=this,t,a;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=(t=this.currentContent)!==null&&t!==void 0?t:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var s=this.editor;s.undoManager.transact(function(){var g;if(!i.inline||s.hasFocus())try{g=s.selection.getBookmark(3)}catch{}var f=i.valueCursor;if(s.setContent(i.props.value),!i.inline||s.hasFocus())for(var j=0,v=[g,f];j<v.length;j++){var C=v[j];if(C)try{s.selection.moveToBookmark(C),i.valueCursor=C;break}catch{}}})}if(this.props.readonly!==n.readonly){var c=(a=this.props.readonly)!==null&&a!==void 0?a:!1;qe(this.editor,c?"readonly":"design")}this.props.disabled!==n.disabled&&(Oe(this.editor)?this.editor.options.set("disabled",this.props.disabled):qe(this.editor,this.props.disabled?"readonly":"design"))}},d.prototype.componentDidMount=function(){var n=this,i,t,a,s,c;if(ze(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(t=(i=this.props).onScriptsLoadError)===null||t===void 0||t.call(i,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((a=this.elementRef.current)===null||a===void 0)&&a.ownerDocument){var g=function(){var j,v;(v=(j=n.props).onScriptsLoad)===null||v===void 0||v.call(j),n.initialise()},f=function(j){var v,C;(C=(v=n.props).onScriptsLoadError)===null||C===void 0||C.call(v,j)};Zs.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(c=(s=this.props.scriptLoading)===null||s===void 0?void 0:s.delay)!==null&&c!==void 0?c:0,g,f)}},d.prototype.componentWillUnmount=function(){var n=this,i=this.editor;i&&(i.off(Ee,this.handleEditorChange),i.off(this.beforeInputEvent(),this.handleBeforeInput),i.off("keypress",this.handleEditorChangeSpecial),i.off("keydown",this.handleBeforeInputSpecial),i.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(t){i.off(t,n.boundHandlers[t])}),this.boundHandlers={},i.remove(),this.editor=void 0)},d.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},d.prototype.beforeInputEvent=function(){return Qs()?"beforeinput SelectionChange":"SelectionChange"},d.prototype.renderInline=function(){var n=this.props.tagName,i=n===void 0?"div":n;return o.createElement(i,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.renderIframe=function(){return o.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},d.prototype.getScriptSources=function(){var n,i,t=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.async,a=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:t,defer:a}]:this.props.tinymceScriptSrc.map(function(f){return typeof f=="string"?{src:f,async:t,defer:a}:f});var s=this.props.cloudChannel,c=this.props.apiKey?this.props.apiKey:"no-api-key",g="https://cdn.tiny.cloud/1/".concat(c,"/tinymce/").concat(s,"/tinymce.min.js");return[{src:g,async:t,defer:a}]},d.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},d.prototype.bindHandlers=function(n){var i=this;if(this.editor!==void 0){zs(this.editor,n,this.props,this.boundHandlers,function(c){return i.props[c]});var t=function(c){return c.onEditorChange!==void 0||c.value!==void 0},a=t(n),s=t(this.props);!a&&s?(this.editor.on(Ee,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):a&&!s&&(this.editor.off(Ee,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},d.propTypes=Os,d.defaultProps={cloudChannel:"8"},d})(o.Component);function Qe({value:r,onChange:d,label:n,placeholder:i="Enter content...",height:t="600px"}){const a=o.useRef(null),[s,c]=o.useState(!1),g=r??"";o.useEffect(()=>{c(!0)},[]);const f=j=>{d(j)};return s?e.jsxs(m,{label:n,children:[e.jsxs("div",{style:{height:t},className:"word-like-editor-wrapper",children:[e.jsx(ta,{apiKey:"qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",onInit:(j,v)=>{a.current=v},value:g,onEditorChange:f,init:{height:parseInt(t)||600,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",toolbar_mode:"sliding",content_style:"body { font-family: Calibri, Arial, sans-serif; font-size: 11pt; line-height: 1.5; margin: 8px; }",skin:"oxide",content_css:"default",branding:!1,promotion:!1,placeholder:i,paste_as_text:!1,paste_data_images:!0,paste_auto_cleanup_on_paste:!1,paste_remove_styles_if_webkit:!1,paste_strip_class_attributes:"none",paste_retain_style_properties:"all",font_formats:"Arial=arial,helvetica,sans-serif; Calibri=calibri,sans-serif; Times New Roman=times new roman,times; Courier New=courier new,courier; Verdana=verdana,geneva;",font_size_formats:"8pt 10pt 11pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt"}}),e.jsx("style",{children:`
          .word-like-editor-wrapper {
            border: 1px solid #d1d5db;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
          .word-like-editor-wrapper .tox-tinymce {
            border: none !important;
          }
          .word-like-editor-wrapper .tox-toolbar {
            background: #f9fafb !important;
            border-bottom: 1px solid #e5e7eb !important;
          }
          .word-like-editor-wrapper .tox-edit-area {
            background: white !important;
          }
          .word-like-editor-wrapper .tox-edit-area__iframe {
            background: white !important;
          }
          .word-like-editor-wrapper .tox-menubar {
            background: #f9fafb !important;
            border-bottom: 1px solid #e5e7eb !important;
          }
        `})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-600 bg-blue-50 border border-blue-200 rounded p-2",children:[e.jsx("i",{className:"ri-microsoft-line mr-1"}),e.jsx("strong",{children:"Word-like Editor:"})," Works just like Microsoft Word! Use toolbar buttons or keyboard shortcuts (",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+B"})," for Bold,",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+I"})," for Italic,",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+U"})," for Underline). Paste content from Word and all formatting will be preserved automatically."]})]}):e.jsx(m,{label:n,children:e.jsx("div",{style:{height:t,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{className:"text-gray-500",children:"Loading Word-like editor..."})})})}function sa(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({title:null,subtitle:null,richTextContent:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const g=await x.get("/terms-privacy/terms/content");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{d(!1)}},c=async()=>{i(!0);try{(await x.put("/terms-privacy/terms/content",t)).success&&(alert("Terms and Conditions page saved successfully!"),s())}catch(g){alert(g.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Terms and Conditions"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Terms and Conditions page content"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Page Title",children:e.jsx("input",{type:"text",value:t.title||"",onChange:g=>a({...t,title:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Terms and Conditions"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("textarea",{value:t.subtitle||"",onChange:g=>a({...t,subtitle:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Please read these terms carefully before using our services"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content"}),e.jsx(Qe,{value:t.richTextContent??"",onChange:g=>a({...t,richTextContent:g||null}),label:"Page Content",placeholder:"Enter the full Terms and Conditions content here. Format text just like in Microsoft Word...",height:"600px"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[e.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-1"}),e.jsx("strong",{children:"Word-like Editor Active!"})]}),e.jsxs("ul",{className:"text-sm text-green-700 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Just like Microsoft Word:"})," Select text and use toolbar buttons or keyboard shortcuts"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bold:"})," Select text  Click ",e.jsx("strong",{children:"B"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+B"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Italic:"})," Select text  Click ",e.jsx("em",{children:"I"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+I"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Underline:"})," Select text  Click ",e.jsx("u",{children:"U"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+U"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Colors:"})," Select text  Click the color buttons in the toolbar"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Paste from Word:"})," Copy from Word and paste - all formatting will be preserved!"]})]})]})]})]})})]})}function aa(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({title:null,subtitle:null,richTextContent:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const g=await x.get("/terms-privacy/privacy/content");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{d(!1)}},c=async()=>{i(!0);try{(await x.put("/terms-privacy/privacy/content",t)).success&&(alert("Privacy Policy page saved successfully!"),s())}catch(g){alert(g.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the Privacy Policy page content"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-3",children:"Hero Section"}),e.jsx(m,{label:"Page Title",children:e.jsx("input",{type:"text",value:t.title||"",onChange:g=>a({...t,title:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Privacy Policy"})}),e.jsx(m,{label:"Subtitle",children:e.jsx("textarea",{value:t.subtitle||"",onChange:g=>a({...t,subtitle:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Your privacy is important to us. Learn how we protect your information."})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content"}),e.jsx(Qe,{value:t.richTextContent??"",onChange:g=>a({...t,richTextContent:g||null}),label:"Page Content",placeholder:"Enter the full Privacy Policy content here. Format text just like in Microsoft Word...",height:"600px"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:[e.jsxs("p",{className:"text-sm text-green-800 mb-2",children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-1"}),e.jsx("strong",{children:"Word-like Editor Active!"})]}),e.jsxs("ul",{className:"text-sm text-green-700 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Just like Microsoft Word:"})," Select text and use toolbar buttons or keyboard shortcuts"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bold:"})," Select text  Click ",e.jsx("strong",{children:"B"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+B"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Italic:"})," Select text  Click ",e.jsx("em",{children:"I"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+I"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Underline:"})," Select text  Click ",e.jsx("u",{children:"U"})," button or press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs border",children:"Ctrl+U"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Colors:"})," Select text  Click the color buttons in the toolbar"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Paste from Word:"})," Copy from Word and paste - all formatting will be preserved!"]})]})]})]})]})})]})}function ra(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({heroTitle:null,heroSubtitle:null,backgroundImageId:null,sectionBackgroundImageId:null,titleColor:"#FFFFFF",subtitleColor:"#FFFFFF",overlayOpacity:40}),[s,c]=o.useState([]),[g,f]=o.useState(!1),[j,v]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{d(!0);try{const[p,T]=await Promise.all([x.get("/faqs/page",{params:{include:"backgroundImage,sectionBackgroundImage"}}),x.get("/faqs/items")]);p.success&&p.data&&a(p.data),T.success&&T.data&&c(T.data.sort((A,k)=>A.orderIndex-k.orderIndex))}catch(p){console.error("Error fetching data:",p),alert(p.message||"Failed to load data")}finally{d(!1)}},b=async()=>{i(!0);try{(await x.put("/faqs/page",t)).success&&(alert("FAQs page saved successfully!"),C())}catch(p){alert(p.message||"Failed to save")}finally{i(!1)}},I=async p=>{try{j?await x.put(`/faqs/items/${j.id}`,p):await x.post("/faqs/items",{...p,orderIndex:s.length,isActive:!0}),C(),f(!1),v(null)}catch(T){alert(T.message||"Failed to save FAQ item")}},y=async p=>{if(confirm("Are you sure you want to delete this FAQ item?"))try{await x.delete(`/faqs/items/${p}`),C()}catch(T){alert(T.message||"Failed to delete FAQ item")}},P=async p=>{try{const T=p.map((A,k)=>({id:A.id,orderIndex:k}));await x.post("/faqs/items/reorder",{items:T}),c(p)}catch(T){alert(T.message||"Failed to reorder FAQs"),C()}};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-medium mb-6",children:"FAQs Page Management"}),e.jsxs("div",{className:"border-b pb-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Hero Section"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Hero Title",children:e.jsx("input",{type:"text",value:t.heroTitle||"",onChange:p=>a({...t,heroTitle:p.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title"})}),e.jsx(m,{label:"Hero Subtitle",children:e.jsx("textarea",{value:t.heroSubtitle||"",onChange:p=>a({...t,heroSubtitle:p.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero subtitle"})}),e.jsx(B,{value:t.backgroundImageId,onChange:p=>a({...t,backgroundImageId:p}),label:"Hero Background Image",currentImage:t.backgroundImage?{filePath:t.backgroundImage.filePath,fileName:t.backgroundImage.altText}:null}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(m,{label:"Title Color",children:e.jsx("input",{type:"color",value:t.titleColor,onChange:p=>a({...t,titleColor:p.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Subtitle Color",children:e.jsx("input",{type:"color",value:t.subtitleColor,onChange:p=>a({...t,subtitleColor:p.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(m,{label:"Overlay Opacity (%)",children:e.jsx("input",{type:"number",min:"0",max:"100",value:t.overlayOpacity,onChange:p=>a({...t,overlayOpacity:parseInt(p.target.value)||40}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx("button",{onClick:b,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Hero Section"})]})]}),e.jsxs("div",{className:"border-b pb-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"FAQs Section Background"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{value:t.sectionBackgroundImageId,onChange:p=>a({...t,sectionBackgroundImageId:p}),label:"Section Background Image (PNG)",currentImage:t.sectionBackgroundImage?{filePath:t.sectionBackgroundImage.filePath,fileName:t.sectionBackgroundImage.altText}:null}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background PNG image for the FAQs section (the section with image and questions)."]}),e.jsx("button",{onClick:b,disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Section Background"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"FAQs Items"}),e.jsxs("button",{onClick:()=>{v(null),f(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add FAQ Item"]})]}),s.length>0?e.jsx(K,{items:s,onReorder:P,renderItem:p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold text-sm",children:String(p.orderIndex+1).padStart(2,"0")}),e.jsx("h4",{className:"font-semibold text-gray-900",children:p.question})]}),e.jsx("p",{className:"text-sm text-gray-600 ml-11 line-clamp-2",children:p.answer})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{v(p),f(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(p.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:'No FAQs items yet. Click "Add FAQ Item" to get started.'})})]})]}),g&&e.jsx(la,{item:j,onSave:I,onClose:()=>{f(!1),v(null)},saving:n})]})}function la({item:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState({question:r?.question||"",answer:r?.answer||"",imageId:r?.imageId||null});return e.jsx(Q,{isOpen:!0,onClose:n,title:r?"Edit FAQ Item":"Add FAQ Item",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Question",required:!0,children:e.jsx("input",{type:"text",value:t.question,onChange:s=>a({...t,question:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter question"})}),e.jsx(m,{label:"Answer",required:!0,children:e.jsx("textarea",{value:t.answer,onChange:s=>a({...t,answer:s.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter answer"})}),e.jsx(B,{value:t.imageId,onChange:s=>a({...t,imageId:s}),label:"FAQ Image (Displayed on left side)",currentImage:r?.image?{filePath:r.image.filePath,fileName:r.image.altText}:null}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"This image will be displayed on the left side of the FAQs section. The first FAQ item's image will be used."]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.question||!t.answer,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ia(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({companyName:"",addressLine1:null,addressLine2:null,city:null,state:null,postalCode:null,country:null,phone:null,email:null,supportEmail:null,googleMapsEmbedUrl:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const g=await x.get("/contact-info");g.success&&g.data&&a(g.data)}catch(g){alert(g.message||"Failed to load")}finally{d(!1)}},c=async()=>{i(!0);try{await x.put("/contact-info",t),alert("Contact info saved successfully!")}catch(g){alert(g.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Contact Information"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage company contact details"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(m,{label:"Company Name",required:!0,children:e.jsx("input",{type:"text",value:t.companyName,onChange:g=>a({...t,companyName:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"tel",value:t.phone||"",onChange:g=>a({...t,phone:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:g=>a({...t,email:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Support Email",children:e.jsx("input",{type:"email",value:t.supportEmail||"",onChange:g=>a({...t,supportEmail:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Address Line 1",children:e.jsx("input",{type:"text",value:t.addressLine1||"",onChange:g=>a({...t,addressLine1:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Address Line 2",children:e.jsx("input",{type:"text",value:t.addressLine2||"",onChange:g=>a({...t,addressLine2:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"City",children:e.jsx("input",{type:"text",value:t.city||"",onChange:g=>a({...t,city:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"State",children:e.jsx("input",{type:"text",value:t.state||"",onChange:g=>a({...t,state:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Postal Code",children:e.jsx("input",{type:"text",value:t.postalCode||"",onChange:g=>a({...t,postalCode:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Country",children:e.jsx("input",{type:"text",value:t.country||"",onChange:g=>a({...t,country:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"Google Maps Embed URL",children:e.jsx("textarea",{value:t.googleMapsEmbedUrl||"",onChange:g=>a({...t,googleMapsEmbedUrl:g.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Paste Google Maps embed iframe code here"})})})]})})]})}function na(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState([]),[s,c]=o.useState(!1),[g,f]=o.useState(null);o.useEffect(()=>{j()},[]);const j=async()=>{d(!0);try{const b=await x.get("/global-settings");b.success&&b.data&&a(b.data)}catch(b){alert(b.message||"Failed to load")}finally{d(!1)}},v=async b=>{i(!0);try{b.id&&b.id>0?await x.put(`/global-settings/${b.id}`,b):await x.post("/global-settings",b),c(!1),f(null),j(),alert("Setting saved!")}catch(I){alert(I.message||"Failed to save")}finally{i(!1)}},C=async b=>{if(confirm("Delete this setting?")){i(!0);try{await x.delete(`/global-settings/${b}`),a(t.filter(I=>I.id!==b)),alert("Setting deleted!")}catch(I){alert(I.message||"Failed to delete")}finally{i(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Global Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage site-wide settings"})]}),e.jsxs("button",{onClick:()=>{f({id:0,settingKey:"",settingValue:null,settingType:"text",description:null}),c(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Setting"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-settings-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No settings yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx("div",{className:"space-y-3",children:t.map(b=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:b.settingKey}),b.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 bg-gray-50 p-2 rounded",children:b.settingValue||"(empty)"}),e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b.settingType})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{f(b),c(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>C(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},b.id))})}),s&&g&&e.jsx(oa,{setting:g,onSave:v,onClose:()=>{c(!1),f(null)},saving:n})]})}function oa({setting:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Setting":"Add Setting",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Setting Key",required:!0,hint:"Unique identifier (e.g., site_name)",children:e.jsx("input",{type:"text",value:t.settingKey,onChange:s=>a({...t,settingKey:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Setting Type",children:e.jsxs("select",{value:t.settingType,onChange:s=>a({...t,settingType:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"boolean",children:"Boolean"}),e.jsx("option",{value:"json",children:"JSON"})]})}),e.jsx(m,{label:"Setting Value",children:t.settingType==="boolean"?e.jsxs("select",{value:t.settingValue||"false",onChange:s=>a({...t,settingValue:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"true",children:"True"}),e.jsx("option",{value:"false",children:"False"})]}):t.settingType==="json"?e.jsx("textarea",{value:t.settingValue||"",onChange:s=>a({...t,settingValue:s.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'{"key": "value"}'}):e.jsx("input",{type:t.settingType==="number"?"number":"text",value:t.settingValue||"",onChange:s=>a({...t,settingValue:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(m,{label:"Description",children:e.jsx("input",{type:"text",value:t.description||"",onChange:s=>a({...t,description:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.settingKey,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function da(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState([]),[s,c]=o.useState(!1),[g,f]=o.useState(null);o.useEffect(()=>{j()},[]);const j=async()=>{d(!0);try{const I=await x.get("/social-links");I.success&&I.data&&a(I.data.sort((y,P)=>y.orderIndex-P.orderIndex))}catch(I){alert(I.message||"Failed to load")}finally{d(!1)}},v=async I=>{i(!0);try{for(let y=0;y<I.length;y++)await x.put(`/social-links/${I[y].id}`,{...I[y],orderIndex:y});a(I),alert("Order updated!")}catch(y){alert(y.message||"Failed to update")}finally{i(!1)}},C=async I=>{i(!0);try{I.id&&I.id>0?await x.put(`/social-links/${I.id}`,I):await x.post("/social-links",{...I,orderIndex:t.length}),c(!1),f(null),j(),alert("Social link saved!")}catch(y){alert(y.message||"Failed to save")}finally{i(!1)}},b=async I=>{if(confirm("Delete this social link?")){i(!0);try{await x.delete(`/social-links/${I}`),a(t.filter(y=>y.id!==I)),alert("Social link deleted!")}catch(y){alert(y.message||"Failed to delete")}finally{i(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Social Links"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage social media links"})]}),e.jsxs("button",{onClick:()=>{f({id:0,platform:"",url:null,iconClass:null,iconId:null,orderIndex:t.length,isActive:!0}),c(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Link"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-share-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No social links yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(K,{items:t,onReorder:v,keyExtractor:I=>I.id,renderItem:I=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[I.icon&&I.icon.filePath?e.jsx("img",{src:ye(I.icon),alt:I.platform,className:"w-8 h-8 object-contain"}):I.iconClass?e.jsx("i",{className:`${I.iconClass} text-2xl text-blue-600`}):null,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:I.platform}),I.url&&e.jsx("p",{className:"text-sm text-gray-600",children:I.url})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{f(I),c(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>b(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),s&&g&&e.jsx(ca,{link:g,onSave:C,onClose:()=>{c(!1),f(null)},saving:n})]})}function ca({link:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r);return e.jsx(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:t.platform,onChange:s=>a({...t,platform:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook"})}),e.jsx(m,{label:"URL",children:e.jsx("input",{type:"url",value:t.url||"",onChange:s=>a({...t,url:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsx(m,{label:"Icon (SVG Upload)",hint:"Upload SVG icon for this social link",children:e.jsx(B,{value:t.iconId||null,onChange:s=>a({...t,iconId:s||null}),label:""})}),e.jsxs(m,{label:"Icon Class (Optional)",hint:"RemixIcon class as fallback",children:[e.jsx("input",{type:"text",value:t.iconClass||"",onChange:s=>a({...t,iconClass:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-line"}),t.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:t.iconClass})]})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:s=>a({...t,isActive:s.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.platform,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ua(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState([]),[s,c]=o.useState(!1),[g,f]=o.useState(null),[j,v]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{d(!0);try{const p=await x.get("/testimonials",{params:{includeAll:"true"}});if(p.success&&p.data){const T=p.data.sort((A,k)=>A.orderIndex-k.orderIndex);a(T)}}catch(p){alert(p.message||"Failed to load")}finally{d(!1)}},b=async p=>{i(!0);try{for(let T=0;T<p.length;T++)await x.put(`/testimonials/${p[T].id}`,{...p[T],orderIndex:T});a(p),alert("Order updated!")}catch(T){alert(T.message||"Failed to update")}finally{i(!1)}},I=async p=>{i(!0);try{p.id&&p.id>0?await x.put(`/testimonials/${p.id}`,p):await x.post("/testimonials",{...p,orderIndex:t.length}),c(!1),f(null),C(),alert("Testimonial saved!")}catch(T){alert(T.message||"Failed to save")}finally{i(!1)}},y=async p=>{if(confirm("Delete this testimonial?")){i(!0);try{await x.delete(`/testimonials/${p}`),a(t.filter(T=>T.id!==p)),alert("Testimonial deleted!")}catch(T){alert(T.message||"Failed to delete")}finally{i(!1)}}},P=p=>p.clientImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${p.clientImage.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Testimonials"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer testimonials"})]}),e.jsxs("button",{onClick:()=>{f({id:0,clientName:"",clientPosition:null,clientCompany:null,clientImageId:null,testimonialText:"",rating:null,orderIndex:t.length,isFeatured:!1,isActive:!0}),c(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Testimonial"]})]})}),r?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-chat-quote-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No testimonials yet"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Drag and drop cards to reorder. Cards display 2 per view with auto-scrolling."]}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Total: ",t.length," testimonial",t.length!==1?"s":""]})]}),e.jsx(K,{items:t,onReorder:b,keyExtractor:p=>p.id,renderItem:p=>e.jsxs("div",{className:"flex items-start gap-4 w-full p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold",children:p.orderIndex+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[p.clientImage?e.jsx("img",{src:P(p),alt:p.clientName,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-gray-600 font-bold text-sm",children:(p.clientName||"C").charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:p.clientName}),p.clientPosition&&p.clientCompany?e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[p.clientPosition,", ",p.clientCompany]}):p.clientCompany?e.jsx("p",{className:"text-sm text-gray-600 truncate",children:p.clientCompany}):p.clientPosition?e.jsx("p",{className:"text-sm text-gray-600 truncate",children:p.clientPosition}):null]})]}),e.jsxs("p",{className:"text-sm text-gray-500 line-clamp-2 italic",children:['"',p.testimonialText,'"']})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.isFeatured&&e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",title:"Featured",children:e.jsx("i",{className:"ri-star-fill"})}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>v(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{f(p),c(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}),s&&g&&e.jsx(xa,{testimonial:g,onSave:I,onClose:()=>{c(!1),f(null)},saving:n}),j&&e.jsx(ga,{testimonial:j,onClose:()=>v(null),onEdit:()=>{f(j),v(null),c(!0)},getImageUrl:P})]})}function xa({testimonial:r,onSave:d,onClose:n,saving:i}){const[t,a]=o.useState(r),s="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";return e.jsxs(Q,{isOpen:!0,onClose:n,title:r.id>0?"Edit Testimonial Card":"Add Testimonial Card",size:"xl",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Card Structure"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Each testimonial card displays: Quote icon, testimonial text, client avatar, name, and affiliation."})]}),e.jsxs(m,{label:"Testimonial Text",required:!0,children:[e.jsx("textarea",{value:t.testimonialText,onChange:c=>a({...t,testimonialText:c.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter the testimonial quote text..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This text will appear in white italic font on the orange card"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:t.clientName,onChange:c=>a({...t,clientName:c.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Dr. John Doe"})}),e.jsx(m,{label:"Client Position",children:e.jsx("input",{type:"text",value:t.clientPosition||"",onChange:c=>a({...t,clientPosition:c.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Surgeon"})})]}),e.jsxs(m,{label:"Client Company / Affiliation",children:[e.jsx("input",{type:"text",value:t.clientCompany||"",onChange:c=>a({...t,clientCompany:c.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Hospital Name"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If position is provided, it will show as: "Position, Company"'})]}),e.jsxs(m,{label:"Client Avatar / Icon",children:[e.jsx(B,{value:t.clientImageId,onChange:c=>a({...t,clientImageId:c}),label:"Upload Avatar Image",aspectRatio:"1/1",currentImage:t.clientImage?{filePath:t.clientImage.filePath,fileName:t.clientImage.altText}:null}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a circular avatar/icon image. This will be displayed in a circular frame on the card."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{label:"Order Position",children:[e.jsx("input",{type:"number",min:"0",value:t.orderIndex,onChange:c=>a({...t,orderIndex:parseInt(c.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]}),e.jsx(m,{label:"Status",children:e.jsxs("select",{value:t.isActive?"active":"inactive",onChange:c=>a({...t,isActive:c.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(m,{label:"Featured",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isFeatured,onChange:c=>a({...t,isFeatured:c.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Mark as featured"})]})})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 sticky top-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Card Preview"}),e.jsxs("div",{className:"bg-[#FF6B35] p-6 rounded-lg text-white",children:[e.jsx("div",{className:"mb-4",children:e.jsx("i",{className:"ri-double-quotes-l text-5xl text-white/50"})}),e.jsx("p",{className:"text-white leading-relaxed mb-6 text-base italic min-h-[80px]",children:t.testimonialText||'"Your testimonial text will appear here..."'}),e.jsx("div",{className:"border-t border-white/30 pt-4 mt-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0 overflow-hidden",children:t.clientImage?.filePath?e.jsx("img",{src:`${s}${t.clientImage.filePath}`,alt:t.clientName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-white/30 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:(t.clientName||"C").charAt(0).toUpperCase()})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:t.clientName||"Client Name"}),t.clientPosition&&t.clientCompany?e.jsxs("p",{className:"text-sm text-white/90",children:[t.clientPosition,", ",t.clientCompany]}):t.clientCompany?e.jsx("p",{className:"text-sm text-white/90",children:t.clientCompany}):t.clientPosition?e.jsx("p",{className:"text-sm text-white/90",children:t.clientPosition}):e.jsx("p",{className:"text-sm text-white/60 italic",children:"Position, Company"})]})]})})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:e.jsx("strong",{children:"Card Features:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Orange background (#FF6B35)"}),e.jsx("li",{children:"White quotation marks icon"}),e.jsx("li",{children:"White italic testimonial text"}),e.jsx("li",{children:"Circular avatar with fallback initial"}),e.jsx("li",{children:"Client name in bold white"}),e.jsx("li",{children:"Position and company below name"})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>d(t),disabled:i||!t.clientName||!t.testimonialText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Testimonial Card"})]})]})}function ga({testimonial:r,onClose:d,onEdit:n,getImageUrl:i}){return e.jsx(Q,{isOpen:!0,onClose:d,title:"Testimonial Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[r.clientImage&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(r),alt:r.clientName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-900 mb-2",children:r.clientName}),r.clientPosition&&e.jsx("p",{className:"text-gray-700",children:r.clientPosition}),r.clientCompany&&e.jsx("p",{className:"text-blue-600",children:r.clientCompany})]}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 italic text-lg",children:['"',r.testimonialText,'"']})}),r.rating&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rating:"}),e.jsx("div",{className:"flex",children:[...Array(5)].map((t,a)=>e.jsx("i",{className:`ri-star-${a<r.rating?"fill":"line"} text-yellow-400`},a))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]})]})]})})}function ma(){const[r,d]=o.useState(!1),[n,i]=o.useState(!1),[t,a]=o.useState({heading:null,companyName:null,address:null,phone:null,phoneIconId:null,email:null,emailIconId:null,imageId:null,backgroundImageId:null});o.useEffect(()=>{s()},[]);const s=async()=>{d(!0);try{const g=await x.get("/reusable-contact-section");g.success&&g.data&&a(g.data)}catch(g){console.error("Error fetching content:",g),alert(g.message||"Failed to load content")}finally{d(!1)}},c=async()=>{i(!0);try{(await x.put("/reusable-contact-section",t)).success&&(alert("Reusable Contact Section saved successfully!"),s())}catch(g){alert(g.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Reusable Contact Us Component"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage the reusable contact section used across multiple pages"})]}),e.jsx("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:n?"Saving...":"Save Changes"})]})}),r?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"Heading",children:e.jsx("input",{type:"text",value:t.heading||"",onChange:g=>a({...t,heading:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})}),e.jsx(m,{label:"Company Name",children:e.jsx("input",{type:"text",value:t.companyName||"",onChange:g=>a({...t,companyName:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ADONIS MEDICAL SYSTEMS PVT LTD"})}),e.jsx(m,{label:"Address",children:e.jsx("textarea",{value:t.address||"",onChange:g=>a({...t,address:g.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Phone",children:e.jsx("input",{type:"text",value:t.phone||"",onChange:g=>a({...t,phone:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9872003273"})}),e.jsx(B,{value:t.phoneIconId,onChange:g=>a({...t,phoneIconId:g}),label:"Phone Icon",currentImage:t.phoneIcon?{filePath:t.phoneIcon.filePath,fileName:t.phoneIcon.altText}:null})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Email",children:e.jsx("input",{type:"email",value:t.email||"",onChange:g=>a({...t,email:g.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"support@adonismedical.com"})}),e.jsx(B,{value:t.emailIconId,onChange:g=>a({...t,emailIconId:g}),label:"Email Icon",currentImage:t.emailIcon?{filePath:t.emailIcon.filePath,fileName:t.emailIcon.altText}:null})]})]}),e.jsxs("div",{className:"border-t pt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(B,{value:t.backgroundImageId,onChange:g=>a({...t,backgroundImageId:g}),label:"Background Image (PNG)"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a PNG background image for the contact section."]})]}),e.jsxs("div",{children:[e.jsx(B,{value:t.imageId,onChange:g=>a({...t,imageId:g}),label:"Contact Section Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload an image to display on the right side of the contact section."]})]})]})]})})]})}function ha(){const[r,d]=o.useState("all"),[n,i]=o.useState("all"),[t,a]=o.useState(""),[s,c]=o.useState({start:"",end:""}),[g]=o.useState([{id:"1",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"update",page:"Home",section:"Hero Section",field:"Title",oldValue:"Welcome to Adonis Medical",newValue:"Affordable Diagnostic Imaging Solutions",timestamp:new Date("2025-01-15T10:30:00"),ipAddress:"192.168.1.100"},{id:"2",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"login",page:"Admin",section:"Authentication",timestamp:new Date("2025-01-15T09:00:00"),ipAddress:"192.168.1.100"},{id:"3",user:"Editor User",userEmail:"editor@adonismedical.com",action:"create",page:"Products",section:"Product List",field:"New Product",newValue:"HF Mobile X-Ray System",timestamp:new Date("2025-01-14T15:45:00"),ipAddress:"192.168.1.101"},{id:"4",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"delete",page:"Awards",section:"Awards List",field:"Award Item",oldValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:20:00"),ipAddress:"192.168.1.100"},{id:"5",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"restore",page:"Awards",section:"Awards List",field:"Award Item",newValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:25:00"),ipAddress:"192.168.1.100"},{id:"6",user:"Editor User",userEmail:"editor@adonismedical.com",action:"update",page:"About",section:"Company Overview",field:"Description",oldValue:"We are a leading manufacturer...",newValue:"Adonis Medical Systems, a professionally managed...",timestamp:new Date("2025-01-13T11:30:00"),ipAddress:"192.168.1.101"}]),f={create:"bg-green-100 text-green-800",update:"bg-blue-100 text-blue-800",delete:"bg-red-100 text-red-800",restore:"bg-purple-100 text-purple-800",login:"bg-gray-100 text-gray-800",logout:"bg-gray-100 text-gray-800"},j={create:"ri-add-circle-line",update:"ri-edit-line",delete:"ri-delete-bin-line",restore:"ri-restart-line",login:"ri-login-box-line",logout:"ri-logout-box-line"},v=g.filter(b=>{const I=r==="all"||b.action===r,y=n==="all"||b.page===n,P=t===""||b.user.toLowerCase().includes(t.toLowerCase())||b.userEmail.toLowerCase().includes(t.toLowerCase())||b.page.toLowerCase().includes(t.toLowerCase())||b.section.toLowerCase().includes(t.toLowerCase());return I&&y&&P}),C=()=>{const b=[["Timestamp","User","Email","Action","Page","Section","Field","Old Value","New Value","IP Address"],...v.map(p=>[p.timestamp.toISOString(),p.user,p.userEmail,p.action,p.page,p.section,p.field||"",p.oldValue||"",p.newValue||"",p.ipAddress])].map(p=>p.join(",")).join("\\n"),I=new Blob([b],{type:"text/csv"}),y=window.URL.createObjectURL(I),P=document.createElement("a");P.href=y,P.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,P.click()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Activity Logs"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track all user actions and changes"})]}),e.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line"}),e.jsx("span",{children:"Export Logs"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:b=>a(b.target.value),placeholder:"Search user, email, page...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),e.jsxs("select",{value:r,onChange:b=>d(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Actions"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"restore",children:"Restore"}),e.jsx("option",{value:"login",children:"Login"}),e.jsx("option",{value:"logout",children:"Logout"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsxs("select",{value:n,onChange:b=>i(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Pages"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"About",children:"About"}),e.jsx("option",{value:"Products",children:"Products"}),e.jsx("option",{value:"Awards",children:"Awards"}),e.jsx("option",{value:"Careers",children:"Careers"}),e.jsx("option",{value:"Contact",children:"Contact"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:s.start,onChange:b=>c({...s,start:b.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx("input",{type:"date",value:s.end,onChange:b=>c({...s,end:b.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.timestamp.toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.user}),e.jsx("div",{className:"text-xs text-gray-500",children:b.userEmail})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f[b.action]}`,children:[e.jsx("i",{className:`${j[b.action]} mr-1`}),b.action.charAt(0).toUpperCase()+b.action.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.page}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.section}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b.field&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:b.field}),b.oldValue&&e.jsxs("div",{className:"text-xs text-red-600",children:[e.jsx("span",{className:"font-medium",children:"From:"})," ",b.oldValue.substring(0,50),b.oldValue.length>50?"...":""]}),b.newValue&&e.jsxs("div",{className:"text-xs text-green-600",children:[e.jsx("span",{className:"font-medium",children:"To:"})," ",b.newValue.substring(0,50),b.newValue.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.ipAddress})]},b.id))})]})}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-file-list-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No activity logs found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Actions"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:g.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-bar-chart-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Updates"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:g.filter(b=>b.action==="update").length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-edit-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Deletions"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:g.filter(b=>b.action==="delete").length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Logins"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:g.filter(b=>b.action==="login").length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-login-box-line text-2xl text-purple-600"})})]})})]})]})}function pa(){const[r,d]=o.useState([]),[n,i]=o.useState("all"),[t,a]=o.useState([{id:"1",type:"award",page:"Awards",section:"Awards List",title:"Best Innovation Award 2023",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-14T14:20:00"),data:{year:"2023",category:"Innovation",organization:"Healthcare Excellence Awards",description:"Recognized for breakthrough innovations in medical imaging technology"}},{id:"2",type:"product",page:"Products",section:"Product List",title:"Legacy X-Ray System",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-13T10:15:00"),data:{category:"X-Ray Systems",description:"Discontinued product line"}},{id:"3",type:"job",page:"Careers",section:"Job Openings",title:"Senior Software Engineer",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-12T16:30:00"),data:{department:"Engineering",location:"Mohali, India",type:"Full-time"}},{id:"4",type:"page-section",page:"Home",section:"Testimonials",title:"Customer Testimonial - Dr. Smith",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-11T09:45:00"),data:{author:"Dr. John Smith",content:"Excellent equipment and service..."}}]),s={"page-section":"ri-file-text-line",product:"ri-product-hunt-line",award:"ri-award-line",job:"ri-briefcase-line",client:"ri-user-heart-line",document:"ri-file-line"},c={"page-section":"bg-blue-100 text-blue-800",product:"bg-green-100 text-green-800",award:"bg-yellow-100 text-yellow-800",job:"bg-purple-100 text-purple-800",client:"bg-pink-100 text-pink-800",document:"bg-gray-100 text-gray-800"},g=n==="all"?t:t.filter(P=>P.type===n),f=()=>{r.length===g.length?d([]):d(g.map(P=>P.id))},j=P=>{d(p=>p.includes(P)?p.filter(T=>T!==P):[...p,P])},v=P=>{const p=t.find(T=>T.id===P);p&&(alert(`Restored: ${p.title}`),a(T=>T.filter(A=>A.id!==P)),d(T=>T.filter(A=>A!==P)))},C=()=>{r.length!==0&&confirm(`Restore ${r.length} selected item(s)?`)&&(a(P=>P.filter(p=>!r.includes(p.id))),d([]),alert(`${r.length} item(s) restored successfully!`))},b=P=>{const p=t.find(T=>T.id===P);p&&confirm(`Permanently delete "${p.title}"? This action cannot be undone.`)&&(a(T=>T.filter(A=>A.id!==P)),d(T=>T.filter(A=>A!==P)),alert("Item permanently deleted"))},I=()=>{t.length!==0&&confirm(`Permanently delete all ${t.length} item(s)? This action cannot be undone.`)&&(a([]),d([]),alert("Recycle bin emptied successfully"))},y=P=>{const p=Math.floor((new Date().getTime()-P.getTime())/864e5);return p===0?"Today":p===1?"Yesterday":`${p} days ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Recycle Bin"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," deleted item(s)  Items are kept for 30 days"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[r.length>0&&e.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsxs("span",{children:["Restore Selected (",r.length,")"]})]}),e.jsxs("button",{onClick:I,disabled:t.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Empty Bin"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n==="all"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Items (",t.length,")"]}),e.jsxs("button",{onClick:()=>i("page-section"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n==="page-section"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Page Sections (",t.filter(P=>P.type==="page-section").length,")"]}),e.jsxs("button",{onClick:()=>i("product"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n==="product"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Products (",t.filter(P=>P.type==="product").length,")"]}),e.jsxs("button",{onClick:()=>i("award"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n==="award"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Awards (",t.filter(P=>P.type==="award").length,")"]}),e.jsxs("button",{onClick:()=>i("job"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${n==="job"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Jobs (",t.filter(P=>P.type==="job").length,")"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:g.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.length===g.length,onChange:f,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Select All"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(P=>e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("input",{type:"checkbox",checked:r.includes(P.id),onChange:()=>j(P.id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${c[P.type]}`,children:e.jsx("i",{className:`${s[P.type]} text-xl`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:P.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${c[P.type]}`,children:P.type.replace("-"," ")}),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:[P.page," / ",P.section]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Deleted by ",P.deletedBy,"  ",y(P.deletedAt)]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>v(P.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>b(P.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Delete"})]})]})]})})]})},P.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-delete-bin-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Recycle bin is empty"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Deleted items will appear here"})]})})]})}function ba(){const[r,d]=o.useState("all"),[n,i]=o.useState("all"),[t,a]=o.useState(!1),[s,c]=o.useState([]),[g]=o.useState([{id:"1",page:"Home",section:"Hero Section",versionNumber:5,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-15T10:30:00"),changes:["Updated title text","Changed background image","Modified button color"],data:{title:"Affordable Diagnostic Imaging Solutions",subtitle:"Leading manufacturer of high-quality X-ray systems",backgroundImage:"https://example.com/hero-bg.jpg"}},{id:"2",page:"Home",section:"Hero Section",versionNumber:4,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-14T15:20:00"),changes:["Updated subtitle","Changed overlay opacity"],data:{title:"Welcome to Adonis Medical",subtitle:"Quality medical imaging solutions",backgroundImage:"https://example.com/hero-bg-old.jpg"}},{id:"3",page:"About",section:"Company Overview",versionNumber:3,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-13T11:45:00"),changes:["Added new paragraph","Updated bullet points"],data:{paragraphs:["Updated company description..."],bulletPoints:["Innovation","Quality","Service"]}},{id:"4",page:"Products",section:"Product List",versionNumber:8,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-12T09:15:00"),changes:["Added new product","Updated product images"],data:{products:["HF Mobile","C-ARM","Digital Radiography"]}}]),f=["all",...Array.from(new Set(g.map(y=>y.page)))],j=r==="all"?["all"]:["all",...Array.from(new Set(g.filter(y=>y.page===r).map(y=>y.section)))],v=g.filter(y=>{const P=r==="all"||y.page===r,p=n==="all"||y.section===n;return P&&p}),C=y=>{s.includes(y)?c(P=>P.filter(p=>p!==y)):s.length<2&&c(P=>[...P,y])},b=y=>{confirm(`Restore ${y.page} - ${y.section} to version ${y.versionNumber}?`)&&alert(`Restored to version ${y.versionNumber}`)},I=()=>{s.length===2&&alert("Opening comparison view...")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-gray-900",children:"Version History"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and restore previous versions of your content"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:y=>{a(y.target.checked),y.target.checked||c([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compare Mode"})]}),t&&s.length===2&&e.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-git-compare-line"}),e.jsx("span",{children:"Compare Versions"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsx("select",{value:r,onChange:y=>{d(y.target.value),i("all")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:f.map(y=>e.jsx("option",{value:y,children:y==="all"?"All Pages":y},y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),e.jsx("select",{value:n,onChange:y=>i(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:j.map(y=>e.jsx("option",{value:y,children:y==="all"?"All Sections":y},y))})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Version Timeline"}),v.length>0?e.jsx("div",{className:"space-y-6",children:v.map((y,P)=>e.jsxs("div",{className:"relative",children:[P!==v.length-1&&e.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"flex items-start space-x-4",children:[t&&e.jsx("input",{type:"checkbox",checked:s.includes(y.id),onChange:()=>C(y.id),disabled:!s.includes(y.id)&&s.length>=2,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"relative z-10 flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:["v",y.versionNumber]}),e.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:[y.page," - ",y.section]}),e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:["Version ",y.versionNumber]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[y.createdAt.toLocaleString(),"  by ",y.createdBy]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Changes:"}),e.jsx("ul",{className:"space-y-1",children:y.changes.map((p,T)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-start",children:[e.jsx("i",{className:"ri-arrow-right-s-line text-blue-500 mt-0.5"}),e.jsx("span",{children:p})]},T))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>alert("Opening preview..."),className:"flex items-center space-x-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-eye-line"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>b(y),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]})]})]})})]})]},y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-history-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No version history found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Versions"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:g.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-git-branch-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pages Tracked"}),e.jsx("p",{className:"text-2xl font-medium text-gray-900 mt-1",children:new Set(g.map(y=>y.page)).size})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-list-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Latest Update"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 mt-1",children:g[0]?.createdAt.toLocaleDateString()})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-purple-600"})})]})})]})]})}function va(){Je();const{user:r,logout:d}=We(),[n,i]=o.useState("home");o.useEffect(()=>{window.scrollTo(0,0),Ke.init({duration:600,once:!0,easing:"ease-out-cubic"})},[]);const t=()=>{d()},a=[{id:"home",label:"Home",icon:"ri-home-line"},{id:"header-footer",label:"Header & Footer",icon:"ri-layout-line"},{id:"about",label:"About",icon:"ri-information-line"},{id:"products",label:"Products",icon:"ri-product-hunt-line"},{id:"our-products",label:"Our Products",icon:"ri-shopping-bag-line"},{id:"awards",label:"Awards",icon:"ri-award-line"},{id:"careers",label:"Careers",icon:"ri-briefcase-line"},{id:"specialties",label:"Specialties",icon:"ri-stethoscope-line"},{id:"investors",label:"Investors",icon:"ri-line-chart-line"},{id:"clients",label:"Clients",icon:"ri-user-heart-line"},{id:"management",label:"Management",icon:"ri-team-line"},{id:"presence",label:"Our Presence",icon:"ri-map-2-line"},{id:"production",label:"Production",icon:"ri-factory-line"},{id:"quality",label:"Quality Assurance",icon:"ri-shield-check-line"},{id:"demo",label:"Request Demo",icon:"ri-calendar-check-line"},{id:"contact",label:"Contact",icon:"ri-mail-line"},{id:"contact-info",label:"Contact Info",icon:"ri-contacts-line"},{id:"reusable-contact",label:"Reusable Contact",icon:"ri-mail-send-line"},{id:"terms",label:"Terms & Conditions",icon:"ri-file-text-line"},{id:"privacy",label:"Privacy Policy",icon:"ri-shield-check-line"},{id:"faqs",label:"FAQs",icon:"ri-question-line"},{id:"global-settings",label:"Global Settings",icon:"ri-settings-3-line"},{id:"social-links",label:"Social Links",icon:"ri-share-line"},{id:"testimonials",label:"Testimonials",icon:"ri-chat-quote-line"},{id:"users",label:"Users",icon:"ri-user-settings-line"},{id:"smtp",label:"SMTP",icon:"ri-mail-settings-line"},{id:"logs",label:"Activity Logs",icon:"ri-file-list-3-line"},{id:"bin",label:"Recycle Bin",icon:"ri-delete-bin-line"},{id:"versions",label:"Version History",icon:"ri-history-line"}];return e.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[e.jsxs("div",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:je("2024/09/logo_adonis_4x-1.svg"),alt:"Adonis Medical",className:"h-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#2563EB]",children:"Admin Dashboard"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Content Management System"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-[#1F2937]",children:["Welcome, ",e.jsx("span",{className:"text-[#2563EB]",children:r?.email||r?.fullName||"Admin"})]})}),e.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 bg-[#EF4444] text-white rounded-lg hover:bg-[#DC2626] transition-all duration-300 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line"}),e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:a.map(s=>e.jsxs("button",{onClick:()=>i(s.id),className:`flex items-center space-x-2 px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${n===s.id?"text-[#2563EB] border-[#2563EB] bg-gradient-to-b from-[#EFF6FF] to-transparent":"text-[#6B7280] border-transparent hover:text-[#2563EB] hover:bg-[#F9FAFB]"}`,children:[e.jsx("i",{className:`${s.icon} text-lg`}),e.jsx("span",{children:s.label})]},s.id))})})]}),e.jsxs("div",{className:"p-6",children:[n==="home"&&e.jsx(Ye,{}),n==="header-footer"&&e.jsx(dt,{}),n==="about"&&e.jsx(bt,{}),n==="products"&&e.jsx(ts,{}),n==="our-products"&&e.jsx(Us,{}),n==="awards"&&e.jsx(ss,{}),n==="careers"&&e.jsx(is,{}),n==="specialties"&&e.jsx(gs,{}),n==="investors"&&e.jsx(vs,{}),n==="clients"&&e.jsx(Ns,{}),n==="management"&&e.jsx(Ss,{}),n==="presence"&&e.jsx(As,{}),n==="production"&&e.jsx(Es,{}),n==="quality"&&e.jsx(Ts,{}),n==="demo"&&e.jsx($s,{}),n==="contact"&&e.jsx(us,{}),n==="contact-info"&&e.jsx(ia,{}),n==="reusable-contact"&&e.jsx(ma,{}),n==="terms"&&e.jsx(sa,{}),n==="privacy"&&e.jsx(aa,{}),n==="faqs"&&e.jsx(ra,{}),n==="global-settings"&&e.jsx(na,{}),n==="social-links"&&e.jsx(da,{}),n==="testimonials"&&e.jsx(ua,{}),n==="users"&&e.jsx(yt,{}),n==="smtp"&&e.jsx(xs,{}),n==="logs"&&e.jsx(ha,{}),n==="bin"&&e.jsx(pa,{}),n==="versions"&&e.jsx(ba,{})]})]})}export{va as default};
//# sourceMappingURL=page-CN-oYZIF.js.map
