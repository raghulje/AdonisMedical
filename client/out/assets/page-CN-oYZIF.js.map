{"version":3,"file":"page-CN-oYZIF.js","sources":["../../src/components/cms/Modal.tsx","../../src/components/cms/FormField.tsx","../../src/components/cms/DragDropList.tsx","../../src/components/cms/ImageSelector.tsx","../../src/pages/admin/dashboard/components/HomePageManagement.tsx","../../src/pages/admin/dashboard/components/HeaderFooterManagement.tsx","../../src/pages/admin/dashboard/components/AboutPageManagement.tsx","../../src/pages/admin/dashboard/components/UserManagement.tsx","../../src/pages/admin/dashboard/components/products/HfMobilePageManagement.tsx","../../src/pages/admin/dashboard/components/products/HfFixedPageManagement.tsx","../../src/pages/admin/dashboard/components/products/FpdCArmPageManagement.tsx","../../src/pages/admin/dashboard/components/products/HfCArm1kPageManagement.tsx","../../src/pages/admin/dashboard/components/products/LineFrequencyPageManagement.tsx","../../src/pages/admin/dashboard/components/products/DigitalRadiographyPageManagement.tsx","../../src/pages/admin/dashboard/components/products/DreamSeriesPageManagement.tsx","../../src/pages/admin/dashboard/components/ProductsPageManagement.tsx","../../src/pages/admin/dashboard/components/AwardsPageManagement.tsx","../../src/pages/admin/dashboard/components/CareersPageManagement.tsx","../../src/pages/admin/dashboard/components/ContactPageManagement.tsx","../../src/pages/admin/dashboard/components/SMTPConfiguration.tsx","../../src/pages/admin/dashboard/components/SpecialtiesPageManagement.tsx","../../src/pages/admin/dashboard/components/InvestorRelationsPageManagement.tsx","../../src/pages/admin/dashboard/components/ClientsPageManagement.tsx","../../src/pages/admin/dashboard/components/ManagementPageManagement.tsx","../../src/pages/admin/dashboard/components/OurPresencePageManagement.tsx","../../src/pages/admin/dashboard/components/ProductionFacilityPageManagement.tsx","../../src/pages/admin/dashboard/components/QualityAssurancePageManagement.tsx","../../src/pages/admin/dashboard/components/RequestDemoPageManagement.tsx","../../src/pages/admin/dashboard/components/OurProductsPageManagement.tsx","../../node_modules/prop-types/lib/ReactPropTypesSecret.js","../../node_modules/prop-types/factoryWithThrowingShims.js","../../node_modules/prop-types/index.js","../../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","../../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","../../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","../../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader2.js","../../node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","../../src/components/cms/WordLikeEditor.tsx","../../src/pages/admin/dashboard/components/TermsAndConditionsManagement.tsx","../../src/pages/admin/dashboard/components/PrivacyPolicyManagement.tsx","../../src/pages/admin/dashboard/components/FaqsManagement.tsx","../../src/pages/admin/dashboard/components/ContactInfoManagement.tsx","../../src/pages/admin/dashboard/components/GlobalSettingsManagement.tsx","../../src/pages/admin/dashboard/components/SocialLinksManagement.tsx","../../src/pages/admin/dashboard/components/TestimonialsManagement.tsx","../../src/pages/admin/dashboard/components/ReusableContactManagement.tsx","../../src/pages/admin/dashboard/components/ActivityLogsPage.tsx","../../src/pages/admin/dashboard/components/RecycleBinPage.tsx","../../src/pages/admin/dashboard/components/VersionHistoryPage.tsx","../../src/pages/admin/dashboard/page.tsx"],"sourcesContent":["import { ReactNode, useEffect } from 'react';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: ReactNode;\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\r\n  showCloseButton?: boolean;\r\n}\r\n\r\nexport default function Modal({ \r\n  isOpen, \r\n  onClose, \r\n  title, \r\n  children, \r\n  size = 'lg',\r\n  showCloseButton = true \r\n}: ModalProps) {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const sizeClasses = {\r\n    sm: 'max-w-md',\r\n    md: 'max-w-lg',\r\n    lg: 'max-w-2xl',\r\n    xl: 'max-w-4xl',\r\n    full: 'max-w-7xl'\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 z-50 overflow-y-auto\"\r\n      onClick={(e) => {\r\n        if (e.target === e.currentTarget) onClose();\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity bg-black bg-opacity-50\" aria-hidden=\"true\"></div>\r\n\r\n        <div className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${sizeClasses[size]}`}>\r\n          {/* Header */}\r\n          <div className=\"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900\">{title}</h3>\r\n            {showCloseButton && (\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-500 transition-colors cursor-pointer\"\r\n              >\r\n                <i className=\"ri-close-line text-2xl\"></i>\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"bg-white px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { ReactNode } from 'react';\r\n\r\ninterface FormFieldProps {\r\n  label: string;\r\n  required?: boolean;\r\n  error?: string;\r\n  hint?: string;\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function FormField({ label, required = false, error, hint, children }: FormFieldProps) {\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <label className=\"block text-sm font-medium text-gray-700\">\r\n        {label}\r\n        {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n      </label>\r\n      {children}\r\n      {hint && <p className=\"text-xs text-gray-500\">{hint}</p>}\r\n      {error && <p className=\"text-xs text-red-500\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\r\n\r\ninterface DragDropListProps<T> {\r\n  items: T[];\r\n  onReorder: (reorderedItems: T[]) => void;\r\n  renderItem: (item: T, index: number) => React.ReactNode;\r\n  keyExtractor: (item: T) => string | number;\r\n  emptyMessage?: string;\r\n}\r\n\r\nexport default function DragDropList<T>({ \r\n  items, \r\n  onReorder, \r\n  renderItem, \r\n  keyExtractor,\r\n  emptyMessage = 'No items yet. Add your first item!'\r\n}: DragDropListProps<T>) {\r\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\r\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\r\n\r\n  const handleDragStart = (index: number) => {\r\n    setDraggedIndex(index);\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent, index: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex === null || draggedIndex === index) return;\r\n    setDragOverIndex(index);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent, dropIndex: number) => {\r\n    e.preventDefault();\r\n    if (draggedIndex === null) return;\r\n\r\n    const newItems = [...items];\r\n    const [draggedItem] = newItems.splice(draggedIndex, 1);\r\n    newItems.splice(dropIndex, 0, draggedItem);\r\n\r\n    // Update orderIndex for each item\r\n    const reorderedItems = newItems.map((item: any, index) => ({\r\n      ...item,\r\n      orderIndex: index\r\n    }));\r\n\r\n    onReorder(reorderedItems);\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    setDraggedIndex(null);\r\n    setDragOverIndex(null);\r\n  };\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n        <i className=\"ri-inbox-line text-4xl text-gray-400 mb-2\"></i>\r\n        <p className=\"text-gray-500\">{emptyMessage}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {items.map((item, index) => (\r\n        <div\r\n          key={keyExtractor(item)}\r\n          draggable\r\n          onDragStart={() => handleDragStart(index)}\r\n          onDragOver={(e) => handleDragOver(e, index)}\r\n          onDrop={(e) => handleDrop(e, index)}\r\n          onDragEnd={handleDragEnd}\r\n          className={`\r\n            transition-all duration-200 cursor-move\r\n            ${draggedIndex === index ? 'opacity-50' : ''}\r\n            ${dragOverIndex === index ? 'transform translate-y-2 border-blue-400' : ''}\r\n          `}\r\n        >\r\n          <div className=\"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-md\">\r\n            <div className=\"text-gray-400 cursor-grab active:cursor-grabbing\">\r\n              <i className=\"ri-drag-move-2-line text-2xl\"></i>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              {renderItem(item, index)}\r\n            </div>\r\n            <div className=\"text-xs text-gray-400 font-medium\">\r\n              #{index + 1}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { api } from '../../utils/api';\r\nimport { getImageUrl, getDefaultImageUrl } from '../../utils/imageUrl';\r\n\r\ninterface ImageSelectorProps {\r\n  value: number | string | null; // Can be mediaId (number) or URL (string)\r\n  onChange: (value: number | string | null) => void;\r\n  label?: string;\r\n  required?: boolean;\r\n  aspectRatio?: string;\r\n  currentImage?: { filePath: string; fileName?: string } | null; // Pre-loaded image data from backend\r\n}\r\n\r\ntype InputMode = 'upload' | 'gallery' | 'url' | null;\r\n\r\nexport default function ImageSelector({ \r\n  value, \r\n  onChange, \r\n  label = 'Image',\r\n  required = false,\r\n  aspectRatio = '16/9',\r\n  currentImage = null\r\n}: ImageSelectorProps) {\r\n  const [uploading, setUploading] = useState(false);\r\n  const [preview, setPreview] = useState<string | null>(null);\r\n  const [inputMode, setInputMode] = useState<InputMode>(null);\r\n  const [urlInput, setUrlInput] = useState('');\r\n  const [gallery, setGallery] = useState<any[]>([]);\r\n  const [loadingGallery, setLoadingGallery] = useState(false);\r\n  const [galleryPage, setGalleryPage] = useState(1);\r\n  const [selectedMedia, setSelectedMedia] = useState<any | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Determine if value is a mediaId (number) or URL (string)\r\n  const isMediaId = typeof value === 'number';\r\n  const isUrl = typeof value === 'string' && (value.startsWith('http') || value.startsWith('/uploads'));\r\n\r\n  // Fetch gallery on mount and when page changes\r\n  useEffect(() => {\r\n    if (inputMode === 'gallery') {\r\n      fetchGallery();\r\n    }\r\n  }, [inputMode, galleryPage]);\r\n\r\n  // Update preview when value or currentImage changes\r\n  useEffect(() => {\r\n    // If we have pre-loaded image data, use it immediately\r\n    if (currentImage && currentImage.filePath && isMediaId && value) {\r\n      const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n      setPreview(`${baseUrl}${currentImage.filePath}`);\r\n      setSelectedMedia({\r\n        id: value,\r\n        fileName: currentImage.fileName || '',\r\n        filePath: currentImage.filePath\r\n      });\r\n    } else if (isMediaId && value) {\r\n      fetchMediaPreview(value);\r\n    } else if (isUrl && value) {\r\n      setPreview(value.startsWith('http') ? value : getDefaultImageUrl(value.replace('/uploads/', '')));\r\n    } else {\r\n      setPreview(null);\r\n      setSelectedMedia(null);\r\n    }\r\n  }, [value, currentImage]);\r\n\r\n  const fetchMediaPreview = async (mediaId: number) => {\r\n    try {\r\n      const response = await api.get(`/media/${mediaId}`);\r\n      if (response.success && response.data) {\r\n        const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n        setPreview(`${baseUrl}${response.data.filePath}`);\r\n        setSelectedMedia(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching media:', error);\r\n    }\r\n  };\r\n\r\n  const fetchGallery = async () => {\r\n    setLoadingGallery(true);\r\n    try {\r\n      const response = await api.get(`/media?fileType=image&page=${galleryPage}&limit=20`);\r\n      if (response.success && response.data) {\r\n        setGallery(response.data.media || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching gallery:', error);\r\n      alert('Failed to load gallery. Please try again.');\r\n    } finally {\r\n      setLoadingGallery(false);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n      \r\n      const token = localStorage.getItem('auth_token');\r\n      const response = await fetch(`${import.meta.env.VITE_API_URL?.replace('/api/v1', '')}/api/v1/upload/image`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token || ''}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success && data.mediaId) {\r\n        onChange(data.mediaId);\r\n        const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n        setPreview(`${baseUrl}${data.imageUrl}`);\r\n        setInputMode(null);\r\n      }\r\n      // Reset file input so it can be used again\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      alert('Failed to upload image. Please try again.');\r\n      // Reset file input on error too\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectFromGallery = (media: any) => {\r\n    onChange(media.id);\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    setPreview(`${baseUrl}${media.filePath}`);\r\n    setSelectedMedia(media);\r\n    setInputMode(null);\r\n  };\r\n\r\n  const handleUrlSubmit = () => {\r\n    if (urlInput.trim()) {\r\n      // If it's a full URL, store as string\r\n      // If it's a relative path like /uploads/2025/05/file.jpg, store as string\r\n      onChange(urlInput.trim());\r\n      setPreview(urlInput.startsWith('http') ? urlInput : getDefaultImageUrl(urlInput.replace('/uploads/', '')));\r\n      setUrlInput('');\r\n      setInputMode(null);\r\n    }\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    onChange(null);\r\n    setPreview(null);\r\n    setSelectedMedia(null);\r\n    setInputMode(null);\r\n  };\r\n\r\n  const getPreviewUrl = () => {\r\n    if (preview) return preview;\r\n    if (isMediaId && value) {\r\n      return `${import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002'}/placeholder`;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {label && (\r\n        <label className=\"block text-sm font-medium text-gray-700\">\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n        </label>\r\n      )}\r\n\r\n      {/* Preview */}\r\n      {getPreviewUrl() && (\r\n        <div className=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\r\n          <div className=\"relative group\">\r\n            <img \r\n              src={getPreviewUrl() || ''}\r\n              alt=\"Preview\"\r\n              className={`w-full rounded-lg object-cover ${aspectRatio === '16/9' ? 'aspect-video' : aspectRatio === '1/1' ? 'aspect-square' : ''}`}\r\n              style={{ maxHeight: '300px' }}\r\n            />\r\n            <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center\">\r\n              <div className=\"opacity-0 group-hover:opacity-100 flex space-x-2\">\r\n                <button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-edit-line mr-2\"></i>Change\r\n                </button>\r\n                <button\r\n                  onClick={handleRemove}\r\n                  className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-delete-bin-line mr-2\"></i>Remove\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {selectedMedia && (\r\n            <p className=\"mt-2 text-xs text-gray-500\">\r\n              {selectedMedia.fileName}\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Input Mode Selection */}\r\n      {!getPreviewUrl() || inputMode !== null ? (\r\n        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\r\n          {!inputMode ? (\r\n            <div className=\"text-center py-4\">\r\n              <p className=\"text-sm text-gray-500 mb-4\">Select image source:</p>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                <button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-upload-2-line mr-2\"></i>Upload\r\n                </button>\r\n                <button\r\n                  onClick={() => setInputMode('gallery')}\r\n                  className=\"px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-image-line mr-2\"></i>Gallery\r\n                </button>\r\n                <button\r\n                  onClick={() => setInputMode('url')}\r\n                  className=\"px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer flex items-center justify-center\"\r\n                >\r\n                  <i className=\"ri-links-line mr-2\"></i>URL\r\n                </button>\r\n              </div>\r\n              <button\r\n                onClick={() => setInputMode(null)}\r\n                className=\"mt-4 text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          ) : inputMode === 'upload' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Upload New Image</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              <button\r\n                onClick={() => fileInputRef.current?.click()}\r\n                className=\"w-full px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center\"\r\n              >\r\n                <i className=\"ri-upload-2-line mr-2\"></i>Choose File\r\n              </button>\r\n              {uploading && (\r\n                <div className=\"text-sm text-blue-600\">\r\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>Uploading...\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : inputMode === 'gallery' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Choose from Gallery</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              {loadingGallery ? (\r\n                <div className=\"text-center py-8\">\r\n                  <i className=\"ri-loader-4-line animate-spin text-2xl text-gray-400\"></i>\r\n                  <p className=\"text-sm text-gray-500 mt-2\">Loading gallery...</p>\r\n                </div>\r\n              ) : gallery.length === 0 ? (\r\n                <div className=\"text-center py-8 text-sm text-gray-500\">\r\n                  No images in gallery\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto\">\r\n                  {gallery.map((media) => {\r\n                    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n                    const mediaUrl = `${baseUrl}${media.filePath}`;\r\n                    return (\r\n                      <div\r\n                        key={media.id}\r\n                        onClick={() => handleSelectFromGallery(media)}\r\n                        className={`relative aspect-square cursor-pointer rounded-lg overflow-hidden border-2 ${\r\n                          selectedMedia?.id === media.id ? 'border-blue-500' : 'border-gray-200'\r\n                        } hover:border-blue-300`}\r\n                      >\r\n                        <img\r\n                          src={mediaUrl}\r\n                          alt={media.fileName}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : inputMode === 'url' ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h4 className=\"text-sm font-medium text-gray-700\">Enter Image URL</h4>\r\n                <button\r\n                  onClick={() => setInputMode(null)}\r\n                  className=\"text-sm text-gray-500 hover:text-gray-700 cursor-pointer\"\r\n                >\r\n                  <i className=\"ri-close-line\"></i>\r\n                </button>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={urlInput}\r\n                  onChange={(e) => setUrlInput(e.target.value)}\r\n                  placeholder=\"https://example.com/image.jpg or /uploads/2025/05/image.jpg\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleUrlSubmit()}\r\n                />\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={handleUrlSubmit}\r\n                    className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer\"\r\n                  >\r\n                    Use URL\r\n                  </button>\r\n                  {urlInput && (\r\n                    <div className=\"flex-1 border border-gray-200 rounded-lg p-2\">\r\n                      <img\r\n                        src={urlInput.startsWith('http') ? urlInput : getDefaultImageUrl(urlInput.replace('/uploads/', ''))}\r\n                        alt=\"Preview\"\r\n                        className=\"w-full h-20 object-cover rounded\"\r\n                        onError={(e) => {\r\n                          (e.target as HTMLImageElement).style.display = 'none';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-xs text-gray-500\">\r\n                  Supports local paths (/uploads/YYYY/MM/filename.jpg) or external URLs (https://...)\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center\">\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer\"\r\n          >\r\n            <i className=\"ri-edit-line mr-2\"></i>Change Image\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Hidden file input */}\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={handleFileUpload}\r\n        disabled={uploading}\r\n        className=\"hidden\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype SectionTab = 'hero' | 'about' | 'stats' | 'products' | 'quality' | 'specialties' | 'testimonials' | 'contact';\n\ninterface HeroSection {\n  id?: number;\n  title: string;\n  subtitle: string;\n  backgroundImageId: number | null;\n  titleColor: string;\n  subtitleColor: string;\n  overlayOpacity: number;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface AboutParagraph {\n  id: number;\n  content: string;\n  orderIndex: number;\n}\n\ninterface AboutSection {\n  id?: number;\n  title: string | null;\n  subtitle: string | null;\n  introText: string | null;\n  backgroundImageId: number | null;\n  mainImageId: number | null;\n  ctaText: string | null;\n  ctaUrl: string | null;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  mainImage?: {\n    filePath: string;\n    altText: string;\n  };\n  paragraphs?: AboutParagraph[];\n}\n\ninterface Stat {\n  id: number;\n  iconClass: string;\n  imageId: number | null;\n  number: string;\n  label: string;\n  orderIndex: number;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface QualitySection {\n  id?: number;\n  title: string;\n  content: string;\n  imageId: number | null;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface ProductsSection {\n  id?: number;\n  heading: string;\n  description: string;\n  ctaText: string;\n  ctaUrl: string;\n}\n\ninterface ProductsCard {\n  id: number;\n  name: string;\n  backgroundImageId: number | null;\n  cardImageId: number | null;\n  internalLink: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  cardImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface SpecialtiesSection {\n  id?: number;\n  heading: string;\n  description: string;\n  imageId: number | null;\n  ctaText: string;\n  ctaUrl: string;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface TestimonialsSection {\n  id?: number;\n  subtitle: string;\n  heading: string;\n}\n\ninterface ContactSection {\n  id?: number;\n  heading: string;\n  companyName: string;\n  address: string;\n  phone: string;\n  email: string;\n  imageId: number | null;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function HomePageManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('hero');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Hero Section\n  const [heroData, setHeroData] = useState<HeroSection>({\n    title: '',\n    subtitle: '',\n    backgroundImageId: null,\n    titleColor: '#FFFFFF',\n    subtitleColor: '#FFFFFF',\n    overlayOpacity: 40\n  });\n\n  // About Section\n  const [aboutData, setAboutData] = useState<AboutSection>({\n    title: null,\n    subtitle: null,\n    introText: null,\n    backgroundImageId: null,\n    mainImageId: null,\n    ctaText: null,\n    ctaUrl: null\n  });\n  const [aboutParagraphs, setAboutParagraphs] = useState<AboutParagraph[]>([]);\n  const [showParagraphModal, setShowParagraphModal] = useState(false);\n  const [editingParagraph, setEditingParagraph] = useState<AboutParagraph | null>(null);\n\n  // Stats\n  const [stats, setStats] = useState<Stat[]>([]);\n  const [showStatModal, setShowStatModal] = useState(false);\n  const [editingStat, setEditingStat] = useState<Stat | null>(null);\n\n  // Quality Section\n  const [qualityData, setQualityData] = useState<QualitySection>({\n    title: '',\n    content: '',\n    imageId: null\n  });\n\n  // Products Section\n  const [productsData, setProductsData] = useState<ProductsSection>({\n    heading: '',\n    description: '',\n    ctaText: '',\n    ctaUrl: ''\n  });\n  const [productsCards, setProductsCards] = useState<ProductsCard[]>([]);\n  const [showProductCardModal, setShowProductCardModal] = useState(false);\n  const [editingProductCard, setEditingProductCard] = useState<ProductsCard | null>(null);\n\n  // Specialties Section\n  const [specialtiesData, setSpecialtiesData] = useState<SpecialtiesSection>({\n    heading: '',\n    description: '',\n    imageId: null,\n    ctaText: '',\n    ctaUrl: ''\n  });\n\n  // Testimonials Section\n  const [testimonialsData, setTestimonialsData] = useState<TestimonialsSection>({\n    subtitle: '',\n    heading: ''\n  });\n\n  // Contact Section\n  const [contactData, setContactData] = useState<ContactSection>({\n    heading: '',\n    companyName: '',\n    address: '',\n    phone: '',\n    email: '',\n    imageId: null\n  });\n\n  const sectionTabs = [\n    { id: 'hero' as SectionTab, label: 'Hero Section', icon: 'ri-image-line' },\n    { id: 'about' as SectionTab, label: 'About Section', icon: 'ri-information-line' },\n    { id: 'stats' as SectionTab, label: 'Statistics', icon: 'ri-bar-chart-line' },\n    { id: 'products' as SectionTab, label: 'Products Section', icon: 'ri-shopping-bag-line' },\n    { id: 'quality' as SectionTab, label: 'Quality Section', icon: 'ri-shield-check-line' },\n    { id: 'specialties' as SectionTab, label: 'Specialties Section', icon: 'ri-medicine-bottle-line' },\n    { id: 'testimonials' as SectionTab, label: 'Testimonials Section', icon: 'ri-quote-text-line' },\n    { id: 'contact' as SectionTab, label: 'Contact Section', icon: 'ri-phone-line' }\n  ];\n\n  // Fetch data on mount and section change\n  useEffect(() => {\n    fetchSectionData();\n  }, [activeSection]);\n\n  const fetchSectionData = async () => {\n    setLoading(true);\n    try {\n      switch (activeSection) {\n        case 'hero':\n          const heroRes = await api.get<HeroSection>('/home-hero-section');\n          if (heroRes.success && heroRes.data) {\n            setHeroData(heroRes.data as HeroSection);\n          }\n          break;\n        case 'about':\n          const aboutRes = await api.get<AboutSection>('/home-about-section');\n          if (aboutRes.success && aboutRes.data) {\n            const data = aboutRes.data as AboutSection;\n            setAboutData({\n              id: data.id,\n              title: data.title || null,\n              subtitle: data.subtitle || null,\n              introText: data.introText || null,\n              backgroundImageId: data.backgroundImageId || null,\n              mainImageId: data.mainImageId || null,\n              ctaText: data.ctaText || null,\n              ctaUrl: data.ctaUrl || null,\n              backgroundImage: data.backgroundImage,\n              mainImage: data.mainImage\n            });\n            setAboutParagraphs(data.paragraphs || []);\n          } else {\n            // Initialize with empty values if no data exists\n            setAboutData({\n              title: null,\n              subtitle: null,\n              introText: null,\n              backgroundImageId: null,\n              mainImageId: null,\n              ctaText: null,\n              ctaUrl: null\n            });\n            setAboutParagraphs([]);\n          }\n          break;\n        case 'stats':\n          const statsRes = await api.get<Stat[]>('/home-stats');\n          if (statsRes.success && statsRes.data) {\n            setStats((statsRes.data as Stat[]).sort((a, b) => a.orderIndex - b.orderIndex));\n          }\n          break;\n        case 'products':\n          const productsRes = await api.get<ProductsSection>('/home-products-section');\n          if (productsRes.success && productsRes.data) {\n            setProductsData(productsRes.data as ProductsSection);\n          } else {\n            setProductsData({\n              heading: '',\n              description: '',\n              ctaText: '',\n              ctaUrl: ''\n            });\n          }\n          const productsCardsRes = await api.get<ProductsCard[]>('/home-products-cards');\n          if (productsCardsRes.success && productsCardsRes.data) {\n            setProductsCards((productsCardsRes.data as ProductsCard[]).sort((a, b) => a.orderIndex - b.orderIndex));\n          } else {\n            setProductsCards([]);\n          }\n          break;\n        case 'quality':\n          const qualityRes = await api.get<any>('/home-quality-section');\n          if (qualityRes.success && qualityRes.data) {\n            const data = qualityRes.data;\n            // Map backend fields to frontend interface\n            setQualityData({\n              id: data.id,\n              title: data.heading || data.title || '',\n              content: data.description || data.content || '',\n              imageId: data.backgroundImageId || data.imageId || null,\n              image: data.backgroundImage || data.image,\n            });\n          }\n          break;\n        case 'specialties':\n          const specialtiesRes = await api.get<SpecialtiesSection>('/home-specialties-section');\n          if (specialtiesRes.success && specialtiesRes.data) {\n            setSpecialtiesData(specialtiesRes.data as SpecialtiesSection);\n          }\n          break;\n        case 'testimonials':\n          const testimonialsRes = await api.get<TestimonialsSection>('/home-testimonials-section');\n          if (testimonialsRes.success && testimonialsRes.data) {\n            setTestimonialsData(testimonialsRes.data as TestimonialsSection);\n          }\n          break;\n        case 'contact':\n          const contactRes = await api.get<ContactSection>('/home-contact-section');\n          if (contactRes.success && contactRes.data) {\n            setContactData(contactRes.data as ContactSection);\n          }\n          break;\n      }\n    } catch (error: any) {\n      console.error('Error fetching data:', error);\n      alert(error.message || 'Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSaveHero = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-hero-section', heroData);\n      if (response.success) {\n        alert('Hero section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveAbout = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-about-section', { ...aboutData, paragraphs: aboutParagraphs });\n      if (response.success) {\n        alert('About section saved successfully!');\n        // Refresh the data\n        const aboutRes = await api.get<AboutSection>('/home-about-section');\n        if (aboutRes.success && aboutRes.data) {\n          const data = aboutRes.data as AboutSection;\n          setAboutData({\n            id: data.id,\n            title: data.title || null,\n            subtitle: data.subtitle || null,\n            introText: data.introText || null,\n            backgroundImageId: data.backgroundImageId || null,\n            mainImageId: data.mainImageId || null,\n            ctaText: data.ctaText || null,\n            ctaUrl: data.ctaUrl || null,\n            backgroundImage: data.backgroundImage,\n            mainImage: data.mainImage\n          });\n          setAboutParagraphs(data.paragraphs || []);\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveParagraph = async (paragraph: AboutParagraph) => {\n    setSaving(true);\n    try {\n      if (paragraph.id) {\n        await api.put(`/home-about-paragraphs/${paragraph.id}`, paragraph);\n      } else {\n        await api.post('/home-about-paragraphs', { ...paragraph, orderIndex: aboutParagraphs.length });\n      }\n      setShowParagraphModal(false);\n      setEditingParagraph(null);\n      fetchSectionData();\n      alert('Paragraph saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteParagraph = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this paragraph?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/home-about-paragraphs/${id}`);\n      setAboutParagraphs(aboutParagraphs.filter(p => p.id !== id));\n      alert('Paragraph deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderParagraphs = async (reorderedParagraphs: AboutParagraph[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedParagraphs.length; i++) {\n        await api.put(`/home-about-paragraphs/${reorderedParagraphs[i].id}`, {\n          ...reorderedParagraphs[i],\n          orderIndex: i\n        });\n      }\n      setAboutParagraphs(reorderedParagraphs);\n      alert('Paragraphs order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveStats = async (reorderedStats: Stat[]) => {\n    setSaving(true);\n    try {\n      // Update orderIndex for each stat\n      for (let i = 0; i < reorderedStats.length; i++) {\n        await api.put(`/home-stats/${reorderedStats[i].id}`, {\n          ...reorderedStats[i],\n          orderIndex: i\n        });\n      }\n      setStats(reorderedStats);\n      alert('Statistics order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveStat = async (stat: Stat) => {\n    setSaving(true);\n    try {\n      if (stat.id) {\n        await api.put(`/home-stats/${stat.id}`, stat);\n      } else {\n        await api.post('/home-stats', { ...stat, orderIndex: stats.length });\n      }\n      setShowStatModal(false);\n      setEditingStat(null);\n      fetchSectionData();\n      alert('Stat saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteStat = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this statistic?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/home-stats/${id}`);\n      setStats(stats.filter(s => s.id !== id));\n      alert('Stat deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveQuality = async () => {\n    setSaving(true);\n    try {\n      // Map frontend fields to backend fields\n      const payload = {\n        heading: qualityData.title || null,\n        description: qualityData.content || null,\n        backgroundImageId: qualityData.imageId || null,\n      };\n      const response = await api.put('/home-quality-section', payload);\n      if (response.success) {\n        alert('Quality section saved successfully!');\n        // Refresh the data\n        const qualityRes = await api.get<QualitySection>('/home-quality-section');\n        if (qualityRes.success && qualityRes.data) {\n          const data = qualityRes.data as any;\n          setQualityData({\n            id: data.id,\n            title: data.heading || data.title || '',\n            content: data.description || data.content || '',\n            imageId: data.backgroundImageId || data.imageId || null,\n            image: data.backgroundImage || data.image,\n          });\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveProducts = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-products-section', productsData);\n      if (response.success) {\n        alert('Products section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveProductCard = async (card: ProductsCard) => {\n    setSaving(true);\n    try {\n      if (card.id && card.id > 0) {\n        await api.put(`/home-products-cards/${card.id}`, card);\n      } else {\n        await api.post('/home-products-cards', { ...card, orderIndex: productsCards.length });\n      }\n      setShowProductCardModal(false);\n      setEditingProductCard(null);\n      const productsCardsRes = await api.get<ProductsCard[]>('/home-products-cards');\n      if (productsCardsRes.success && productsCardsRes.data) {\n        setProductsCards((productsCardsRes.data as ProductsCard[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n      alert('Product card saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save card');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteProductCard = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this product card?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/home-products-cards/${id}`);\n      setProductsCards(productsCards.filter(c => c.id !== id));\n      alert('Product card deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderProductCards = async (reorderedCards: ProductsCard[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedCards.length; i++) {\n        await api.put(`/home-products-cards/${reorderedCards[i].id}`, {\n          ...reorderedCards[i],\n          orderIndex: i\n        });\n      }\n      setProductsCards(reorderedCards);\n      alert('Product cards order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSpecialties = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-specialties-section', specialtiesData);\n      if (response.success) {\n        alert('Specialties section saved successfully!');\n        // Refresh the data\n        const specialtiesRes = await api.get<any>('/home-specialties-section');\n        if (specialtiesRes.success && specialtiesRes.data) {\n          const data = specialtiesRes.data;\n          setSpecialtiesData({\n            id: data.id,\n            heading: data.heading || '',\n            description: data.description || '',\n            imageId: data.imageId || null,\n            image: data.image,\n            ctaText: data.ctaText || '',\n            ctaUrl: data.ctaUrl || '',\n          });\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveTestimonials = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-testimonials-section', testimonialsData);\n      if (response.success) {\n        alert('Testimonials section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveContact = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/home-contact-section', contactData);\n      if (response.success) {\n        alert('Contact section saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Home Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage all sections of your home page</p>\n      </div>\n\n      {/* Section Tabs */}\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sectionTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveSection(tab.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === tab.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={tab.icon}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Section Content */}\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : (\n            <>\n              {activeSection === 'hero' && (\n                <HeroSectionEditor\n                  data={heroData}\n                  onChange={setHeroData}\n                  onSave={handleSaveHero}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'about' && (\n                <AboutSectionEditor\n                  data={aboutData}\n                  onChange={setAboutData}\n                  onSave={handleSaveAbout}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                  paragraphs={aboutParagraphs}\n                  onAddParagraph={() => {\n                    setEditingParagraph({\n                      id: 0,\n                      content: '',\n                      orderIndex: aboutParagraphs.length\n                    });\n                    setShowParagraphModal(true);\n                  }}\n                  onEditParagraph={(p) => {\n                    setEditingParagraph(p);\n                    setShowParagraphModal(true);\n                  }}\n                  onDeleteParagraph={handleDeleteParagraph}\n                  onReorderParagraphs={handleReorderParagraphs}\n                />\n              )}\n              {activeSection === 'stats' && (\n                <StatsSectionEditor\n                  stats={stats}\n                  onReorder={handleSaveStats}\n                  onEdit={(stat) => {\n                    setEditingStat(stat);\n                    setShowStatModal(true);\n                  }}\n                  onDelete={handleDeleteStat}\n                  onAdd={() => {\n                    setEditingStat({\n                      id: 0,\n                      iconClass: '',\n                      imageId: null,\n                      number: '',\n                      label: '',\n                      orderIndex: stats.length\n                    });\n                    setShowStatModal(true);\n                  }}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'products' && (\n                <ProductsSectionEditor\n                  data={productsData}\n                  onChange={setProductsData}\n                  onSave={handleSaveProducts}\n                  saving={saving}\n                  cards={productsCards}\n                  onAddCard={() => {\n                    setEditingProductCard({\n                      id: 0,\n                      name: '',\n                      backgroundImageId: null,\n                      cardImageId: null,\n                      internalLink: null,\n                      orderIndex: productsCards.length,\n                      isActive: true\n                    });\n                    setShowProductCardModal(true);\n                  }}\n                  onEditCard={(card) => {\n                    setEditingProductCard(card);\n                    setShowProductCardModal(true);\n                  }}\n                  onDeleteCard={handleDeleteProductCard}\n                  onReorderCards={handleReorderProductCards}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'quality' && (\n                <QualitySectionEditor\n                  data={qualityData}\n                  onChange={setQualityData}\n                  onSave={handleSaveQuality}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'specialties' && (\n                <SpecialtiesSectionEditor\n                  data={specialtiesData}\n                  onChange={setSpecialtiesData}\n                  onSave={handleSaveSpecialties}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n              {activeSection === 'testimonials' && (\n                <TestimonialsSectionEditor\n                  data={testimonialsData}\n                  onChange={setTestimonialsData}\n                  onSave={handleSaveTestimonials}\n                  saving={saving}\n                />\n              )}\n              {activeSection === 'contact' && (\n                <ContactSectionEditor\n                  data={contactData}\n                  onChange={setContactData}\n                  onSave={handleSaveContact}\n                  saving={saving}\n                  getImageUrl={getImageUrl}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Stat Modal */}\n      {showStatModal && editingStat && (\n        <StatModal\n          stat={editingStat}\n          onSave={handleSaveStat}\n          onClose={() => {\n            setShowStatModal(false);\n            setEditingStat(null);\n          }}\n          saving={saving}\n          getImageUrl={getImageUrl}\n        />\n      )}\n\n      {/* Paragraph Modal */}\n      {showParagraphModal && editingParagraph && (\n        <ParagraphModal\n          paragraph={editingParagraph}\n          onSave={handleSaveParagraph}\n          onClose={() => {\n            setShowParagraphModal(false);\n            setEditingParagraph(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {/* Product Card Modal */}\n      {showProductCardModal && editingProductCard && (\n        <ProductCardModal\n          card={editingProductCard}\n          onSave={handleSaveProductCard}\n          onClose={() => {\n            setShowProductCardModal(false);\n            setEditingProductCard(null);\n          }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\n// Hero Section Editor\nfunction HeroSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Hero Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Title\">\n          <input\n            type=\"text\"\n            value={data.title ?? ''}\n            onChange={(e) => onChange({ ...data, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero title (optional)\"\n          />\n        </FormField>\n\n        <FormField label=\"Subtitle\">\n          <input\n            type=\"text\"\n            value={data.subtitle ?? ''}\n            onChange={(e) => onChange({ ...data, subtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter subtitle\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={data.backgroundImageId}\n          onChange={(id) => onChange({ ...data, backgroundImageId: id })}\n          label=\"Background Image\"\n        />\n\n        <FormField label=\"Title Color\">\n          <input\n            type=\"color\"\n            value={data.titleColor ?? '#FFFFFF'}\n            onChange={(e) => onChange({ ...data, titleColor: e.target.value })}\n            className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\n          />\n        </FormField>\n\n        <FormField label=\"Subtitle Color\">\n          <input\n            type=\"color\"\n            value={data.subtitleColor ?? '#FFFFFF'}\n            onChange={(e) => onChange({ ...data, subtitleColor: e.target.value })}\n            className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\n          />\n        </FormField>\n\n        <FormField label=\"Overlay Opacity\" hint=\"0-100\">\n          <input\n            type=\"number\"\n            min=\"0\"\n            max=\"100\"\n            value={data.overlayOpacity ?? 40}\n            onChange={(e) => onChange({ ...data, overlayOpacity: parseInt(e.target.value) || 40 })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n      </div>\n\n      {/* Preview */}\n      {data.backgroundImage && (\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">Preview:</p>\n          <div className=\"relative rounded-lg overflow-hidden\" style={{ height: '300px' }}>\n            <img\n              src={getImageUrl(data.backgroundImage)}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n            />\n            <div\n              className=\"absolute inset-0 flex items-center justify-center text-center px-8\"\n              style={{\n                backgroundColor: `rgba(0,0,0,${data.overlayOpacity / 100})`\n              }}\n            >\n              <div>\n                <h1 style={{ color: data.titleColor }} className=\"text-3xl font-medium mb-2\">\n                  {data.title}\n                </h1>\n                <p style={{ color: data.subtitleColor }} className=\"text-lg\">\n                  {data.subtitle}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// About Section Editor\nfunction AboutSectionEditor({ \n  data, \n  onChange, \n  onSave, \n  saving, \n  getImageUrl,\n  paragraphs = [],\n  onAddParagraph,\n  onEditParagraph,\n  onDeleteParagraph,\n  onReorderParagraphs\n}: any) {\n  // Safety checks\n  const safeData = data || {};\n  const safeParagraphs = Array.isArray(paragraphs) ? paragraphs : [];\n  \n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">About Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Title\">\n            <input\n              type=\"text\"\n              value={safeData.title || ''}\n              onChange={(e) => onChange({ ...safeData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Section Title (optional)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Subtitle\">\n            <input\n              type=\"text\"\n              value={safeData.subtitle || ''}\n              onChange={(e) => onChange({ ...safeData, subtitle: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Section Subtitle (optional)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text (Fallback if no paragraphs)\">\n            <textarea\n              value={safeData.introText || ''}\n              onChange={(e) => onChange({ ...safeData, introText: e.target.value })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter intro text (used if no paragraphs are added)\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={safeData.backgroundImageId || null}\n            onChange={(id) => onChange({ ...safeData, backgroundImageId: id })}\n            label=\"Section Background Image (PNG)\"\n          />\n          <p className=\"text-sm text-gray-500 mt-2\">\n            Background image for the section with rounded top corners. Recommended: PNG format.\n          </p>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={safeData.mainImageId || null}\n            onChange={(id) => onChange({ ...safeData, mainImageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n              value={safeData.ctaText || ''}\n              onChange={(e) => onChange({ ...safeData, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"More About Us\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n              value={safeData.ctaUrl || ''}\n              onChange={(e) => onChange({ ...safeData, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/about\"\n          />\n        </FormField>\n      </div>\n\n      {/* Paragraphs Section */}\n      <div className=\"border-t pt-6 mt-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h4 className=\"text-md font-semibold text-gray-900\">Paragraphs</h4>\n          <button\n            onClick={() => onAddParagraph && onAddParagraph()}\n            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Paragraph\n          </button>\n        </div>\n\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <p className=\"text-sm text-gray-600 mb-4\">\n            <i className=\"ri-information-line mr-2\"></i>\n            Add multiple paragraphs. Drag and drop to reorder. If paragraphs are added, they will be displayed instead of the intro text.\n          </p>\n\n          <DragDropList\n            items={safeParagraphs}\n            onReorder={onReorderParagraphs || (() => {})}\n            keyExtractor={(p: any) => p.id}\n            emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to get started!\"\n            renderItem={(paragraph: any) => (\n              <div className=\"flex items-center justify-between w-full\">\n                <div className=\"flex-1\">\n                  <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                </div>\n                <div className=\"flex items-center space-x-2 ml-4\">\n                  <button\n                    onClick={() => onEditParagraph && onEditParagraph(paragraph)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onDeleteParagraph && onDeleteParagraph(paragraph.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Paragraph Modal\nfunction ParagraphModal({ paragraph, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(paragraph || { id: 0, content: '', orderIndex: 0 });\n  \n  // Update formData when paragraph prop changes\n  useEffect(() => {\n    if (paragraph) {\n      setFormData(paragraph);\n    }\n  }, [paragraph]);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={paragraph?.id ? 'Edit Paragraph' : 'Add Paragraph'} size=\"md\">\n      <div className=\"space-y-4\">\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData?.content || ''}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={6}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter paragraph content\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData?.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Stats Section Editor\nfunction StatsSectionEditor({ stats, onReorder, onEdit, onDelete, onAdd, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Statistics</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Statistic\n        </button>\n      </div>\n\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <p className=\"text-sm text-gray-600 mb-4\">\n          <i className=\"ri-information-line mr-2\"></i>\n          Drag and drop items to reorder them. Changes are saved automatically.\n        </p>\n\n        <DragDropList\n          items={stats}\n          onReorder={onReorder}\n          keyExtractor={(stat: Stat) => stat.id}\n          emptyMessage=\"No statistics yet. Click 'Add Statistic' to get started!\"\n          renderItem={(stat: Stat) => (\n            <div className=\"flex items-center justify-between w-full\">\n              <div className=\"flex items-center space-x-4\">\n                {stat.image && stat.image.filePath ? (\n                  <img \n                    src={getImageUrl(stat.image)} \n                    alt={stat.image.altText || stat.label} \n                    className=\"h-10 w-10 object-contain\"\n                  />\n                ) : stat.iconClass ? (\n                  <i className={`${stat.iconClass} text-2xl text-blue-600`}></i>\n                ) : (\n                  <div className=\"h-10 w-10 bg-gray-200 rounded flex items-center justify-center\">\n                    <i className=\"ri-image-line text-gray-400\"></i>\n                  </div>\n                )}\n                <div>\n                  <p className=\"font-semibold text-gray-900\">{stat.number}</p>\n                  <p className=\"text-sm text-gray-600\">{stat.label}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => onEdit(stat)}\n                  className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                >\n                  <i className=\"ri-edit-line\"></i>\n                </button>\n                <button\n                  onClick={() => onDelete(stat.id)}\n                  className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                >\n                  <i className=\"ri-delete-bin-line\"></i>\n                </button>\n              </div>\n            </div>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n\n// Quality Section Editor\nfunction QualitySectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Quality Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={data.title || ''}\n            onChange={(e) => onChange({ ...data, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Content\" required>\n            <textarea\n              value={data.content || ''}\n              onChange={(e) => onChange({ ...data, content: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Background Image\"\n          />\n          <p className=\"text-sm text-gray-500 mt-2\">\n            Background image for the quality section.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Products Section Editor\nfunction ProductsSectionEditor({ data = {}, onChange, onSave, saving, cards = [], onAddCard, onEditCard, onDeleteCard, onReorderCards, getImageUrl }: any) {\n  const getCardImageUrl = (card: any): string => {\n    if (!card || !card.cardImage) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${card.cardImage.filePath}`;\n  };\n\n  const safeCards = Array.isArray(cards) ? cards : [];\n  const safeData = data || {};\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Products Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={safeData.heading || ''}\n              onChange={(e) => onChange && onChange({ ...safeData, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Our Products\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Description\">\n            <textarea\n              value={safeData.description || ''}\n              onChange={(e) => onChange && onChange({ ...safeData, description: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter products section description\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n            value={safeData.ctaText || ''}\n            onChange={(e) => onChange && onChange({ ...safeData, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"View All Products\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n            value={safeData.ctaUrl || ''}\n            onChange={(e) => onChange && onChange({ ...safeData, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n      </div>\n\n        {/* Products Cards Section */}\n      <div className=\"border-t pt-6 mt-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Products Cards</h3>\n          <button\n            onClick={onAddCard}\n            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Card\n          </button>\n        </div>\n\n        {safeCards.length === 0 ? (\n          <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n            <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\n            <p className=\"text-gray-500\">No cards yet. Add your first product card!</p>\n          </div>\n        ) : (\n          <DragDropList\n            items={safeCards}\n            onReorder={onReorderCards || (() => {})}\n            onReorder={onReorderCards}\n            keyExtractor={(card: any) => card.id}\n            emptyMessage=\"No cards yet. Click 'Add Card' to get started!\"\n            renderItem={(card: any) => (\n              <div className=\"flex items-center space-x-4 w-full\">\n                {card.cardImage && (\n                  <img\n                    src={getCardImageUrl(card)}\n                    alt={card.name || 'Card image'}\n                    className=\"w-16 h-16 object-cover rounded-lg\"\n                  />\n                )}\n                <div className=\"flex-1\">\n                  <h3 className=\"font-semibold text-gray-900\">{card.name || 'Unnamed Card'}</h3>\n                  {card.internalLink && (\n                    <p className=\"text-sm text-gray-600\">Link: {card.internalLink}</p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    card.isActive \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {card.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                  <button\n                    onClick={() => onEditCard && onEditCard(card)}\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                    title=\"Edit\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onDeleteCard && onDeleteCard(card.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                    title=\"Delete\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Specialties Section Editor\nfunction SpecialtiesSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Specialties Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={data.heading || ''}\n              onChange={(e) => onChange({ ...data, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Our Specialties\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Description\">\n            <textarea\n              value={data.description || ''}\n              onChange={(e) => onChange({ ...data, description: e.target.value })}\n              rows={6}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Enter specialties section description\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Section Image (Left Side)\"\n          />\n          <p className=\"text-sm text-gray-500 mt-2\">\n            Large vertical image displayed on the left side of the specialties section.\n          </p>\n        </div>\n\n        <FormField label=\"CTA Text\">\n          <input\n            type=\"text\"\n            value={data.ctaText || ''}\n            onChange={(e) => onChange({ ...data, ctaText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Explore Products\"\n          />\n        </FormField>\n\n        <FormField label=\"CTA URL\">\n          <input\n            type=\"text\"\n            value={data.ctaUrl || ''}\n            onChange={(e) => onChange({ ...data, ctaUrl: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n      </div>\n    </div>\n  );\n}\n\n// Testimonials Section Editor\nfunction TestimonialsSectionEditor({ data, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Testimonials Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Subtitle\">\n          <input\n            type=\"text\"\n            value={data.subtitle || ''}\n            onChange={(e) => onChange({ ...data, subtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Testimonial\"\n          />\n        </FormField>\n\n        <FormField label=\"Heading\">\n          <input\n            type=\"text\"\n            value={data.heading || ''}\n            onChange={(e) => onChange({ ...data, heading: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Client Stories & Experiences\"\n          />\n        </FormField>\n      </div>\n\n      <div className=\"bg-blue-50 p-4 rounded-lg\">\n        <p className=\"text-sm text-gray-600\">\n          <i className=\"ri-information-line mr-2\"></i>\n          Note: Testimonials content is managed separately. This section only controls the header.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// Contact Section Editor\nfunction ContactSectionEditor({ data, onChange, onSave, saving, getImageUrl }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Contact Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Heading\">\n            <input\n              type=\"text\"\n              value={data.heading || ''}\n              onChange={(e) => onChange({ ...data, heading: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Contact Us\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Company Name\">\n            <input\n              type=\"text\"\n              value={data.companyName || ''}\n              onChange={(e) => onChange({ ...data, companyName: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"ADONIS MEDICAL SYSTEMS PVT LTD\"\n            />\n          </FormField>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Address\">\n            <textarea\n              value={data.address || ''}\n              onChange={(e) => onChange({ ...data, address: e.target.value })}\n              rows={3}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071.\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"Phone\">\n          <input\n            type=\"text\"\n            value={data.phone || ''}\n            onChange={(e) => onChange({ ...data, phone: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"9872003273\"\n          />\n        </FormField>\n\n        <FormField label=\"Email\">\n          <input\n            type=\"email\"\n            value={data.email || ''}\n            onChange={(e) => onChange({ ...data, email: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"support@adonismedical.com\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={data.imageId}\n            onChange={(id) => onChange({ ...data, imageId: id })}\n            label=\"Section Image\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Stat Modal\nfunction StatModal({ stat, onSave, onClose, saving, getImageUrl }: any) {\n  const [formData, setFormData] = useState(stat);\n\n  // Validation: Either iconClass or imageId must be provided\n  const isValid = formData.number && formData.label && (formData.iconClass || formData.imageId);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={stat.id ? 'Edit Statistic' : 'Add Statistic'} size=\"md\">\n      <div className=\"space-y-4\">\n        <FormField label=\"Icon Class\" hint=\"Use RemixIcon class names (e.g., ri-user-line) or upload an image below\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-number-1\"\n          />\n          {formData.iconClass && (\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Preview: <i className={formData.iconClass}></i>\n            </div>\n          )}\n        </FormField>\n\n        <div className=\"border-t pt-4\">\n          <p className=\"text-sm font-medium text-gray-700 mb-2\">OR</p>\n          <ImageSelector\n            value={formData.imageId || null}\n            onChange={(id) => setFormData({ ...formData, imageId: id })}\n            label=\"Upload Icon Image (JPG, PNG, SVG, etc.)\"\n          />\n          {formData.image && formData.image.filePath && (\n            <div className=\"mt-2\">\n              <p className=\"text-xs text-gray-500 mb-1\">Current Image:</p>\n              <img \n                src={getImageUrl(formData.image)} \n                alt={formData.image.altText || 'Stat icon'} \n                className=\"h-12 w-12 object-contain border border-gray-200 rounded\"\n              />\n            </div>\n          )}\n        </div>\n\n        <FormField label=\"Number/Value\" required>\n          <input\n            type=\"text\"\n            value={formData.number || ''}\n            onChange={(e) => setFormData({ ...formData, number: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"100+\"\n          />\n        </FormField>\n\n        <FormField label=\"Label\" required>\n          <input\n            type=\"text\"\n            value={formData.label || ''}\n            onChange={(e) => setFormData({ ...formData, label: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Happy Clients\"\n          />\n        </FormField>\n\n        <div className=\"bg-blue-50 p-3 rounded-lg\">\n          <p className=\"text-xs text-gray-600\">\n            <i className=\"ri-information-line mr-1\"></i>\n            You can use either an icon class or upload an image. If both are provided, the image will take priority.\n          </p>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !isValid}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Product Card Modal\nfunction ProductCardModal({ card, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<ProductsCard>(card);\n\n  useEffect(() => {\n    setFormData(card);\n  }, [card]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={card.id && card.id > 0 ? 'Edit Product Card' : 'Add New Product Card'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Card Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"HF Mobile\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ImageSelector\n            value={formData.backgroundImageId}\n            onChange={(id) => setFormData({ ...formData, backgroundImageId: id })}\n            label=\"Background Image\"\n          />\n\n          <ImageSelector\n            value={formData.cardImageId}\n            onChange={(id) => setFormData({ ...formData, cardImageId: id })}\n            label=\"Card Image\"\n          />\n        </div>\n\n        <FormField label=\"Internal Link\" hint=\"Page URL to redirect to (e.g., /products/hf-mobile)\">\n          <input\n            type=\"text\"\n            value={formData.internalLink || ''}\n            onChange={(e) => setFormData({ ...formData, internalLink: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products/hf-mobile\"\n          />\n        </FormField>\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : card.id && card.id > 0 ? 'Update Card' : 'Create Card'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport { getImageUrl } from '../../../../utils/imageUrl';\n\ntype SectionTab = 'header' | 'footer';\n\ninterface NavigationItem {\n  id: number;\n  label: string;\n  url: string | null;\n  parentId: number | null;\n  orderIndex: number;\n  isActive: boolean;\n  openInNewTab: boolean;\n  children?: NavigationItem[];\n}\n\ninterface FooterSection {\n  id: number;\n  title: string;\n  orderIndex: number;\n  links?: FooterLink[];\n}\n\ninterface FooterLink {\n  id: number;\n  footerSectionId: number;\n  label: string;\n  url: string;\n  iconSvg: string | null;\n  iconImageId: number | null;\n  orderIndex: number;\n  iconImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface FooterLogo {\n  id: number;\n  name: string;\n  logoImageId: number | null;\n  orderIndex: number;\n  isActive: boolean;\n  logoImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function HeaderFooterManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('header');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [navItems, setNavItems] = useState<NavigationItem[]>([]);\n  const [showNavModal, setShowNavModal] = useState(false);\n  const [editingNavItem, setEditingNavItem] = useState<NavigationItem | null>(null);\n\n  const [footerSections, setFooterSections] = useState<FooterSection[]>([]);\n  const [showSectionModal, setShowSectionModal] = useState(false);\n  const [showLinkModal, setShowLinkModal] = useState(false);\n  const [editingSection, setEditingSection] = useState<FooterSection | null>(null);\n  const [editingLink, setEditingLink] = useState<FooterLink | null>(null);\n  const [selectedSectionId, setSelectedSectionId] = useState<number | null>(null);\n  \n  // Footer Logos\n  const [footerLogos, setFooterLogos] = useState<FooterLogo[]>([]);\n  const [showLogoModal, setShowLogoModal] = useState(false);\n  const [editingLogo, setEditingLogo] = useState<FooterLogo | null>(null);\n  \n  // Social Links\n  const [socialLinks, setSocialLinks] = useState<any[]>([]);\n  const [showSocialModal, setShowSocialModal] = useState(false);\n  const [editingSocial, setEditingSocial] = useState<any | null>(null);\n\n  useEffect(() => {\n    if (activeSection === 'header') {\n      fetchNavItems();\n    } else {\n      fetchFooterSections();\n      fetchFooterLogos();\n      fetchSocialLinks();\n    }\n  }, [activeSection]);\n\n  const fetchNavItems = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<NavigationItem[]>('/navigation');\n      if (response.success && response.data) {\n        const allItems = response.data as NavigationItem[];\n        // Get top-level items (no parentId)\n        const topLevelItems = allItems\n          .filter(item => !item.parentId)\n          .sort((a, b) => a.orderIndex - b.orderIndex);\n        \n        // Attach children to each parent item\n        const itemsWithChildren = topLevelItems.map(item => {\n          const children = allItems\n            .filter(child => child.parentId === item.id)\n            .sort((a, b) => a.orderIndex - b.orderIndex);\n          return { ...item, children: children.length > 0 ? children : undefined };\n        });\n        \n        setNavItems(itemsWithChildren);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFooterSections = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<FooterSection[]>('/footer/sections');\n      if (response.success && response.data) {\n        const sections = (response.data as FooterSection[])\n          .sort((a, b) => a.orderIndex - b.orderIndex);\n        setFooterSections(sections);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFooterLogos = async () => {\n    try {\n      const response = await api.get<FooterLogo[]>('/footer/logos');\n      if (response.success && response.data) {\n        setFooterLogos((response.data as FooterLogo[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching footer logos:', error);\n    }\n  };\n\n  const fetchSocialLinks = async () => {\n    try {\n      const response = await api.get<any[]>('/social-links');\n      if (response.success && response.data) {\n        setSocialLinks((response.data as any[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching social links:', error);\n    }\n  };\n\n  const handleSaveNavItem = async (item: NavigationItem) => {\n    setSaving(true);\n    try {\n      if (item.id && item.id > 0) {\n        await api.put(`/navigation/${item.id}`, item);\n      } else {\n        await api.post('/navigation', { ...item, orderIndex: navItems.length });\n      }\n      setShowNavModal(false);\n      setEditingNavItem(null);\n      fetchNavItems();\n      alert('Navigation item saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteNavItem = async (id: number) => {\n    if (!confirm('Delete this navigation item?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/navigation/${id}`);\n      setNavItems(navItems.filter(n => n.id !== id));\n      alert('Navigation item deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFooterSection = async (section: FooterSection) => {\n    setSaving(true);\n    try {\n      if (section.id && section.id > 0) {\n        await api.put(`/footer/sections/${section.id}`, section);\n      } else {\n        await api.post('/footer/sections', { ...section, orderIndex: footerSections.length });\n      }\n      setShowSectionModal(false);\n      setEditingSection(null);\n      fetchFooterSections();\n      alert('Footer section saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFooterSection = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this footer section? This will also delete all links within this section.')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/footer/sections/${id}`);\n      setFooterSections(footerSections.filter(s => s.id !== id));\n      alert('Footer section deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFooterLink = async (link: FooterLink) => {\n    setSaving(true);\n    try {\n      if (link.id && link.id > 0) {\n        await api.put(`/footer/links/${link.id}`, link);\n      } else {\n        const section = footerSections.find(s => s.id === selectedSectionId);\n        await api.post('/footer/links', { ...link, footerSectionId: selectedSectionId, iconSvg: link.iconSvg || null, iconImageId: link.iconImageId || null, orderIndex: section?.links?.length || 0 });\n      }\n      setShowLinkModal(false);\n      setEditingLink(null);\n      fetchFooterSections();\n      alert('Footer link saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFooterLink = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this link?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/footer/links/${id}`);\n      fetchFooterSections();\n      alert('Footer link deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLogo = async (logo: FooterLogo) => {\n    setSaving(true);\n    try {\n      if (logo.id && logo.id > 0) {\n        await api.put(`/footer/logos/${logo.id}`, logo);\n      } else {\n        await api.post('/footer/logos', logo);\n      }\n      setShowLogoModal(false);\n      setEditingLogo(null);\n      fetchFooterLogos();\n      alert('Logo saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSocial = async (social: any) => {\n    setSaving(true);\n    try {\n      if (social.id && social.id > 0) {\n        await api.put(`/social-links/${social.id}`, social);\n      } else {\n        await api.post('/social-links', social);\n      }\n      setShowSocialModal(false);\n      setEditingSocial(null);\n      fetchSocialLinks();\n      alert('Social link saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Header & Footer Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage navigation menu and footer content</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveSection('header')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeSection === 'header' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Navigation\n            </button>\n            <button onClick={() => setActiveSection('footer')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeSection === 'footer' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Footer\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeSection === 'header' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Navigation Menu</h3>\n                <button onClick={() => { setEditingNavItem({ id: 0, label: '', url: null, parentId: null, orderIndex: navItems.length, isActive: true, openInNewTab: false }); setShowNavModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Item\n                </button>\n              </div>\n              {navItems.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-menu-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No navigation items yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {navItems.map((item) => (\n                    <div key={item.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2\">\n                            <h4 className=\"font-semibold text-gray-900\">{item.label}</h4>\n                            {item.children && item.children.length > 0 && (\n                              <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full\">\n                                {item.children.length} sub-menu{item.children.length !== 1 ? 's' : ''}\n                              </span>\n                            )}\n                          </div>\n                          {item.url && <p className=\"text-sm text-gray-600 mt-1\">{item.url}</p>}\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`px-2 py-1 text-xs rounded-full ${item.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                            {item.isActive ? 'Active' : 'Inactive'}\n                          </span>\n                          <button \n                            onClick={() => { \n                              setEditingNavItem({ id: 0, label: '', url: null, parentId: item.id, orderIndex: item.children?.length || 0, isActive: true, openInNewTab: false }); \n                              setShowNavModal(true); \n                            }} \n                            className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n                            title=\"Add Sub-menu\"\n                          >\n                            <i className=\"ri-add-line mr-1\"></i>Sub-menu\n                          </button>\n                          <button onClick={() => { setEditingNavItem(item); setShowNavModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteNavItem(item.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      {/* Show children/sub-menus */}\n                      {item.children && item.children.length > 0 && (\n                        <div className=\"ml-4 mt-3 space-y-2 border-l-2 border-gray-300 pl-4\">\n                          {item.children.map((child) => (\n                            <div key={child.id} className=\"flex items-center justify-between bg-white border border-gray-200 rounded p-2\">\n                              <div>\n                                <span className=\"text-sm font-medium text-gray-700\">{child.label}</span>\n                                {child.url && <span className=\"text-xs text-gray-500 ml-2\">{child.url}</span>}\n                              </div>\n                              <div className=\"flex items-center space-x-2\">\n                                <span className={`px-2 py-0.5 text-xs rounded-full ${child.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                                  {child.isActive ? 'Active' : 'Inactive'}\n                                </span>\n                                <button onClick={() => { setEditingNavItem(child); setShowNavModal(true); }} className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\">\n                                  <i className=\"ri-edit-line text-sm\"></i>\n                                </button>\n                                <button onClick={() => handleDeleteNavItem(child.id)} className=\"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\">\n                                  <i className=\"ri-delete-bin-line text-sm\"></i>\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"space-y-8\">\n              {/* Logo and Social Media Section */}\n              <div className=\"border-b pb-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Logo and Social Media Icons</h3>\n                \n                <div className=\"space-y-4 mb-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <h4 className=\"text-md font-medium text-gray-700\">Logos</h4>\n                    <button \n                      onClick={() => {\n                        const existingRefex = footerLogos.find(l => l.name === 'refex');\n                        const existingAdonis = footerLogos.find(l => l.name === 'adonis');\n                        if (!existingRefex) {\n                          setEditingLogo({ id: 0, name: 'refex', logoImageId: null, orderIndex: 0, isActive: true });\n                          setShowLogoModal(true);\n                        } else if (!existingAdonis) {\n                          setEditingLogo({ id: 0, name: 'adonis', logoImageId: null, orderIndex: 1, isActive: true });\n                          setShowLogoModal(true);\n                        }\n                      }}\n                      className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 cursor-pointer\"\n                    >\n                      <i className=\"ri-add-line mr-1\"></i>Add Logo\n                    </button>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    {footerLogos.map((logo) => (\n                      <div key={logo.id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"font-medium capitalize\">{logo.name} Logo</span>\n                          <button \n                            onClick={() => { setEditingLogo(logo); setShowLogoModal(true); }}\n                            className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                        </div>\n                        {logo.logoImage && (\n                          <img \n                            src={getLogoImageUrl(logo)} \n                            alt={`${logo.name} logo`}\n                            className=\"h-12 w-auto object-contain\"\n                          />\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <h4 className=\"text-md font-medium text-gray-700\">Social Media Icons</h4>\n                    <button \n                      onClick={() => {\n                        setEditingSocial({ id: 0, platform: '', url: null, iconClass: null, iconId: null, orderIndex: socialLinks.length, isActive: true });\n                        setShowSocialModal(true);\n                      }}\n                      className=\"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 cursor-pointer\"\n                    >\n                      <i className=\"ri-add-line mr-1\"></i>Add Social Link\n                    </button>\n                  </div>\n                  {socialLinks.length === 0 ? (\n                    <p className=\"text-sm text-gray-500\">No social links yet</p>\n                  ) : (\n                    <div className=\"space-y-2\">\n                      {socialLinks.map((social) => (\n                        <div key={social.id} className=\"flex items-center justify-between bg-gray-50 p-3 rounded\">\n                          <div className=\"flex items-center space-x-3\">\n                            {social.icon && social.icon.filePath ? (\n                              <img src={getImageUrl(social.icon)} alt={social.platform || 'Social'} className=\"w-6 h-6 object-contain\" />\n                            ) : social.iconClass ? (\n                              <i className={`${social.iconClass} text-xl text-[#FF6B35]`}></i>\n                            ) : null}\n                            <div>\n                              <p className=\"font-medium\">{social.platform}</p>\n                              {social.url && <p className=\"text-sm text-gray-600\">{social.url}</p>}\n                            </div>\n                          </div>\n                          <button \n                            onClick={() => { setEditingSocial(social); setShowSocialModal(true); }}\n                            className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Footer Sections */}\n              <div>\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex items-start space-x-3\">\n                    <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm text-blue-800\">\n                        <strong>Tip:</strong> Create sections like \"Quick Links\", \"Our Products\", and \"Contact Information\". For Contact Information, upload icon images (JPG, PNG, SVG) for Phone, Email, and Location.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold\">Footer Sections</h3>\n                  <button onClick={() => { setEditingSection({ id: 0, title: '', orderIndex: footerSections.length }); setShowSectionModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                    <i className=\"ri-add-line mr-2\"></i>Add Section\n                  </button>\n                </div>\n                {footerSections.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-layout-bottom-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No footer sections yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {footerSections.map((section) => (\n                    <div key={section.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold text-gray-900\">{section.title}</h4>\n                        <div className=\"flex items-center space-x-2\">\n                          <button onClick={() => { setSelectedSectionId(section.id); setEditingLink({ id: 0, footerSectionId: section.id, label: '', url: '', iconImageId: null, orderIndex: section.links?.length || 0 }); setShowLinkModal(true); }} className=\"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer text-sm\">\n                            <i className=\"ri-add-line mr-1\"></i>Add Link\n                          </button>\n                          <button onClick={() => { setEditingSection(section); setShowSectionModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\" title=\"Edit Section\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteFooterSection(section.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\" title=\"Delete Section\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                      {section.links && section.links.length > 0 && (\n                        <div className=\"space-y-2\">\n                          {section.links.map((link) => (\n                            <div key={link.id} className=\"flex items-center justify-between bg-gray-50 p-2 rounded\">\n                              <div className=\"flex items-center space-x-2 flex-1\">\n                                {link.iconImage && (\n                                  <img \n                                    src={getLinkIconImageUrl(link)} \n                                    alt={link.label}\n                                    className=\"w-5 h-5 object-contain\"\n                                  />\n                                )}\n                                {!link.iconImage && link.iconSvg && (\n                                  <div className=\"w-5 h-5 flex items-center justify-center text-[#FF6B35]\" dangerouslySetInnerHTML={{ __html: link.iconSvg }} />\n                                )}\n                                <span className=\"text-sm text-gray-700\">{link.label} - {link.url}</span>\n                              </div>\n                              <div className=\"flex items-center space-x-1\">\n                                <button onClick={() => { setEditingLink(link); setShowLinkModal(true); }} className=\"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer\" title=\"Edit Link\">\n                                  <i className=\"ri-edit-line text-sm\"></i>\n                                </button>\n                                <button onClick={() => handleDeleteFooterLink(link.id)} className=\"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\" title=\"Delete Link\">\n                                  <i className=\"ri-delete-bin-line text-sm\"></i>\n                                </button>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showNavModal && editingNavItem && (\n        <NavItemModal item={editingNavItem} onSave={handleSaveNavItem} onClose={() => { setShowNavModal(false); setEditingNavItem(null); }} saving={saving} />\n      )}\n\n      {showSectionModal && editingSection && (\n        <SectionModal section={editingSection} onSave={handleSaveFooterSection} onClose={() => { setShowSectionModal(false); setEditingSection(null); }} saving={saving} />\n      )}\n\n      {showLinkModal && editingLink && (\n        <LinkModal link={editingLink} onSave={handleSaveFooterLink} onClose={() => { setShowLinkModal(false); setEditingLink(null); }} saving={saving} />\n      )}\n\n      {showLogoModal && editingLogo && (\n        <LogoModal logo={editingLogo} onSave={handleSaveLogo} onClose={() => { setShowLogoModal(false); setEditingLogo(null); }} saving={saving} />\n      )}\n\n      {showSocialModal && editingSocial && (\n        <SocialModal social={editingSocial} onSave={handleSaveSocial} onClose={() => { setShowSocialModal(false); setEditingSocial(null); }} saving={saving} />\n      )}\n    </div>\n  );\n}\n\nfunction getLogoImageUrl(logo: FooterLogo): string {\n  if (!logo.logoImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${logo.logoImage.filePath}`;\n}\n\nfunction getLinkIconImageUrl(link: FooterLink): string {\n  if (!link.iconImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${link.iconImage.filePath}`;\n}\n\nfunction LogoModal({ logo, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(logo);\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={logo.id > 0 ? 'Edit Logo' : 'Add Logo'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Logo Name\" required>\n          <select\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            disabled={logo.id > 0}\n          >\n            <option value=\"refex\">Refex</option>\n            <option value=\"adonis\">Adonis</option>\n          </select>\n        </FormField>\n        <ImageSelector\n          value={formData.logoImageId}\n          onChange={(id) => setFormData({ ...formData, logoImageId: id })}\n          label=\"Logo Image\"\n        />\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.name} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SocialModal({ social, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(social);\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={social.id > 0 ? 'Edit Social Link' : 'Add Social Link'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Platform\" required>\n          <input\n            type=\"text\"\n            value={formData.platform}\n            onChange={(e) => setFormData({ ...formData, platform: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Facebook, Twitter, Instagram, LinkedIn\"\n          />\n        </FormField>\n        <FormField label=\"URL\">\n          <input\n            type=\"text\"\n            value={formData.url || ''}\n            onChange={(e) => setFormData({ ...formData, url: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://facebook.com/...\"\n          />\n        </FormField>\n        <FormField label=\"Icon (SVG Upload)\" hint=\"Upload SVG icon for this social link\">\n          <ImageSelector\n            value={formData.iconId || null}\n            onChange={(id) => setFormData({ ...formData, iconId: id || null })}\n            label=\"\"\n          />\n        </FormField>\n        <FormField label=\"Icon Class (Optional)\" hint=\"RemixIcon class as fallback\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-facebook-fill\"\n          />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.platform} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction NavItemModal({ item, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(item);\n  const isSubMenu = item.parentId !== null && item.parentId !== undefined;\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={item.id > 0 ? (isSubMenu ? 'Edit Sub-menu Item' : 'Edit Navigation Item') : (isSubMenu ? 'Add Sub-menu Item' : 'Add Navigation Item')} size=\"md\">\n      <div className=\"space-y-6\">\n        {isSubMenu && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n            <p className=\"text-sm text-blue-800\">\n              <i className=\"ri-information-line mr-2\"></i>\n              This will be added as a sub-menu item under its parent.\n            </p>\n          </div>\n        )}\n        <FormField label=\"Label\" required>\n          <input \n            type=\"text\" \n            value={formData.label} \n            onChange={(e) => setFormData({ ...formData, label: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"e.g., Home, About Us, Products\"\n          />\n        </FormField>\n        <FormField label=\"URL\">\n          <input \n            type=\"text\" \n            value={formData.url || ''} \n            onChange={(e) => setFormData({ ...formData, url: e.target.value || null })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"/about or /products (optional for parent with sub-menus)\"\n          />\n          {!isSubMenu && (\n            <p className=\"text-xs text-gray-500 mt-1\">\n              <i className=\"ri-information-line mr-1\"></i>\n              Parent items can have both a URL and sub-menus. Leave empty if this is only a dropdown parent.\n            </p>\n          )}\n        </FormField>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Status\">\n            <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n          <FormField label=\"Open in New Tab\">\n            <select value={formData.openInNewTab ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, openInNewTab: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n              <option value=\"no\">No</option>\n              <option value=\"yes\">Yes</option>\n            </select>\n          </FormField>\n        </div>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.label} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SectionModal({ section, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(section);\n  return (\n    <Modal isOpen={true} onClose={onClose} title={section.id > 0 ? 'Edit Footer Section' : 'Add Footer Section'} size=\"md\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Section Title\" required><input type=\"text\" value={formData.title} onChange={(e) => setFormData({ ...formData, title: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.title} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction LinkModal({ link, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState({ ...link, iconSvg: link.iconSvg || '', iconImageId: link.iconImageId || null });\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n  \n  return (\n    <Modal isOpen={true} onClose={onClose} title={link.id > 0 ? 'Edit Footer Link' : 'Add Footer Link'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Link Label (Title)\" required>\n          <input \n            type=\"text\" \n            value={formData.label} \n            onChange={(e) => setFormData({ ...formData, label: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"e.g., Phone, Email, Location\"\n          />\n        </FormField>\n        <FormField label=\"Data (URL or Content)\" required>\n          <input \n            type=\"text\" \n            value={formData.url} \n            onChange={(e) => setFormData({ ...formData, url: e.target.value })} \n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" \n            placeholder=\"tel:+1234567890, mailto:email@example.com, or /about\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            <i className=\"ri-information-line mr-1\"></i>\n            For Contact Info: Use tel: for phone, mailto: for email, or plain text for address\n          </p>\n        </FormField>\n        \n        <div className=\"border-t pt-4\">\n          <p className=\"text-sm font-semibold text-gray-700 mb-3\">Icon (Choose one method)</p>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Icon Image Upload (JPG, PNG, SVG)</label>\n              <ImageSelector\n                value={formData.iconImageId}\n                onChange={(id) => setFormData({ ...formData, iconImageId: id, iconSvg: null })}\n                label=\"\"\n              />\n              {formData.iconImage && (\n                <div className=\"mt-2\">\n                  <img \n                    src={getImageUrl(formData.iconImage)} \n                    alt=\"Icon preview\" \n                    className=\"w-8 h-8 object-contain\"\n                  />\n                </div>\n              )}\n            </div>\n            \n            <div className=\"text-center text-sm text-gray-500\">OR</div>\n            \n            <FormField label=\"SVG Icon Code (Alternative)\">\n              <textarea \n                value={formData.iconSvg || ''} \n                onChange={(e) => setFormData({ ...formData, iconSvg: e.target.value || null, iconImageId: null })} \n                rows={6}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm\"\n                placeholder='Paste SVG code here, e.g., <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M...\"/></svg>'\n              />\n              {formData.iconSvg && (\n                <div className=\"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200\">\n                  <p className=\"text-xs text-gray-600 mb-2\">Preview:</p>\n                  <div className=\"w-8 h-8 text-[#FF6B35]\" dangerouslySetInnerHTML={{ __html: formData.iconSvg }} />\n                </div>\n              )}\n            </FormField>\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.label || !formData.url} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport DragDropList from '../../../../components/cms/DragDropList';\n\ntype SectionTab = 'hero' | 'overview' | 'safety' | 'excellence' | 'global-reach';\n\ninterface AboutPageHighlight {\n  id?: number;\n  text: string;\n  iconClass: string | null;\n  iconId: number | null;\n  icon?: { filePath: string; altText: string };\n  orderIndex: number;\n}\n\ninterface AboutPageOverviewParagraph {\n  id?: number;\n  content: string;\n  orderIndex: number;\n  position: string | null; // 'before' or 'after' highlights\n}\n\ninterface AboutPageGlobalReachCard {\n  id?: number;\n  iconClass: string | null;\n  iconId: number | null;\n  icon?: { filePath: string; altText: string };\n  content: string;\n  orderIndex: number;\n}\n\ninterface AboutPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  overviewHeading: string | null;\n  overviewContent: string | null;\n  overviewImageId: number | null;\n  overviewImageOverlayText: string | null;\n  backgroundImageId: number | null;\n  safetyHeading: string | null;\n  safetyContent: string | null;\n  safetyImageId: number | null;\n  excellenceHeading: string | null;\n  excellenceContent: string | null;\n  excellenceImageId: number | null;\n  globalReachHeading: string | null;\n  heroImage?: { filePath: string; altText: string };\n  overviewImage?: { filePath: string; altText: string };\n  backgroundImage?: { filePath: string; altText: string };\n  safetyImage?: { filePath: string; altText: string };\n  excellenceImage?: { filePath: string; altText: string };\n  highlights?: AboutPageHighlight[];\n}\n\nexport default function AboutPageManagement() {\n  const [activeSection, setActiveSection] = useState<SectionTab>('hero');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<AboutPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    overviewHeading: null,\n    overviewContent: null,\n    overviewImageId: null,\n    backgroundImageId: null,\n    safetyHeading: null,\n    safetyContent: null,\n    safetyImageId: null,\n    excellenceHeading: null,\n    excellenceContent: null,\n    excellenceImageId: null\n  });\n  const [highlights, setHighlights] = useState<AboutPageHighlight[]>([]);\n  const [editingHighlight, setEditingHighlight] = useState<AboutPageHighlight | null>(null);\n  const [overviewParagraphs, setOverviewParagraphs] = useState<AboutPageOverviewParagraph[]>([]);\n  const [editingParagraph, setEditingParagraph] = useState<AboutPageOverviewParagraph | null>(null);\n  const [globalReachCards, setGlobalReachCards] = useState<AboutPageGlobalReachCard[]>([]);\n  const [editingGlobalReachCard, setEditingGlobalReachCard] = useState<AboutPageGlobalReachCard | null>(null);\n\n  const sectionTabs = [\n    { id: 'hero' as SectionTab, label: 'Hero Section', icon: 'ri-image-line' },\n    { id: 'overview' as SectionTab, label: 'Company Overview', icon: 'ri-file-text-line' },\n    { id: 'safety' as SectionTab, label: 'Safety & Innovation', icon: 'ri-shield-check-line' },\n    { id: 'excellence' as SectionTab, label: 'Excellence', icon: 'ri-award-line' },\n    { id: 'global-reach' as SectionTab, label: 'Global Reach and Vision', icon: 'ri-global-line' }\n  ];\n\n  useEffect(() => {\n    fetchContent();\n    fetchHighlights();\n    fetchOverviewParagraphs();\n    fetchGlobalReachCards();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<AboutPageContent>('/about');\n      if (response.success && response.data) {\n        setContent(response.data as AboutPageContent);\n        if (response.data.highlights) {\n          setHighlights(response.data.highlights);\n        }\n        if (response.data.overviewParagraphs) {\n          setOverviewParagraphs(response.data.overviewParagraphs);\n        }\n        if (response.data.globalReachCards) {\n          setGlobalReachCards(response.data.globalReachCards);\n        }\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchHighlights = async () => {\n    try {\n      const response = await api.get<AboutPageHighlight[]>('/about/highlights');\n      if (response.success && response.data) {\n        setHighlights(response.data);\n      }\n    } catch (error: any) {\n      console.error('Error fetching highlights:', error);\n    }\n  };\n\n  const fetchOverviewParagraphs = async () => {\n    try {\n      const response = await api.get<AboutPageOverviewParagraph[]>('/about/overview-paragraphs');\n      if (response.success && response.data) {\n        setOverviewParagraphs(response.data);\n      }\n    } catch (error: any) {\n      console.error('Error fetching overview paragraphs:', error);\n    }\n  };\n\n  const handleAddParagraph = (position: 'before' | 'after') => {\n    setEditingParagraph({\n      content: '',\n      orderIndex: overviewParagraphs.filter(p => p.position === position).length,\n      position\n    });\n  };\n\n  const handleSaveParagraph = async () => {\n    if (!editingParagraph) return;\n    \n    setSaving(true);\n    try {\n      if (editingParagraph.id) {\n        const response = await api.put(`/about/overview-paragraphs/${editingParagraph.id}`, editingParagraph);\n        if (response.success) {\n          await fetchOverviewParagraphs();\n          setEditingParagraph(null);\n          alert('Paragraph updated successfully!');\n        }\n      } else {\n        const response = await api.post('/about/overview-paragraphs', editingParagraph);\n        if (response.success) {\n          await fetchOverviewParagraphs();\n          setEditingParagraph(null);\n          alert('Paragraph created successfully!');\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save paragraph');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteParagraph = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this paragraph?')) return;\n    \n    setSaving(true);\n    try {\n      const response = await api.delete(`/about/overview-paragraphs/${id}`);\n      if (response.success) {\n        await fetchOverviewParagraphs();\n        alert('Paragraph deleted successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete paragraph');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderParagraphs = async (reorderedParagraphs: AboutPageOverviewParagraph[], position: 'before' | 'after') => {\n    setSaving(true);\n    try {\n      const response = await api.put('/about/overview-paragraphs/reorder', {\n        paragraphs: reorderedParagraphs.map((p, i) => ({ id: p.id, orderIndex: i }))\n      });\n      if (response.success) {\n        setOverviewParagraphs([...overviewParagraphs.filter(p => p.position !== position), ...reorderedParagraphs]);\n        alert('Paragraphs order updated successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/about', content);\n      if (response.success) {\n        alert('About page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleAddHighlight = () => {\n    setEditingHighlight({\n      text: '',\n      iconClass: null,\n      iconId: null,\n      orderIndex: highlights.length\n    });\n  };\n\n  const handleSaveHighlight = async () => {\n    if (!editingHighlight) return;\n    \n    setSaving(true);\n    try {\n      if (editingHighlight.id) {\n        // Update existing\n        const response = await api.put(`/about/highlights/${editingHighlight.id}`, {\n          ...editingHighlight,\n          sectionName: 'overview'\n        });\n        if (response.success) {\n          await fetchHighlights();\n          setEditingHighlight(null);\n          alert('Highlight updated successfully!');\n        }\n      } else {\n        // Create new\n        const response = await api.post('/about/highlights', {\n          ...editingHighlight,\n          sectionName: 'overview'\n        });\n        if (response.success) {\n          await fetchHighlights();\n          setEditingHighlight(null);\n          alert('Highlight created successfully!');\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save highlight');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteHighlight = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this highlight?')) return;\n    \n    setSaving(true);\n    try {\n      const response = await api.delete(`/about/highlights/${id}`);\n      if (response.success) {\n        await fetchHighlights();\n        alert('Highlight deleted successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete highlight');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderHighlights = async (reorderedHighlights: AboutPageHighlight[]) => {\n    setSaving(true);\n    try {\n      const response = await api.put('/about/highlights/reorder', {\n        highlights: reorderedHighlights.map((h, i) => ({ id: h.id, orderIndex: i }))\n      });\n      if (response.success) {\n        setHighlights(reorderedHighlights);\n        alert('Highlights order updated successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const fetchGlobalReachCards = async () => {\n    try {\n      const response = await api.get<AboutPageGlobalReachCard[]>('/about/global-reach-cards');\n      if (response.success && response.data) {\n        setGlobalReachCards(response.data);\n      }\n    } catch (error: any) {\n      console.error('Error fetching global reach cards:', error);\n    }\n  };\n\n  const handleAddGlobalReachCard = () => {\n    setEditingGlobalReachCard({\n      iconClass: null,\n      iconId: null,\n      content: '',\n      orderIndex: globalReachCards.length\n    });\n  };\n\n  const handleSaveGlobalReachCard = async () => {\n    if (!editingGlobalReachCard) return;\n    \n    setSaving(true);\n    try {\n      if (editingGlobalReachCard.id) {\n        const response = await api.put(`/about/global-reach-cards/${editingGlobalReachCard.id}`, editingGlobalReachCard);\n        if (response.success) {\n          setEditingGlobalReachCard(null);\n          await fetchGlobalReachCards();\n          await fetchContent(); // Also refresh main content to ensure icons are loaded\n          alert('Card updated successfully!');\n        }\n      } else {\n        const response = await api.post('/about/global-reach-cards', editingGlobalReachCard);\n        if (response.success) {\n          setEditingGlobalReachCard(null);\n          await fetchGlobalReachCards();\n          await fetchContent(); // Also refresh main content to ensure icons are loaded\n          alert('Card created successfully!');\n        }\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save card');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteGlobalReachCard = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this card?')) return;\n    \n    setSaving(true);\n    try {\n      const response = await api.delete(`/about/global-reach-cards/${id}`);\n      if (response.success) {\n        await fetchGlobalReachCards();\n        alert('Card deleted successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete card');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderGlobalReachCards = async (reorderedCards: AboutPageGlobalReachCard[]) => {\n    setSaving(true);\n    try {\n      const response = await api.put('/about/global-reach-cards/reorder', {\n        cards: reorderedCards.map((c, i) => ({ id: c.id, orderIndex: i }))\n      });\n      if (response.success) {\n        setGlobalReachCards(reorderedCards);\n        alert('Cards order updated successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">About Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage all sections of the about page</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sectionTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveSection(tab.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === tab.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={tab.icon}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : (\n            <>\n              {activeSection === 'hero' && (\n                <SectionEditor\n                  title=\"Hero Section\"\n                  fields={[\n                    {\n                      label: 'Hero Title',\n                      value: content.heroTitle || '',\n                      onChange: (val) => setContent({ ...content, heroTitle: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Hero Subtitle',\n                      value: content.heroSubtitle || '',\n                      onChange: (val) => setContent({ ...content, heroSubtitle: val || null }),\n                      type: 'textarea'\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.heroImageId}\n                      onChange={(id) => setContent({ ...content, heroImageId: id })}\n                      label=\"Hero Image\"\n                    />\n                  }\n                  previewImage={content.heroImage ? getImageUrl(content.heroImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'overview' && (\n                <div className=\"space-y-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">Company Overview Section</h3>\n                    <button\n                      onClick={handleSave}\n                      disabled={saving}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                    >\n                      {saving ? 'Saving...' : 'Save Changes'}\n                    </button>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <FormField label=\"Heading\">\n                      <input\n                        type=\"text\"\n                        value={content.overviewHeading || ''}\n                        onChange={(e) => setContent({ ...content, overviewHeading: e.target.value || null })}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </FormField>\n\n                    <div className=\"md:col-span-2\">\n                      <FormField label=\"Intro Content\">\n                        <textarea\n                          value={content.overviewContent || ''}\n                          onChange={(e) => setContent({ ...content, overviewContent: e.target.value || null })}\n                          rows={4}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                          placeholder=\"First paragraph that appears before the image row\"\n                        />\n                        <p className=\"text-sm text-gray-500 mt-2\">\n                          This is the introductory paragraph displayed at the top of the section.\n                        </p>\n                      </FormField>\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <FormField label=\"Image Overlay Text\">\n                        <textarea\n                          value={content.overviewImageOverlayText || ''}\n                          onChange={(e) => setContent({ ...content, overviewImageOverlayText: e.target.value || null })}\n                          rows={3}\n                          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                          placeholder=\"Text displayed on top of the left image\"\n                        />\n                        <p className=\"text-sm text-gray-500 mt-2\">\n                          This text will appear in a white box on top of the left image.\n                        </p>\n                      </FormField>\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                    <ImageSelector\n                      value={content.overviewImageId}\n                      onChange={(id) => setContent({ ...content, overviewImageId: id })}\n                        label=\"Overview Image (Left Side)\"\n                      />\n                      <p className=\"text-sm text-gray-500 mt-2\">\n                        Image displayed on the left side of the first row.\n                      </p>\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <ImageSelector\n                        value={content.backgroundImageId}\n                        onChange={(id) => setContent({ ...content, backgroundImageId: id })}\n                        label=\"Section Background Image (PNG)\"\n                      />\n                      <p className=\"text-sm text-gray-500 mt-2\">\n                        Optional background image for the entire section with rounded top corners.\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Paragraphs Before Highlights */}\n                  <div className=\"border-t border-gray-200 pt-6 mt-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 className=\"text-md font-semibold text-gray-900\">Paragraphs (Before Highlights)</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Add paragraphs that appear before the bullet points in the right column\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => handleAddParagraph('before')}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                      >\n                        <i className=\"ri-add-line mr-2\"></i>\n                        Add Paragraph\n                      </button>\n                    </div>\n\n                    <DragDropList\n                      items={overviewParagraphs.filter(p => p.position === 'before' || !p.position)}\n                      onReorder={(items) => handleReorderParagraphs(items, 'before')}\n                      keyExtractor={(item) => item.id || `temp-${item.orderIndex}`}\n                      renderItem={(paragraph) => (\n                        <div className=\"flex items-center justify-between w-full\">\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              onClick={() => setEditingParagraph(paragraph)}\n                              className=\"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer\"\n                            >\n                              <i className=\"ri-edit-line\"></i>\n                            </button>\n                            {paragraph.id && (\n                              <button\n                                onClick={() => handleDeleteParagraph(paragraph.id!)}\n                                className=\"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\"\n                              >\n                                <i className=\"ri-delete-bin-line\"></i>\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to create one.\"\n                    />\n                  </div>\n\n                  {/* Highlights Management */}\n                  <div className=\"border-t border-gray-200 pt-6 mt-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 className=\"text-md font-semibold text-gray-900\">Bullet Points (Highlights)</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Add, edit, and reorder bullet points displayed in the first row\n                        </p>\n                      </div>\n                      <button\n                        onClick={handleAddHighlight}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                      >\n                        <i className=\"ri-add-line mr-2\"></i>\n                        Add Highlight\n                      </button>\n                    </div>\n\n                    <DragDropList\n                      items={highlights}\n                      onReorder={handleReorderHighlights}\n                      keyExtractor={(item) => item.id || `temp-${item.orderIndex}`}\n                      renderItem={(highlight, index) => (\n                        <div className=\"flex items-center justify-between w-full\">\n                          <div className=\"flex items-center gap-3 flex-1\">\n                            {highlight.icon ? (\n                              <img\n                                src={getImageUrl(highlight.icon)}\n                                alt={highlight.icon.altText || highlight.text}\n                                className=\"w-6 h-6 object-contain\"\n                              />\n                            ) : highlight.iconClass ? (\n                              <i className={`${highlight.iconClass} text-[#FF6B35] text-xl`}></i>\n                            ) : (\n                              <i className=\"ri-checkbox-circle-line text-[#FF6B35] text-xl\"></i>\n                            )}\n                            <span className=\"text-gray-900\">{highlight.text}</span>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              onClick={() => setEditingHighlight(highlight)}\n                              className=\"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer\"\n                            >\n                              <i className=\"ri-edit-line\"></i>\n                            </button>\n                            {highlight.id && (\n                              <button\n                                onClick={() => handleDeleteHighlight(highlight.id!)}\n                                className=\"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\"\n                              >\n                                <i className=\"ri-delete-bin-line\"></i>\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      emptyMessage=\"No highlights yet. Click 'Add Highlight' to create one.\"\n                    />\n                  </div>\n\n                  {/* Paragraphs After Highlights */}\n                  <div className=\"border-t border-gray-200 pt-6 mt-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 className=\"text-md font-semibold text-gray-900\">Paragraphs (After Highlights)</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Add paragraphs that appear after the bullet points in the right column\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => handleAddParagraph('after')}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                      >\n                        <i className=\"ri-add-line mr-2\"></i>\n                        Add Paragraph\n                      </button>\n                    </div>\n\n                    <DragDropList\n                      items={overviewParagraphs.filter(p => p.position === 'after')}\n                      onReorder={(items) => handleReorderParagraphs(items, 'after')}\n                      keyExtractor={(item) => item.id || `temp-${item.orderIndex}`}\n                      renderItem={(paragraph) => (\n                        <div className=\"flex items-center justify-between w-full\">\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              onClick={() => setEditingParagraph(paragraph)}\n                              className=\"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer\"\n                            >\n                              <i className=\"ri-edit-line\"></i>\n                            </button>\n                            {paragraph.id && (\n                              <button\n                                onClick={() => handleDeleteParagraph(paragraph.id!)}\n                                className=\"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\"\n                              >\n                                <i className=\"ri-delete-bin-line\"></i>\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to create one.\"\n                    />\n                  </div>\n\n                  {/* Edit Highlight Modal */}\n                  {editingHighlight && (\n                    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n                      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n                        <div className=\"p-6\">\n                          <div className=\"flex items-center justify-between mb-4\">\n                            <h4 className=\"text-lg font-semibold text-gray-900\">\n                              {editingHighlight.id ? 'Edit Highlight' : 'Add Highlight'}\n                            </h4>\n                            <button\n                              onClick={() => setEditingHighlight(null)}\n                              className=\"text-gray-400 hover:text-gray-600\"\n                            >\n                              <i className=\"ri-close-line text-2xl\"></i>\n                            </button>\n                          </div>\n\n                          <div className=\"space-y-4\">\n                            <FormField label=\"Text\">\n                              <input\n                                type=\"text\"\n                                value={editingHighlight.text}\n                                onChange={(e) => setEditingHighlight({ ...editingHighlight, text: e.target.value })}\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                                placeholder=\"e.g., Unmatched product reliability\"\n                              />\n                            </FormField>\n\n                            <FormField label=\"Icon (SVG Image)\">\n                              <ImageSelector\n                                value={editingHighlight.iconId}\n                                onChange={(id) => setEditingHighlight({ ...editingHighlight, iconId: id || null })}\n                                label=\"Upload SVG Icon\"\n                              />\n                              <p className=\"text-sm text-gray-500 mt-2\">\n                                Upload an SVG icon that will appear next to this bullet point. If not provided, a default icon will be used.\n                              </p>\n                            </FormField>\n\n                            <FormField label=\"Icon Class (Alternative)\">\n                              <input\n                                type=\"text\"\n                                value={editingHighlight.iconClass || ''}\n                                onChange={(e) => setEditingHighlight({ ...editingHighlight, iconClass: e.target.value || null })}\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                                placeholder=\"e.g., ri-checkbox-circle-line\"\n                              />\n                              <p className=\"text-sm text-gray-500 mt-2\">\n                                Alternatively, provide a RemixIcon class name (e.g., ri-checkbox-circle-line)\n                              </p>\n                            </FormField>\n\n                            <div className=\"flex items-center gap-3 pt-4\">\n                              <button\n                                onClick={handleSaveHighlight}\n                                disabled={saving || !editingHighlight.text}\n                                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                              >\n                                {saving ? 'Saving...' : 'Save'}\n                              </button>\n                              <button\n                                onClick={() => setEditingHighlight(null)}\n                                className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer\"\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Edit Paragraph Modal */}\n                  {editingParagraph && (\n                    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n                      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n                        <div className=\"p-6\">\n                          <div className=\"flex items-center justify-between mb-4\">\n                            <h4 className=\"text-lg font-semibold text-gray-900\">\n                              {editingParagraph.id ? 'Edit Paragraph' : 'Add Paragraph'}\n                            </h4>\n                            <button\n                              onClick={() => setEditingParagraph(null)}\n                              className=\"text-gray-400 hover:text-gray-600\"\n                            >\n                              <i className=\"ri-close-line text-2xl\"></i>\n                            </button>\n                          </div>\n\n                          <div className=\"space-y-4\">\n                            <FormField label=\"Content\">\n                              <textarea\n                                value={editingParagraph.content}\n                                onChange={(e) => setEditingParagraph({ ...editingParagraph, content: e.target.value })}\n                                rows={6}\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                                placeholder=\"Enter paragraph content\"\n                              />\n                            </FormField>\n\n                            <FormField label=\"Position\">\n                              <select\n                                value={editingParagraph.position || 'before'}\n                                onChange={(e) => setEditingParagraph({ ...editingParagraph, position: e.target.value as 'before' | 'after' })}\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                              >\n                                <option value=\"before\">Before Highlights</option>\n                                <option value=\"after\">After Highlights</option>\n                              </select>\n                            </FormField>\n\n                            <div className=\"flex items-center gap-3 pt-4\">\n                              <button\n                                onClick={handleSaveParagraph}\n                                disabled={saving || !editingParagraph.content}\n                                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                              >\n                                {saving ? 'Saving...' : 'Save'}\n                              </button>\n                              <button\n                                onClick={() => setEditingParagraph(null)}\n                                className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer\"\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {activeSection === 'safety' && (\n                <SectionEditor\n                  title=\"Safety & Innovation Section\"\n                  fields={[\n                    {\n                      label: 'Heading',\n                      value: content.safetyHeading || '',\n                      onChange: (val) => setContent({ ...content, safetyHeading: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Content',\n                      value: content.safetyContent || '',\n                      onChange: (val) => setContent({ ...content, safetyContent: val || null }),\n                      type: 'textarea',\n                      rows: 6\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.safetyImageId}\n                      onChange={(id) => setContent({ ...content, safetyImageId: id })}\n                      label=\"Safety Image\"\n                    />\n                  }\n                  previewImage={content.safetyImage ? getImageUrl(content.safetyImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'excellence' && (\n                <SectionEditor\n                  title=\"Excellence Section\"\n                  fields={[\n                    {\n                      label: 'Heading',\n                      value: content.excellenceHeading || '',\n                      onChange: (val) => setContent({ ...content, excellenceHeading: val || null }),\n                      type: 'text'\n                    },\n                    {\n                      label: 'Content',\n                      value: content.excellenceContent || '',\n                      onChange: (val) => setContent({ ...content, excellenceContent: val || null }),\n                      type: 'textarea',\n                      rows: 6\n                    }\n                  ]}\n                  imageSelector={\n                    <ImageSelector\n                      value={content.excellenceImageId}\n                      onChange={(id) => setContent({ ...content, excellenceImageId: id })}\n                      label=\"Excellence Image\"\n                    />\n                  }\n                  previewImage={content.excellenceImage ? getImageUrl(content.excellenceImage) : null}\n                  onSave={handleSave}\n                  saving={saving}\n                />\n              )}\n\n              {activeSection === 'global-reach' && (\n                <div className=\"space-y-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">Global Reach and Vision Section</h3>\n                    <button\n                      onClick={handleSave}\n                      disabled={saving}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                    >\n                      {saving ? 'Saving...' : 'Save Changes'}\n                    </button>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <FormField label=\"Heading\">\n                      <input\n                        type=\"text\"\n                        value={content.globalReachHeading || ''}\n                        onChange={(e) => setContent({ ...content, globalReachHeading: e.target.value || null })}\n                        className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                        placeholder=\"Global Reach and Vision\"\n                      />\n                    </FormField>\n                  </div>\n\n                  {/* Global Reach Cards Management */}\n                  <div className=\"border-t border-gray-200 pt-6 mt-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div>\n                        <h4 className=\"text-md font-semibold text-gray-900\">Cards</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">\n                          Add, edit, and reorder cards displayed in the Global Reach section\n                        </p>\n                      </div>\n                      <button\n                        onClick={handleAddGlobalReachCard}\n                        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                      >\n                        <i className=\"ri-add-line mr-2\"></i>\n                        Add Card\n                      </button>\n                    </div>\n\n                    <DragDropList\n                      items={globalReachCards}\n                      onReorder={handleReorderGlobalReachCards}\n                      keyExtractor={(item) => item.id || `temp-${item.orderIndex}`}\n                      renderItem={(card) => (\n                        <div className=\"flex items-center justify-between w-full\">\n                          <div className=\"flex items-center gap-3 flex-1\">\n                            <div className=\"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white border-2 border-gray-200\">\n                              {card.icon ? (\n                                <img\n                                  src={getImageUrl(card.icon)}\n                                  alt={card.icon.altText || card.content}\n                                  className=\"w-6 h-6 object-contain\"\n                                />\n                              ) : card.iconClass ? (\n                                <i className={`${card.iconClass} text-gray-700 text-lg`}></i>\n                              ) : (\n                                <i className=\"ri-global-line text-gray-700 text-lg\"></i>\n                              )}\n                            </div>\n                            <p className=\"text-sm text-gray-700 line-clamp-2\">{card.content}</p>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              onClick={() => setEditingGlobalReachCard(card)}\n                              className=\"px-3 py-1 text-blue-600 hover:bg-blue-50 rounded cursor-pointer\"\n                            >\n                              <i className=\"ri-edit-line\"></i>\n                            </button>\n                            {card.id && (\n                              <button\n                                onClick={() => handleDeleteGlobalReachCard(card.id!)}\n                                className=\"px-3 py-1 text-red-600 hover:bg-red-50 rounded cursor-pointer\"\n                              >\n                                <i className=\"ri-delete-bin-line\"></i>\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      emptyMessage=\"No cards yet. Click 'Add Card' to create one.\"\n                    />\n                  </div>\n\n                  {/* Edit Global Reach Card Modal */}\n                  {editingGlobalReachCard && (\n                    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n                      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n                        <div className=\"p-6\">\n                          <div className=\"flex items-center justify-between mb-4\">\n                            <h4 className=\"text-lg font-semibold text-gray-900\">\n                              {editingGlobalReachCard.id ? 'Edit Card' : 'Add Card'}\n                            </h4>\n                            <button\n                              onClick={() => setEditingGlobalReachCard(null)}\n                              className=\"text-gray-400 hover:text-gray-600\"\n                            >\n                              <i className=\"ri-close-line text-2xl\"></i>\n                            </button>\n                          </div>\n\n                          <div className=\"space-y-4\">\n                            <FormField label=\"Icon (SVG Image)\">\n                              <ImageSelector\n                                value={editingGlobalReachCard.iconId}\n                                onChange={(id) => setEditingGlobalReachCard({ ...editingGlobalReachCard, iconId: id || null })}\n                                label=\"Upload SVG Icon\"\n                              />\n                              <p className=\"text-sm text-gray-500 mt-2\">\n                                Upload an SVG icon that will appear in the orange circle for this card. If not provided, a default icon will be used.\n                              </p>\n                            </FormField>\n\n                            <FormField label=\"Content\">\n                              <textarea\n                                value={editingGlobalReachCard.content}\n                                onChange={(e) => setEditingGlobalReachCard({ ...editingGlobalReachCard, content: e.target.value })}\n                                rows={4}\n                                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                                placeholder=\"Enter card content\"\n                              />\n                            </FormField>\n\n                            <div className=\"flex items-center gap-3 pt-4\">\n                              <button\n                                onClick={handleSaveGlobalReachCard}\n                                disabled={saving || !editingGlobalReachCard.content}\n                                className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                              >\n                                {saving ? 'Saving...' : 'Save'}\n                              </button>\n                              <button\n                                onClick={() => setEditingGlobalReachCard(null)}\n                                className=\"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 cursor-pointer\"\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SectionEditor({ title, fields, imageSelector, previewImage, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {fields.map((field: any, index: number) => (\n          <div key={index} className={field.type === 'textarea' ? 'md:col-span-2' : ''}>\n            <FormField label={field.label}>\n              {field.type === 'textarea' ? (\n                <textarea\n                  value={field.value}\n                  onChange={(e) => field.onChange(e.target.value)}\n                  rows={field.rows || 4}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              ) : (\n                <input\n                  type={field.type || 'text'}\n                  value={field.value}\n                  onChange={(e) => field.onChange(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                />\n              )}\n            </FormField>\n          </div>\n        ))}\n\n        <div className=\"md:col-span-2\">\n          {imageSelector}\n        </div>\n\n        {previewImage && (\n          <div className=\"md:col-span-2\">\n            <FormField label=\"Preview\">\n              <img src={previewImage} alt=\"Preview\" className=\"w-full rounded-lg max-h-64 object-cover\" />\n            </FormField>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\n\ninterface BackendUser {\n  id: number;\n  username: string;\n  email: string;\n  fullName: string | null;\n  role: 'super_admin' | 'admin' | 'editor' | 'viewer';\n  isActive: boolean;\n  createdAt: string;\n  lastLoginAt: string | null;\n  permissions?: PagePermissions | null;\n}\n\ninterface User {\n  id: number;\n  username: string;\n  name: string;\n  email: string;\n  role: 'super_admin' | 'admin' | 'editor' | 'viewer';\n  status: 'active' | 'inactive';\n  createdAt: string;\n  lastLogin: string;\n}\n\ntype Permission = {\n  view: boolean;\n  edit: boolean;\n  delete: boolean;\n};\n\ntype PagePermissions = {\n  [key: string]: Permission;\n};\n\nconst defaultPermissions: Record<string, PagePermissions> = {\n  super_admin: {\n    home: { view: true, edit: true, delete: true },\n    'header-footer': { view: true, edit: true, delete: true },\n    about: { view: true, edit: true, delete: true },\n    products: { view: true, edit: true, delete: true },\n    awards: { view: true, edit: true, delete: true },\n    careers: { view: true, edit: true, delete: true },\n    specialties: { view: true, edit: true, delete: true },\n    investors: { view: true, edit: true, delete: true },\n    clients: { view: true, edit: true, delete: true },\n    management: { view: true, edit: true, delete: true },\n    presence: { view: true, edit: true, delete: true },\n    production: { view: true, edit: true, delete: true },\n    quality: { view: true, edit: true, delete: true },\n    demo: { view: true, edit: true, delete: true },\n    contact: { view: true, edit: true, delete: true },\n    'contact-info': { view: true, edit: true, delete: true },\n    'global-settings': { view: true, edit: true, delete: true },\n    'social-links': { view: true, edit: true, delete: true },\n    testimonials: { view: true, edit: true, delete: true },\n    users: { view: true, edit: true, delete: true },\n    smtp: { view: true, edit: true, delete: true },\n    logs: { view: true, edit: true, delete: true },\n    bin: { view: true, edit: true, delete: true },\n    versions: { view: true, edit: true, delete: true }\n  },\n  admin: {\n    home: { view: true, edit: true, delete: true },\n    'header-footer': { view: true, edit: true, delete: false },\n    about: { view: true, edit: true, delete: true },\n    products: { view: true, edit: true, delete: true },\n    awards: { view: true, edit: true, delete: true },\n    careers: { view: true, edit: true, delete: true },\n    specialties: { view: true, edit: true, delete: true },\n    investors: { view: true, edit: true, delete: true },\n    clients: { view: true, edit: true, delete: true },\n    management: { view: true, edit: true, delete: true },\n    presence: { view: true, edit: true, delete: true },\n    production: { view: true, edit: true, delete: true },\n    quality: { view: true, edit: true, delete: true },\n    demo: { view: true, edit: true, delete: true },\n    contact: { view: true, edit: true, delete: true },\n    'contact-info': { view: true, edit: true, delete: false },\n    'global-settings': { view: true, edit: false, delete: false },\n    'social-links': { view: true, edit: true, delete: false },\n    testimonials: { view: true, edit: true, delete: true },\n    users: { view: true, edit: true, delete: false },\n    smtp: { view: true, edit: false, delete: false },\n    logs: { view: true, edit: false, delete: false },\n    bin: { view: true, edit: false, delete: false },\n    versions: { view: true, edit: false, delete: false }\n  },\n  editor: {\n    home: { view: true, edit: true, delete: false },\n    'header-footer': { view: true, edit: false, delete: false },\n    about: { view: true, edit: true, delete: false },\n    products: { view: true, edit: true, delete: false },\n    awards: { view: true, edit: true, delete: false },\n    careers: { view: true, edit: true, delete: false },\n    specialties: { view: true, edit: true, delete: false },\n    investors: { view: true, edit: true, delete: false },\n    clients: { view: true, edit: true, delete: false },\n    management: { view: true, edit: true, delete: false },\n    presence: { view: true, edit: true, delete: false },\n    production: { view: true, edit: true, delete: false },\n    quality: { view: true, edit: true, delete: false },\n    demo: { view: true, edit: true, delete: false },\n    contact: { view: true, edit: true, delete: false },\n    'contact-info': { view: true, edit: true, delete: false },\n    'global-settings': { view: false, edit: false, delete: false },\n    'social-links': { view: true, edit: true, delete: false },\n    testimonials: { view: true, edit: true, delete: false },\n    users: { view: false, edit: false, delete: false },\n    smtp: { view: false, edit: false, delete: false },\n    logs: { view: false, edit: false, delete: false },\n    bin: { view: false, edit: false, delete: false },\n    versions: { view: false, edit: false, delete: false }\n  },\n  viewer: {\n    home: { view: true, edit: false, delete: false },\n    'header-footer': { view: true, edit: false, delete: false },\n    about: { view: true, edit: false, delete: false },\n    products: { view: true, edit: false, delete: false },\n    awards: { view: true, edit: false, delete: false },\n    careers: { view: true, edit: false, delete: false },\n    specialties: { view: true, edit: false, delete: false },\n    investors: { view: true, edit: false, delete: false },\n    clients: { view: true, edit: false, delete: false },\n    management: { view: true, edit: false, delete: false },\n    presence: { view: true, edit: false, delete: false },\n    production: { view: true, edit: false, delete: false },\n    quality: { view: true, edit: false, delete: false },\n    demo: { view: true, edit: false, delete: false },\n    contact: { view: true, edit: false, delete: false },\n    'contact-info': { view: true, edit: false, delete: false },\n    'global-settings': { view: false, edit: false, delete: false },\n    'social-links': { view: true, edit: false, delete: false },\n    testimonials: { view: true, edit: false, delete: false },\n    users: { view: false, edit: false, delete: false },\n    smtp: { view: false, edit: false, delete: false },\n    logs: { view: false, edit: false, delete: false },\n    bin: { view: false, edit: false, delete: false },\n    versions: { view: false, edit: false, delete: false }\n  }\n};\n\nconst pageLabels: Record<string, { label: string; icon: string }> = {\n  home: { label: 'Home', icon: 'ri-home-line' },\n  'header-footer': { label: 'Header & Footer', icon: 'ri-layout-line' },\n  about: { label: 'About', icon: 'ri-information-line' },\n  products: { label: 'Products', icon: 'ri-product-hunt-line' },\n  awards: { label: 'Awards', icon: 'ri-award-line' },\n  careers: { label: 'Careers', icon: 'ri-briefcase-line' },\n  specialties: { label: 'Specialties', icon: 'ri-stethoscope-line' },\n  investors: { label: 'Investors', icon: 'ri-line-chart-line' },\n  clients: { label: 'Clients', icon: 'ri-user-heart-line' },\n  management: { label: 'Management', icon: 'ri-team-line' },\n  presence: { label: 'Our Presence', icon: 'ri-map-2-line' },\n  production: { label: 'Production', icon: 'ri-factory-line' },\n  quality: { label: 'Quality', icon: 'ri-shield-check-line' },\n  demo: { label: 'Request Demo', icon: 'ri-calendar-check-line' },\n  contact: { label: 'Contact', icon: 'ri-mail-line' },\n  'contact-info': { label: 'Contact Info', icon: 'ri-contacts-line' },\n  'global-settings': { label: 'Global Settings', icon: 'ri-settings-3-line' },\n  'social-links': { label: 'Social Links', icon: 'ri-share-line' },\n  testimonials: { label: 'Testimonials', icon: 'ri-chat-quote-line' },\n  users: { label: 'Users', icon: 'ri-user-settings-line' },\n  smtp: { label: 'SMTP', icon: 'ri-mail-settings-line' },\n  logs: { label: 'Activity Logs', icon: 'ri-file-list-3-line' },\n  bin: { label: 'Recycle Bin', icon: 'ri-delete-bin-line' },\n  versions: { label: 'Version History', icon: 'ri-history-line' }\n};\n\nexport default function UserManagement() {\n  const [view, setView] = useState<'list' | 'create' | 'edit'>('list');\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [formData, setFormData] = useState({\n    username: '',\n    name: '',\n    email: '',\n    password: '',\n    role: 'editor' as User['role'],\n    status: 'active' as User['status']\n  });\n\n  // Custom permissions that override role-based defaults\n  const [customPermissions, setCustomPermissions] = useState<PagePermissions | null>(null);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<BackendUser[]>('/users');\n      if (response.success && response.data) {\n        const mappedUsers: User[] = (response.data as BackendUser[]).map(user => ({\n          id: user.id,\n          username: user.username,\n          name: user.fullName || user.username,\n          email: user.email,\n          role: user.role,\n          status: user.isActive ? 'active' : 'inactive',\n          createdAt: new Date(user.createdAt).toLocaleDateString(),\n          lastLogin: user.lastLoginAt ? new Date(user.lastLoginAt).toLocaleString() : 'Never'\n        }));\n        setUsers(mappedUsers);\n      }\n    } catch (error: any) {\n      console.error('Error fetching users:', error);\n      alert(error.message || 'Failed to load users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateUser = () => {\n    setFormData({\n      username: '',\n      name: '',\n      email: '',\n      password: '',\n      role: 'editor',\n      status: 'active'\n    });\n    setSelectedUser(null);\n    setView('create');\n  };\n\n  const handleEditUser = async (user: User) => {\n    setSelectedUser(user);\n    setFormData({\n      username: user.username,\n      name: user.name,\n      email: user.email,\n      password: '',\n      role: user.role,\n      status: user.status\n    });\n    \n    // Fetch full user data to get permissions\n    try {\n      const response = await api.get(`/users/${user.id}`);\n      if (response.success && response.data) {\n        const fullUser = response.data as any;\n        // If user has custom permissions, load them; otherwise use null (role defaults)\n        if (fullUser.permissions && Object.keys(fullUser.permissions).length > 0) {\n          setCustomPermissions(fullUser.permissions);\n        } else {\n          setCustomPermissions(null);\n        }\n      }\n    } catch (error: any) {\n      console.error('Error fetching user details:', error);\n      setCustomPermissions(null);\n    }\n    \n    setView('edit');\n  };\n\n  const handleSave = async () => {\n    if (!formData.email || !formData.username) {\n      alert('Email and username are required');\n      return;\n    }\n\n    if (view === 'create' && !formData.password) {\n      alert('Password is required when creating a new user');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const payload: any = {\n        username: formData.username,\n        email: formData.email,\n        fullName: formData.name,\n        role: formData.role,\n        permissions: customPermissions || null // Send custom permissions or null to use role defaults\n      };\n\n      if (view === 'create') {\n        payload.password = formData.password;\n        const response = await api.post('/users', payload);\n        if (response.success) {\n          alert('User created successfully!');\n          fetchUsers();\n          setView('list');\n          setSelectedUser(null);\n          setCustomPermissions(null);\n        } else {\n          throw new Error(response.message || 'Failed to create user');\n        }\n      } else {\n        // Edit mode\n        if (!selectedUser) return;\n        payload.isActive = formData.status === 'active';\n        if (formData.password) {\n          payload.password = formData.password;\n        }\n        const response = await api.put(`/users/${selectedUser.id}`, payload);\n        if (response.success) {\n          alert('User updated successfully!');\n          fetchUsers();\n          setView('list');\n          setSelectedUser(null);\n          setCustomPermissions(null);\n        } else {\n          throw new Error(response.message || 'Failed to update user');\n        }\n      }\n    } catch (error: any) {\n      console.error('Error saving user:', error);\n      alert(error.message || 'Failed to save user');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setView('list');\n    setSelectedUser(null);\n  };\n\n  const handleRoleChange = (role: User['role']) => {\n    setFormData({ ...formData, role });\n    // Reset custom permissions when role changes (use role defaults)\n    setCustomPermissions(null);\n  };\n\n  // Get current permissions (custom or role-based)\n  const getCurrentPermissions = (): PagePermissions => {\n    if (customPermissions) {\n      return customPermissions;\n    }\n    return defaultPermissions[formData.role] || defaultPermissions.editor;\n  };\n\n  const handlePermissionChange = (page: string, permission: 'view' | 'edit' | 'delete', value: boolean) => {\n    const current = getCurrentPermissions();\n    const updated = {\n      ...current,\n      [page]: {\n        ...current[page],\n        [permission]: value\n      }\n    };\n    setCustomPermissions(updated);\n  };\n\n  const resetToRoleDefaults = () => {\n    setCustomPermissions(null);\n  };\n\n  const handleDeleteUser = async (userId: number) => {\n    if (!window.confirm('Are you sure you want to delete this user?')) {\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const response = await api.delete(`/users/${userId}`);\n      if (response.success) {\n        alert('User deleted successfully!');\n        fetchUsers();\n      } else {\n        throw new Error(response.message || 'Failed to delete user');\n      }\n    } catch (error: any) {\n      console.error('Error deleting user:', error);\n      alert(error.message || 'Failed to delete user');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getRoleBadgeColor = (role: User['role']) => {\n    switch (role) {\n      case 'super_admin': return 'bg-[#7C3AED] text-white';\n      case 'admin': return 'bg-[#2563EB] text-white';\n      case 'editor': return 'bg-[#10B981] text-white';\n      case 'viewer': return 'bg-[#6B7280] text-white';\n      default: return 'bg-[#6B7280] text-white';\n    }\n  };\n\n  const getStatusBadgeColor = (status: User['status']) => {\n    return status === 'active' \n      ? 'bg-[#D1FAE5] text-[#065F46]' \n      : 'bg-[#FEE2E2] text-[#991B1B]';\n  };\n\n  if (loading && users.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <div className=\"flex items-center justify-center py-12\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* User List View */}\n      {view === 'list' && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h2 className=\"text-xl font-bold text-[#1F2937]\">User Management</h2>\n              <p className=\"text-sm text-[#6B7280] mt-1\">Manage admin users and their permissions</p>\n            </div>\n            <button\n              onClick={handleCreateUser}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n            >\n              <i className=\"ri-user-add-line\"></i>\n              <span>Add New User</span>\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"border-b-2 border-[#E5E7EB]\">\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">User</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Role</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Status</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Created</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Last Login</th>\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((user) => {\n                  const permissions = defaultPermissions[user.role];\n                  const hasViewPermission = Object.values(permissions).some(p => p.view);\n                  const hasEditPermission = Object.values(permissions).some(p => p.edit);\n                  const hasDeletePermission = Object.values(permissions).some(p => p.delete);\n                  \n                  return (\n                    <tr key={user.id} className=\"border-b border-[#F3F4F6] hover:bg-[#F9FAFB] transition-colors\">\n                      <td className=\"py-4 px-4\">\n                        <div>\n                          <p className=\"text-sm font-medium text-[#1F2937]\">{user.name}</p>\n                          <p className=\"text-xs text-[#6B7280]\">{user.email}</p>\n                        </div>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getRoleBadgeColor(user.role)}`}>\n                          {user.role.replace('_', ' ').toUpperCase()}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusBadgeColor(user.status)}`}>\n                          {user.status.toUpperCase()}\n                        </span>\n                      </td>\n                      <td className=\"py-4 px-4 text-sm text-[#6B7280]\">\n                        {user.createdAt}\n                      </td>\n                      <td className=\"py-4 px-4 text-sm text-[#6B7280]\">\n                        {user.lastLogin}\n                      </td>\n                      <td className=\"py-4 px-4\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => handleEditUser(user)}\n                            className=\"p-2 text-[#2563EB] hover:bg-[#EFF6FF] rounded-lg transition-all duration-300 cursor-pointer\"\n                            title=\"Edit User\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button\n                            onClick={() => handleDeleteUser(user.id)}\n                            className=\"p-2 text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg transition-all duration-300 cursor-pointer\"\n                            title=\"Delete User\"\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n                {users.length === 0 && !loading && (\n                  <tr>\n                    <td colSpan={6} className=\"py-8 text-center text-[#6B7280]\">\n                      No users found. Click \"Add New User\" to create one.\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Create/Edit User Form */}\n      {(view === 'create' || view === 'edit') && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-bold text-[#1F2937]\">\n              {view === 'create' ? 'Create New User' : `Edit User: ${selectedUser?.name}`}\n            </h2>\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={handleCancel}\n                className=\"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                disabled={saving}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSave}\n                disabled={saving}\n                className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {saving ? 'Saving...' : (view === 'create' ? 'Create User' : 'Save Changes')}\n              </button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Basic Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Basic Information</h3>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Username *</label>\n                <input\n                  type=\"text\"\n                  value={formData.username}\n                  onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter username\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Full Name</label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter full name\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Email Address *</label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"user@example.com\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">\n                  {view === 'create' ? 'Password *' : 'New Password (leave blank to keep current)'}\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                  placeholder=\"Enter password\"\n                  required={view === 'create'}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Role</label>\n                <select\n                  value={formData.role}\n                  onChange={(e) => handleRoleChange(e.target.value as User['role'])}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                >\n                  <option value=\"super_admin\">Super Admin - Full access to everything</option>\n                  <option value=\"admin\">Admin - Manage content and users</option>\n                  <option value=\"editor\">Editor - Edit content only</option>\n                  <option value=\"viewer\">Viewer - View only access</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-[#374151] mb-2\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value as User['status'] })}\n                  className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                >\n                  <option value=\"active\">Active</option>\n                  <option value=\"inactive\">Inactive</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Permissions Management */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2 flex-1\">Permissions</h3>\n                {customPermissions && (\n                  <button\n                    onClick={resetToRoleDefaults}\n                    className=\"text-sm text-[#2563EB] hover:text-[#1D4ED8] cursor-pointer\"\n                    title=\"Reset to role defaults\"\n                  >\n                    <i className=\"ri-refresh-line mr-1\"></i>Reset to Defaults\n                  </button>\n                )}\n              </div>\n              \n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <p className=\"text-sm text-[#6B7280] mb-4\">\n                  {customPermissions \n                    ? 'Custom permissions (overriding role defaults)' \n                    : 'Permissions are automatically set based on the selected role. You can customize them below:'}\n                </p>\n\n                <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\n                  {Object.entries(getCurrentPermissions()).map(([page, perms]) => {\n                    const pageInfo = pageLabels[page] || { label: page, icon: 'ri-file-line' };\n                    return (\n                      <div key={page} className=\"bg-white rounded-lg border border-[#E5E7EB] p-4\">\n                        <div className=\"flex items-center justify-between mb-3\">\n                          <span className=\"text-sm font-medium text-[#1F2937] flex items-center space-x-2\">\n                            <i className={`${pageInfo.icon} text-[#6B7280]`}></i>\n                            <span>{pageInfo.label}</span>\n                          </span>\n                        </div>\n                        <div className=\"flex items-center space-x-6\">\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.view}\n                              onChange={(e) => handlePermissionChange(page, 'view', e.target.checked)}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.view ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              View {perms.view ? '' : ''}\n                            </span>\n                          </label>\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.edit}\n                              onChange={(e) => handlePermissionChange(page, 'edit', e.target.checked)}\n                              disabled={!perms.view}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.edit ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              Edit {perms.edit ? '' : ''}\n                            </span>\n                          </label>\n                          <label className=\"flex items-center space-x-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={perms.delete}\n                              onChange={(e) => handlePermissionChange(page, 'delete', e.target.checked)}\n                              disabled={!perms.edit}\n                              className=\"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                            />\n                            <span className={`text-xs px-2 py-1 rounded ${perms.delete ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>\n                              Delete {perms.delete ? '' : ''}\n                            </span>\n                          </label>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <div className=\"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <i className=\"ri-information-line text-[#2563EB] text-xl mt-0.5\"></i>\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-sm font-semibold text-[#1E40AF] mb-1\">Permission Guidelines</h4>\n                    <ul className=\"text-sm text-[#1E40AF] space-y-1\">\n                      <li><strong>View:</strong> User can see the page/section content</li>\n                      <li><strong>Edit:</strong> User can modify existing content (requires View)</li>\n                      <li><strong>Delete:</strong> User can remove content (requires Edit)</li>\n                    </ul>\n                    <p className=\"text-xs text-[#1E40AF] mt-2\">\n                      You can customize permissions by checking/unchecking the boxes above. Changes will override the role defaults.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface HfMobilePageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n  productGalleryTitle: string | null;\r\n  ourProductsTitle: string | null;\r\n  hospitalsServedTitle: string | null;\r\n  enquireButtonText: string | null;\r\n}\r\n\r\ninterface HfMobileHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\ninterface HfMobileImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\ninterface HfMobileFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfMobileVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function HfMobilePageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [pageContent, setPageContent] = useState<HfMobilePageContent>({\r\n    title: null,\r\n    mainImageId: null,\r\n    deploymentInfo: null,\r\n    shortDescription: null,\r\n    fullDescription: null,\r\n    productGalleryTitle: null,\r\n    ourProductsTitle: null,\r\n    hospitalsServedTitle: null,\r\n    enquireButtonText: null\r\n  });\r\n\r\n  const [images, setImages] = useState<HfMobileImage[]>([]);\r\n  const [features, setFeatures] = useState<HfMobileFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfMobileVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<HfMobileHospital[]>([]);\r\n\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfMobileImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfMobileFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfMobileVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<HfMobileHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') {\r\n      fetchPageContent();\r\n    } else if (activeTab === 'images') {\r\n      fetchImages();\r\n    } else if (activeTab === 'features') {\r\n      fetchFeatures();\r\n    } else if (activeTab === 'variants') {\r\n      fetchVariants();\r\n    } else if (activeTab === 'hospitals') {\r\n      fetchHospitals();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobilePageContent>('/products/hf-mobile');\r\n      if (response.success && response.data) {\r\n        setPageContent(response.data as HfMobilePageContent);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileImage[]>('/products/hf-mobile/images');\r\n      if (response.success && response.data) {\r\n        setImages((response.data as HfMobileImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileFeature[]>('/products/hf-mobile/features');\r\n      if (response.success && response.data) {\r\n        setFeatures((response.data as HfMobileFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileVariant[]>('/products/hf-mobile/variants');\r\n      if (response.success && response.data) {\r\n        setVariants((response.data as HfMobileVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-mobile', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfMobileImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/images/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfMobileImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) {\r\n        await api.put(`/products/hf-mobile/images/${image.id}`, image);\r\n      } else {\r\n        await api.post('/products/hf-mobile/images', { ...image, orderIndex: images.length });\r\n      }\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfMobileFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/features/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfMobileFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) {\r\n        await api.put(`/products/hf-mobile/features/${feature.id}`, feature);\r\n      } else {\r\n        await api.post('/products/hf-mobile/features', { ...feature, orderIndex: features.length });\r\n      }\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfMobileVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/variants/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfMobileVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) {\r\n        await api.put(`/products/hf-mobile/variants/${variant.id}`, variant);\r\n      } else {\r\n        await api.post('/products/hf-mobile/variants', { ...variant, orderIndex: variants.length });\r\n      }\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfMobileHospital[]>('/products/hf-mobile/hospitals');\r\n      if (response.success && response.data) {\r\n        setHospitals((response.data as HfMobileHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: HfMobileHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-mobile/hospitals/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: HfMobileHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) {\r\n        await api.put(`/products/hf-mobile/hospitals/${hospital.id}`, hospital);\r\n      } else {\r\n        await api.post('/products/hf-mobile/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      }\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-mobile/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">HF Mobile Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[\r\n              { id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' },\r\n              { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' },\r\n              { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' },\r\n              { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' },\r\n              { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${\r\n                  activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\r\n                }`}\r\n              >\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\r\n                  {saving ? 'Saving...' : 'Save'}\r\n                </button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2 border-t pt-4 mt-4\">\r\n                  <h4 className=\"text-md font-semibold mb-4\">Section Titles & Button Text</h4>\r\n                </div>\r\n                <FormField label=\"Product Gallery Title\" hint=\"Title for the product gallery section\"><input type=\"text\" value={pageContent.productGalleryTitle || ''} onChange={(e) => setPageContent({ ...pageContent, productGalleryTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Product Gallery\" /></FormField>\r\n                <FormField label=\"Our Products Title\" hint=\"Title for the 'Our Products' section\"><input type=\"text\" value={pageContent.ourProductsTitle || ''} onChange={(e) => setPageContent({ ...pageContent, ourProductsTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Our Products\" /></FormField>\r\n                <FormField label=\"Hospitals Served Title\" hint=\"Title for the hospitals served section\"><input type=\"text\" value={pageContent.hospitalsServedTitle || ''} onChange={(e) => setPageContent({ ...pageContent, hospitalsServedTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Hospitals Served\" /></FormField>\r\n                <FormField label=\"Enquire Button Text\" hint=\"Text for the enquiry button\"><input type=\"text\" value={pageContent.enquireButtonText || ''} onChange={(e) => setPageContent({ ...pageContent, enquireButtonText: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Enquire Now\" /></FormField>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Image\r\n                </button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={images}\r\n                  onReorder={handleReorderImages}\r\n                  keyExtractor={(img) => img.id}\r\n                  renderItem={(img: HfMobileImage) => (\r\n                    <div className=\"flex items-center space-x-4 w-full\">\r\n                      {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                      <div className=\"flex-1\">\r\n                        {img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\r\n                </button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={features}\r\n                  onReorder={handleReorderFeatures}\r\n                  keyExtractor={(f) => f.id}\r\n                  renderItem={(feature: HfMobileFeature) => (\r\n                    <div className=\"flex items-center justify-between w-full\">\r\n                      <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n                  <i className=\"ri-add-line mr-2\"></i>Add Variant\r\n                </button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList\r\n                  items={variants}\r\n                  onReorder={handleReorderVariants}\r\n                  keyExtractor={(v) => v.id}\r\n                  renderItem={(variant: HfMobileVariant) => (\r\n                    <div className=\"flex items-center justify-between w-full\">\r\n                      <div>\r\n                        <h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                          {variant.isActive ? 'Active' : 'Inactive'}\r\n                        </span>\r\n                        <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-edit-line\"></i>\r\n                        </button>\r\n                        <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                          <i className=\"ri-delete-bin-line\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {showImageModal && editingImage && (\r\n        <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />\r\n      )}\r\n\r\n      {showFeatureModal && editingFeature && (\r\n        <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />\r\n      )}\r\n\r\n      {showVariantModal && editingVariant && (\r\n        <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface HfFixedPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface HfFixedImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface HfFixedFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfFixedVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface HfFixedHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function HfFixedPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<HfFixedPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<HfFixedImage[]>([]);\r\n  const [features, setFeatures] = useState<HfFixedFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfFixedVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<HfFixedHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfFixedImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfFixedFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfFixedVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<HfFixedHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedPageContent>('/products/hf-fixed');\r\n      if (response.success && response.data) setPageContent(response.data as HfFixedPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedImage[]>('/products/hf-fixed/images');\r\n      if (response.success && response.data) setImages((response.data as HfFixedImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedFeature[]>('/products/hf-fixed/features');\r\n      if (response.success && response.data) setFeatures((response.data as HfFixedFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedVariant[]>('/products/hf-fixed/variants');\r\n      if (response.success && response.data) setVariants((response.data as HfFixedVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-fixed', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfFixedImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfFixedImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/hf-fixed/images/${image.id}`, image);\r\n      else await api.post('/products/hf-fixed/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfFixedFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfFixedFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/hf-fixed/features/${feature.id}`, feature);\r\n      else await api.post('/products/hf-fixed/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfFixedVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfFixedVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/hf-fixed/variants/${variant.id}`, variant);\r\n      else await api.post('/products/hf-fixed/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfFixedHospital[]>('/products/hf-fixed/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as HfFixedHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: HfFixedHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-fixed/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: HfFixedHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/hf-fixed/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/hf-fixed/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-fixed/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">HF Fixed Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: HfFixedImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: HfFixedFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: HfFixedVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: HfFixedHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface FpdCArmPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface FpdCArmImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface FpdCArmFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface FpdCArmVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface FpdCArmHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function FpdCArmPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<FpdCArmPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<FpdCArmImage[]>([]);\r\n  const [features, setFeatures] = useState<FpdCArmFeature[]>([]);\r\n  const [variants, setVariants] = useState<FpdCArmVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<FpdCArmHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<FpdCArmImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<FpdCArmFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<FpdCArmVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<FpdCArmHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmPageContent>('/products/fpd-c-arm');\r\n      if (response.success && response.data) setPageContent(response.data as FpdCArmPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmImage[]>('/products/fpd-c-arm/images');\r\n      if (response.success && response.data) setImages((response.data as FpdCArmImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmFeature[]>('/products/fpd-c-arm/features');\r\n      if (response.success && response.data) setFeatures((response.data as FpdCArmFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmVariant[]>('/products/fpd-c-arm/variants');\r\n      if (response.success && response.data) setVariants((response.data as FpdCArmVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/fpd-c-arm', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: FpdCArmImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: FpdCArmImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/fpd-c-arm/images/${image.id}`, image);\r\n      else await api.post('/products/fpd-c-arm/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: FpdCArmFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: FpdCArmFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/fpd-c-arm/features/${feature.id}`, feature);\r\n      else await api.post('/products/fpd-c-arm/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: FpdCArmVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: FpdCArmVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/fpd-c-arm/variants/${variant.id}`, variant);\r\n      else await api.post('/products/fpd-c-arm/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<FpdCArmHospital[]>('/products/fpd-c-arm/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as FpdCArmHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: FpdCArmHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/fpd-c-arm/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: FpdCArmHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/fpd-c-arm/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/fpd-c-arm/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/fpd-c-arm/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">FPD C-Arm Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: FpdCArmImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: FpdCArmFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: FpdCArmVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: FpdCArmHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface HfCArm1kPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface HfCArm1kImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface HfCArm1kFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface HfCArm1kVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface HfCArm1kHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function HfCArm1kPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<HfCArm1kPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<HfCArm1kImage[]>([]);\r\n  const [features, setFeatures] = useState<HfCArm1kFeature[]>([]);\r\n  const [variants, setVariants] = useState<HfCArm1kVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<HfCArm1kHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<HfCArm1kImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<HfCArm1kFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<HfCArm1kVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<HfCArm1kHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kPageContent>('/products/hf-c-arm-1k');\r\n      if (response.success && response.data) setPageContent(response.data as HfCArm1kPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kImage[]>('/products/hf-c-arm-1k/images');\r\n      if (response.success && response.data) setImages((response.data as HfCArm1kImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kFeature[]>('/products/hf-c-arm-1k/features');\r\n      if (response.success && response.data) setFeatures((response.data as HfCArm1kFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kVariant[]>('/products/hf-c-arm-1k/variants');\r\n      if (response.success && response.data) setVariants((response.data as HfCArm1kVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/hf-c-arm-1k', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: HfCArm1kImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: HfCArm1kImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/hf-c-arm-1k/images/${image.id}`, image);\r\n      else await api.post('/products/hf-c-arm-1k/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: HfCArm1kFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: HfCArm1kFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/hf-c-arm-1k/features/${feature.id}`, feature);\r\n      else await api.post('/products/hf-c-arm-1k/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: HfCArm1kVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: HfCArm1kVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/hf-c-arm-1k/variants/${variant.id}`, variant);\r\n      else await api.post('/products/hf-c-arm-1k/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<HfCArm1kHospital[]>('/products/hf-c-arm-1k/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as HfCArm1kHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: HfCArm1kHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/hf-c-arm-1k/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: HfCArm1kHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/hf-c-arm-1k/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/hf-c-arm-1k/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/hf-c-arm-1k/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">1K*1K High End HF C-ARM Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: HfCArm1kImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: HfCArm1kFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: HfCArm1kVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: HfCArm1kHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface LineFrequencyPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface LineFrequencyImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface LineFrequencyFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface LineFrequencyVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface LineFrequencyHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function LineFrequencyPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<LineFrequencyPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<LineFrequencyImage[]>([]);\r\n  const [features, setFeatures] = useState<LineFrequencyFeature[]>([]);\r\n  const [variants, setVariants] = useState<LineFrequencyVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<LineFrequencyHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<LineFrequencyImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<LineFrequencyFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<LineFrequencyVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<LineFrequencyHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyPageContent>('/products/line-frequency');\r\n      if (response.success && response.data) setPageContent(response.data as LineFrequencyPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyImage[]>('/products/line-frequency/images');\r\n      if (response.success && response.data) setImages((response.data as LineFrequencyImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyFeature[]>('/products/line-frequency/features');\r\n      if (response.success && response.data) setFeatures((response.data as LineFrequencyFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyVariant[]>('/products/line-frequency/variants');\r\n      if (response.success && response.data) setVariants((response.data as LineFrequencyVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/line-frequency', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: LineFrequencyImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: LineFrequencyImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/line-frequency/images/${image.id}`, image);\r\n      else await api.post('/products/line-frequency/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: LineFrequencyFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: LineFrequencyFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/line-frequency/features/${feature.id}`, feature);\r\n      else await api.post('/products/line-frequency/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: LineFrequencyVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: LineFrequencyVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/line-frequency/variants/${variant.id}`, variant);\r\n      else await api.post('/products/line-frequency/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<LineFrequencyHospital[]>('/products/line-frequency/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as LineFrequencyHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: LineFrequencyHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/line-frequency/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: LineFrequencyHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/line-frequency/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/line-frequency/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/line-frequency/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">Line Frequency Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: LineFrequencyImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: LineFrequencyFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: LineFrequencyVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: LineFrequencyHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'highlights' | 'hospitals';\r\n\r\ninterface DigitalRadiographyPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface DigitalRadiographyImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface DigitalRadiographyFeature {\r\n  id: number;\r\n  featureText: string;\r\n  subtitle: string | null;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface DigitalRadiographyVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface DigitalRadiographyHighlight {\r\n  id: number;\r\n  subtitle: string;\r\n  description: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface DigitalRadiographyHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function DigitalRadiographyPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<DigitalRadiographyPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<DigitalRadiographyImage[]>([]);\r\n  const [features, setFeatures] = useState<DigitalRadiographyFeature[]>([]);\r\n  const [variants, setVariants] = useState<DigitalRadiographyVariant[]>([]);\r\n  const [highlights, setHighlights] = useState<DigitalRadiographyHighlight[]>([]);\r\n  const [hospitals, setHospitals] = useState<DigitalRadiographyHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHighlightModal, setShowHighlightModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<DigitalRadiographyImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<DigitalRadiographyFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<DigitalRadiographyVariant | null>(null);\r\n  const [editingHighlight, setEditingHighlight] = useState<DigitalRadiographyHighlight | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<DigitalRadiographyHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'highlights') fetchHighlights();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyPageContent>('/products/digital-radiography');\r\n      if (response.success && response.data) setPageContent(response.data as DigitalRadiographyPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyImage[]>('/products/digital-radiography/images');\r\n      if (response.success && response.data) setImages((response.data as DigitalRadiographyImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyFeature[]>('/products/digital-radiography/features');\r\n      if (response.success && response.data) setFeatures((response.data as DigitalRadiographyFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyVariant[]>('/products/digital-radiography/variants');\r\n      if (response.success && response.data) setVariants((response.data as DigitalRadiographyVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchHighlights = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyHighlight[]>('/products/digital-radiography/highlights');\r\n      if (response.success && response.data) setHighlights((response.data as DigitalRadiographyHighlight[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DigitalRadiographyHospital[]>('/products/digital-radiography/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as DigitalRadiographyHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/digital-radiography', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: DigitalRadiographyImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: DigitalRadiographyImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/digital-radiography/images/${image.id}`, image);\r\n      else await api.post('/products/digital-radiography/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: DigitalRadiographyFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: DigitalRadiographyFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/digital-radiography/features/${feature.id}`, feature);\r\n      else await api.post('/products/digital-radiography/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: DigitalRadiographyVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: DigitalRadiographyVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/digital-radiography/variants/${variant.id}`, variant);\r\n      else await api.post('/products/digital-radiography/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderHighlights = async (reordered: DigitalRadiographyHighlight[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/highlights/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHighlights(reordered);\r\n      alert('Highlights order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHighlight = async (highlight: DigitalRadiographyHighlight) => {\r\n    setSaving(true);\r\n    try {\r\n      if (highlight.id && highlight.id > 0) await api.put(`/products/digital-radiography/highlights/${highlight.id}`, highlight);\r\n      else await api.post('/products/digital-radiography/highlights', { ...highlight, orderIndex: highlights.length });\r\n      setShowHighlightModal(false);\r\n      setEditingHighlight(null);\r\n      fetchHighlights();\r\n      alert('Highlight saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHighlight = async (id: number) => {\r\n    if (!confirm('Delete this highlight?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/highlights/${id}`);\r\n      setHighlights(highlights.filter(h => h.id !== id));\r\n      alert('Highlight deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: DigitalRadiographyHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/digital-radiography/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: DigitalRadiographyHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/digital-radiography/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/digital-radiography/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/digital-radiography/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">Digital Radiography Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'highlights' as TabType, label: 'Highlights', icon: 'ri-lightbulb-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: DigitalRadiographyImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: DigitalRadiographyFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: DigitalRadiographyVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'highlights' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Featured Highlights</h3>\r\n                <button onClick={() => { setEditingHighlight({ id: 0, subtitle: '', description: '', orderIndex: highlights.length }); setShowHighlightModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Highlight</button>\r\n              </div>\r\n              {highlights.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-lightbulb-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No highlights yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={highlights} onReorder={handleReorderHighlights} keyExtractor={(h) => h.id} renderItem={(highlight: DigitalRadiographyHighlight) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-bold text-gray-900 mb-1\">{highlight.subtitle}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{highlight.description}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <button onClick={() => { setEditingHighlight(highlight); setShowHighlightModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHighlight(highlight.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: DigitalRadiographyHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHighlightModal && editingHighlight && <HighlightModal highlight={editingHighlight} onSave={handleSaveHighlight} onClose={() => { setShowHighlightModal(false); setEditingHighlight(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Subtitle (Optional - Bold text like 'Dual Battery:', 'ACCESS POINT MODE:')\">\r\n          <input type=\"text\" value={formData.subtitle || ''} onChange={(e) => setFormData({ ...formData, subtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., Dual Battery:\" />\r\n        </FormField>\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Feature description (will appear on new line after subtitle)\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HighlightModal({ highlight, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(highlight);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={highlight.id > 0 ? 'Edit Highlight' : 'Add Highlight'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Subtitle (Bold Title)\" required>\r\n          <input type=\"text\" value={formData.subtitle} onChange={(e) => setFormData({ ...formData, subtitle: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"e.g., TRANSFER IN A FLASH\" />\r\n        </FormField>\r\n        <FormField label=\"Description\" required>\r\n          <textarea value={formData.description} onChange={(e) => setFormData({ ...formData, description: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Description text...\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.subtitle || !formData.description} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../../utils/api';\r\nimport Modal from '../../../../../components/cms/Modal';\r\nimport FormField from '../../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../../components/cms/ImageSelector';\r\n\r\ntype TabType = 'content' | 'images' | 'features' | 'variants' | 'hospitals';\r\n\r\ninterface DreamSeriesPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  mainImageId: number | null;\r\n  deploymentInfo: string | null;\r\n  shortDescription: string | null;\r\n  fullDescription: string | null;\r\n}\r\n\r\ninterface DreamSeriesImage {\r\n  id: number;\r\n  imageId: number;\r\n  orderIndex: number;\r\n  isPrimary: boolean;\r\n  image?: { filePath: string; altText: string; };\r\n}\r\n\r\ninterface DreamSeriesFeature {\r\n  id: number;\r\n  featureText: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface DreamSeriesVariant {\r\n  id: number;\r\n  variantName: string;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\ninterface DreamSeriesHospital {\r\n  id: number;\r\n  hospitalName: string;\r\n  city: string | null;\r\n  state: string | null;\r\n  hospitalLogoId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  hospitalLogo?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function DreamSeriesPageManagement() {\r\n  const [activeTab, setActiveTab] = useState<TabType>('content');\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [pageContent, setPageContent] = useState<DreamSeriesPageContent>({ title: null, mainImageId: null, deploymentInfo: null, shortDescription: null, fullDescription: null });\r\n  const [images, setImages] = useState<DreamSeriesImage[]>([]);\r\n  const [features, setFeatures] = useState<DreamSeriesFeature[]>([]);\r\n  const [variants, setVariants] = useState<DreamSeriesVariant[]>([]);\r\n  const [hospitals, setHospitals] = useState<DreamSeriesHospital[]>([]);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\r\n  const [showVariantModal, setShowVariantModal] = useState(false);\r\n  const [showHospitalModal, setShowHospitalModal] = useState(false);\r\n  const [editingImage, setEditingImage] = useState<DreamSeriesImage | null>(null);\r\n  const [editingFeature, setEditingFeature] = useState<DreamSeriesFeature | null>(null);\r\n  const [editingVariant, setEditingVariant] = useState<DreamSeriesVariant | null>(null);\r\n  const [editingHospital, setEditingHospital] = useState<DreamSeriesHospital | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'content') fetchPageContent();\r\n    else if (activeTab === 'images') fetchImages();\r\n    else if (activeTab === 'features') fetchFeatures();\r\n    else if (activeTab === 'variants') fetchVariants();\r\n    else if (activeTab === 'hospitals') fetchHospitals();\r\n  }, [activeTab]);\r\n\r\n  const fetchPageContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesPageContent>('/products/dream-series');\r\n      if (response.success && response.data) setPageContent(response.data as DreamSeriesPageContent);\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesImage[]>('/products/dream-series/images');\r\n      if (response.success && response.data) setImages((response.data as DreamSeriesImage[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchFeatures = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesFeature[]>('/products/dream-series/features');\r\n      if (response.success && response.data) setFeatures((response.data as DreamSeriesFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const fetchVariants = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesVariant[]>('/products/dream-series/variants');\r\n      if (response.success && response.data) setVariants((response.data as DreamSeriesVariant[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSavePageContent = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/products/dream-series', pageContent);\r\n      alert('Page content saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderImages = async (reordered: DreamSeriesImage[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/images/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setImages(reordered);\r\n      alert('Images order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveImage = async (image: DreamSeriesImage) => {\r\n    setSaving(true);\r\n    try {\r\n      if (image.id && image.id > 0) await api.put(`/products/dream-series/images/${image.id}`, image);\r\n      else await api.post('/products/dream-series/images', { ...image, orderIndex: images.length });\r\n      setShowImageModal(false);\r\n      setEditingImage(null);\r\n      fetchImages();\r\n      alert('Image saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteImage = async (id: number) => {\r\n    if (!confirm('Delete this image?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/images/${id}`);\r\n      setImages(images.filter(i => i.id !== id));\r\n      alert('Image deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderFeatures = async (reordered: DreamSeriesFeature[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/features/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setFeatures(reordered);\r\n      alert('Features order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveFeature = async (feature: DreamSeriesFeature) => {\r\n    setSaving(true);\r\n    try {\r\n      if (feature.id && feature.id > 0) await api.put(`/products/dream-series/features/${feature.id}`, feature);\r\n      else await api.post('/products/dream-series/features', { ...feature, orderIndex: features.length });\r\n      setShowFeatureModal(false);\r\n      setEditingFeature(null);\r\n      fetchFeatures();\r\n      alert('Feature saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteFeature = async (id: number) => {\r\n    if (!confirm('Delete this feature?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/features/${id}`);\r\n      setFeatures(features.filter(f => f.id !== id));\r\n      alert('Feature deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleReorderVariants = async (reordered: DreamSeriesVariant[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/variants/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setVariants(reordered);\r\n      alert('Variants order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveVariant = async (variant: DreamSeriesVariant) => {\r\n    setSaving(true);\r\n    try {\r\n      if (variant.id && variant.id > 0) await api.put(`/products/dream-series/variants/${variant.id}`, variant);\r\n      else await api.post('/products/dream-series/variants', { ...variant, orderIndex: variants.length });\r\n      setShowVariantModal(false);\r\n      setEditingVariant(null);\r\n      fetchVariants();\r\n      alert('Variant saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteVariant = async (id: number) => {\r\n    if (!confirm('Delete this variant?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/variants/${id}`);\r\n      setVariants(variants.filter(v => v.id !== id));\r\n      alert('Variant deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const fetchHospitals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<DreamSeriesHospital[]>('/products/dream-series/hospitals');\r\n      if (response.success && response.data) setHospitals((response.data as DreamSeriesHospital[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n    } catch (error: any) { alert(error.message || 'Failed to load'); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleReorderHospitals = async (reordered: DreamSeriesHospital[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/products/dream-series/hospitals/${reordered[i].id}`, { ...reordered[i], orderIndex: i });\r\n      }\r\n      setHospitals(reordered);\r\n      alert('Hospitals order updated!');\r\n    } catch (error: any) { alert(error.message || 'Failed to update'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleSaveHospital = async (hospital: DreamSeriesHospital) => {\r\n    setSaving(true);\r\n    try {\r\n      if (hospital.id && hospital.id > 0) await api.put(`/products/dream-series/hospitals/${hospital.id}`, hospital);\r\n      else await api.post('/products/dream-series/hospitals', { ...hospital, orderIndex: hospitals.length });\r\n      setShowHospitalModal(false);\r\n      setEditingHospital(null);\r\n      fetchHospitals();\r\n      alert('Hospital saved!');\r\n    } catch (error: any) { alert(error.message || 'Failed to save'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const handleDeleteHospital = async (id: number) => {\r\n    if (!confirm('Delete this hospital?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/products/dream-series/hospitals/${id}`);\r\n      setHospitals(hospitals.filter(h => h.id !== id));\r\n      alert('Hospital deleted!');\r\n    } catch (error: any) { alert(error.message || 'Failed to delete'); } finally { setSaving(false); }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <h2 className=\"text-2xl font-medium text-gray-900\">Dream Series Product Page</h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">Manage product content, images, features, and variants</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-2\">\r\n            {[{ id: 'content' as TabType, label: 'Content', icon: 'ri-file-text-line' }, { id: 'images' as TabType, label: 'Images', icon: 'ri-image-line' }, { id: 'features' as TabType, label: 'Features', icon: 'ri-star-line' }, { id: 'variants' as TabType, label: 'Variants', icon: 'ri-list-check' }, { id: 'hospitals' as TabType, label: 'Hospitals', icon: 'ri-hospital-line' }].map((tab) => (\r\n              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${activeTab === tab.id ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\r\n                <i className={tab.icon}></i>\r\n                <span>{tab.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"p-6\">\r\n          {loading ? (\r\n            <div className=\"text-center py-12\">\r\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n            </div>\r\n          ) : activeTab === 'content' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\r\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n              </div>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField label=\"Product Title\"><input type=\"text\" value={pageContent.title || ''} onChange={(e) => setPageContent({ ...pageContent, title: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <FormField label=\"Deployment Info\"><input type=\"text\" value={pageContent.deploymentInfo || ''} onChange={(e) => setPageContent({ ...pageContent, deploymentInfo: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\r\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: id })} label=\"Main Product Image\" /></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Short Description\"><textarea value={pageContent.shortDescription || ''} onChange={(e) => setPageContent({ ...pageContent, shortDescription: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n                <div className=\"md:col-span-2\"><FormField label=\"Full Description\"><textarea value={pageContent.fullDescription || ''} onChange={(e) => setPageContent({ ...pageContent, fullDescription: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\r\n              </div>\r\n            </div>\r\n          ) : activeTab === 'images' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Images</h3>\r\n                <button onClick={() => { setEditingImage({ id: 0, imageId: 0, orderIndex: images.length, isPrimary: false }); setShowImageModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Image</button>\r\n              </div>\r\n              {images.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No images yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={images} onReorder={handleReorderImages} keyExtractor={(img) => img.id} renderItem={(img: DreamSeriesImage) => (\r\n                  <div className=\"flex items-center space-x-4 w-full\">\r\n                    {img.image && <img src={getImageUrl(img.image)} alt=\"Product\" className=\"w-20 h-20 object-cover rounded-lg\" />}\r\n                    <div className=\"flex-1\">{img.isPrimary && <span className=\"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block\">Primary</span>}</div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingImage(img); setShowImageModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'features' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Features</h3>\r\n                <button onClick={() => { setEditingFeature({ id: 0, featureText: '', orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Feature</button>\r\n              </div>\r\n              {features.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-star-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No features yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={features} onReorder={handleReorderFeatures} keyExtractor={(f) => f.id} renderItem={(feature: DreamSeriesFeature) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <p className=\"text-gray-700\">{feature.featureText}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : activeTab === 'variants' ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Product Variants</h3>\r\n                <button onClick={() => { setEditingVariant({ id: 0, variantName: '', orderIndex: variants.length, isActive: true }); setShowVariantModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Variant</button>\r\n              </div>\r\n              {variants.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-list-check text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No variants yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={variants} onReorder={handleReorderVariants} keyExtractor={(v) => v.id} renderItem={(variant: DreamSeriesVariant) => (\r\n                  <div className=\"flex items-center justify-between w-full\">\r\n                    <div><h4 className=\"font-semibold text-gray-900\">{variant.variantName}</h4></div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${variant.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{variant.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingVariant(variant); setShowVariantModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteVariant(variant.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex justify-between\">\r\n                <h3 className=\"text-lg font-semibold\">Hospitals Served</h3>\r\n                <button onClick={() => { setEditingHospital({ id: 0, hospitalName: '', city: null, state: null, hospitalLogoId: null, orderIndex: hospitals.length, isActive: true }); setShowHospitalModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"><i className=\"ri-add-line mr-2\"></i>Add Hospital</button>\r\n              </div>\r\n              {hospitals.length === 0 ? (\r\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                  <i className=\"ri-hospital-line text-4xl text-gray-400 mb-2\"></i>\r\n                  <p className=\"text-gray-500\">No hospitals yet</p>\r\n                </div>\r\n              ) : (\r\n                <DragDropList items={hospitals} onReorder={handleReorderHospitals} keyExtractor={(h) => h.id} renderItem={(hospital: DreamSeriesHospital) => (\r\n                  <div className=\"flex items-start justify-between w-full\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-semibold text-gray-900 mb-1\">{hospital.hospitalName}</h4>\r\n                      <p className=\"text-gray-600 text-sm\">{hospital.city}{hospital.city && hospital.state ? ', ' : ''}{hospital.state}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 ml-4\">\r\n                      <span className={`px-2 py-1 text-xs rounded-full ${hospital.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>{hospital.isActive ? 'Active' : 'Inactive'}</span>\r\n                      <button onClick={() => { setEditingHospital(hospital); setShowHospitalModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"><i className=\"ri-edit-line\"></i></button>\r\n                      <button onClick={() => handleDeleteHospital(hospital.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"><i className=\"ri-delete-bin-line\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                )} />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {showImageModal && editingImage && <ImageModal image={editingImage} onSave={handleSaveImage} onClose={() => { setShowImageModal(false); setEditingImage(null); }} saving={saving} />}\r\n      {showFeatureModal && editingFeature && <FeatureModal feature={editingFeature} onSave={handleSaveFeature} onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }} saving={saving} />}\r\n      {showVariantModal && editingVariant && <VariantModal variant={editingVariant} onSave={handleSaveVariant} onClose={() => { setShowVariantModal(false); setEditingVariant(null); }} saving={saving} />}\r\n      {showHospitalModal && editingHospital && <HospitalModal hospital={editingHospital} onSave={handleSaveHospital} onClose={() => { setShowHospitalModal(false); setEditingHospital(null); }} saving={saving} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ImageModal({ image, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(image);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={image.id > 0 ? 'Edit Image' : 'Add Image'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <ImageSelector value={formData.imageId} onChange={(id) => setFormData({ ...formData, imageId: id })} label=\"Product Image\" required />\r\n        <FormField label=\"Set as Primary Image\">\r\n          <select value={formData.isPrimary ? 'yes' : 'no'} onChange={(e) => setFormData({ ...formData, isPrimary: e.target.value === 'yes' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"no\">No</option>\r\n            <option value=\"yes\">Yes</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.imageId} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(feature);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Feature Text\" required>\r\n          <textarea value={formData.featureText} onChange={(e) => setFormData({ ...formData, featureText: e.target.value })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.featureText} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction VariantModal({ variant, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(variant);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={variant.id > 0 ? 'Edit Variant' : 'Add Variant'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Variant Name\" required>\r\n          <input type=\"text\" value={formData.variantName} onChange={(e) => setFormData({ ...formData, variantName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.variantName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction HospitalModal({ hospital, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(hospital);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={hospital.id > 0 ? 'Edit Hospital' : 'Add Hospital'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Hospital Name\" required>\r\n          <input type=\"text\" value={formData.hospitalName || ''} onChange={(e) => setFormData({ ...formData, hospitalName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <FormField label=\"City\">\r\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n          <FormField label=\"State\">\r\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </FormField>\r\n        </div>\r\n        <ImageSelector value={formData.hospitalLogoId} onChange={(id) => setFormData({ ...formData, hospitalLogoId: Number(id) || null })} label=\"Hospital Logo (Optional)\" />\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.hospitalName} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\nimport HfMobilePageManagement from './products/HfMobilePageManagement';\nimport HfFixedPageManagement from './products/HfFixedPageManagement';\nimport FpdCArmPageManagement from './products/FpdCArmPageManagement';\nimport HfCArm1kPageManagement from './products/HfCArm1kPageManagement';\nimport LineFrequencyPageManagement from './products/LineFrequencyPageManagement';\nimport DigitalRadiographyPageManagement from './products/DigitalRadiographyPageManagement';\nimport DreamSeriesPageManagement from './products/DreamSeriesPageManagement';\n\ntype ProductSection = 'hf-mobile' | 'hf-fixed' | 'fpd-c-arm' | 'hf-c-arm-1k' | 'line-frequency' | 'digital-radiography' | 'dream-series';\n\nexport default function ProductsPageManagement() {\n  const [activeSection, setActiveSection] = useState<ProductSection>('hf-mobile');\n\n  const sections = [\n    { id: 'hf-mobile' as ProductSection, label: 'HF Mobile', icon: 'ri-truck-line' },\n    { id: 'hf-fixed' as ProductSection, label: 'HF Fixed', icon: 'ri-hospital-line' },\n    { id: 'fpd-c-arm' as ProductSection, label: 'FPD C-Arm', icon: 'ri-scan-line' },\n    { id: 'hf-c-arm-1k' as ProductSection, label: '1K*1K High End HF C-ARM', icon: 'ri-vip-crown-line' },\n    { id: 'line-frequency' as ProductSection, label: 'Line Frequency', icon: 'ri-pulse-line' },\n    { id: 'digital-radiography' as ProductSection, label: 'Digital Radiography', icon: 'ri-image-line' },\n    { id: 'dream-series' as ProductSection, label: 'Dream Series', icon: 'ri-star-line' }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {sections.map((section) => (\n              <button\n                key={section.id}\n                onClick={() => setActiveSection(section.id)}\n                className={`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeSection === section.id\n                    ? 'text-blue-600 border-blue-600'\n                    : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n              >\n                <i className={section.icon}></i>\n                <span>{section.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div>\n        {activeSection === 'hf-mobile' && <HfMobilePageManagement />}\n        {activeSection === 'hf-fixed' && <HfFixedPageManagement />}\n        {activeSection === 'fpd-c-arm' && <FpdCArmPageManagement />}\n        {activeSection === 'hf-c-arm-1k' && <HfCArm1kPageManagement />}\n        {activeSection === 'line-frequency' && <LineFrequencyPageManagement />}\n        {activeSection === 'digital-radiography' && <DigitalRadiographyPageManagement />}\n        {activeSection === 'dream-series' && <DreamSeriesPageManagement />}\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport ContentCard from '../../../../components/cms/ContentCard';\nimport { getImageUrl } from '../../../../utils/imageUrl';\n\ninterface Award {\n  id: number;\n  title: string;\n  description: string;\n  imageId: number | null;\n  awardDate: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface AwardsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: {\n    id: number;\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function AwardsPageManagement() {\n  const [activeTab, setActiveTab] = useState<'content' | 'awards'>('content');\n  const [awards, setAwards] = useState<Award[]>([]);\n  const [content, setContent] = useState<AwardsPageContent | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showAwardModal, setShowAwardModal] = useState(false);\n  const [editingAward, setEditingAward] = useState<Award | null>(null);\n  const [viewingAward, setViewingAward] = useState<Award | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchAwards();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<AwardsPageContent>('/awards/page-content');\n      if (response.success && response.data) {\n        setContent(response.data as AwardsPageContent);\n      } else {\n        // If content doesn't exist yet, use defaults\n        setContent({\n          heroTitle: null,\n          heroSubtitle: null,\n          heroImageId: null,\n          introText: null\n        });\n      }\n    } catch (error: any) {\n      // If it's a \"not found\" error, that's okay - use defaults\n      if (error.message && error.message.includes('not found')) {\n        setContent({\n          heroTitle: null,\n          heroSubtitle: null,\n          heroImageId: null,\n          introText: null\n        });\n      } else {\n        console.error('Error fetching page content:', error);\n        alert(error.message || 'Failed to load page content');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAwards = async () => {\n    setLoading(true);\n    try {\n      // Fetch all awards for CMS, regardless of isActive status\n      const response = await api.get<Award[]>('/awards');\n      if (response.success && response.data) {\n        setAwards((response.data as Award[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching awards:', error);\n      alert(error.message || 'Failed to load awards');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    if (!content) return;\n    \n    setSaving(true);\n    try {\n      const payload = {\n        heroTitle: content.heroTitle || null,\n        heroSubtitle: content.heroSubtitle || null,\n        heroImageId: content.heroImageId || null,\n        introText: content.introText || null\n      };\n      \n      const response = await api.put('/awards/page-content', payload);\n      if (response.success) {\n        alert('Page content saved successfully!');\n        fetchPageContent(); // Refresh to get updated data with associations\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save page content');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedAwards: Award[]) => {\n    setSaving(true);\n    try {\n      // Update orderIndex for each award\n      for (let i = 0; i < reorderedAwards.length; i++) {\n        await api.put(`/awards/${reorderedAwards[i].id}`, {\n          ...reorderedAwards[i],\n          orderIndex: i\n        });\n      }\n      setAwards(reorderedAwards);\n      alert('Awards order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveAward = async (award: Award) => {\n    setSaving(true);\n    try {\n      if (award.id && award.id > 0) {\n        await api.put(`/awards/${award.id}`, award);\n      } else {\n        await api.post('/awards', { ...award, orderIndex: awards.length });\n      }\n      setShowAwardModal(false);\n      setEditingAward(null);\n      fetchAwards();\n      alert('Award saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save award');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteAward = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this award?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/awards/${id}`);\n      setAwards(awards.filter(a => a.id !== id));\n      alert('Award deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete award');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Awards Management</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage awards page content and awards list</p>\n          </div>\n        </div>\n        \n        {/* Tabs */}\n        <div className=\"mt-4 border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'content'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-file-text-line mr-2\"></i>Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('awards')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'awards'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-award-line mr-2\"></i>Awards List\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {/* Page Content Tab */}\n      {activeTab === 'content' && (\n        <PageContentEditor\n          content={content}\n          setContent={setContent}\n          onSave={handleSavePageContent}\n          saving={saving}\n          loading={loading}\n        />\n      )}\n\n      {/* Awards List Tab */}\n      {activeTab === 'awards' && (\n        <div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Awards List</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">Manage individual awards and certifications</p>\n              </div>\n              <button\n                onClick={() => {\n                  setEditingAward({\n                    id: 0,\n                    title: '',\n                    description: '',\n                    imageId: null,\n                    awardDate: null,\n                    orderIndex: awards.length,\n                    isActive: true\n                  });\n                  setShowAwardModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Award\n              </button>\n            </div>\n          </div>\n\n          {/* Info Banner */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-start space-x-3\">\n              <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>Tip:</strong> Drag and drop awards to reorder them. The order shown here will appear on the website. Only award images are shown on the frontend (no titles).\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Awards List */}\n          {loading ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading awards...</p>\n            </div>\n          ) : awards.length === 0 ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-award-line text-6xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-600 mb-4\">No awards yet. Add your first award!</p>\n              <button\n                onClick={() => {\n                  setEditingAward({\n                    id: 0,\n                    title: '',\n                    description: '',\n                    imageId: null,\n                    awardDate: null,\n                    orderIndex: 0,\n                    isActive: true\n                  });\n                  setShowAwardModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Award\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <DragDropList\n                items={awards}\n                onReorder={handleReorder}\n                keyExtractor={(award) => award.id}\n                emptyMessage=\"No awards yet. Click 'Add Award' to get started!\"\n                renderItem={(award: Award) => (\n                  <div className=\"flex items-center space-x-4 w-full\">\n                    {award.image && (\n                      <img\n                        src={getImageUrl(award.image)}\n                        alt={award.title}\n                        className=\"w-20 h-20 object-cover rounded-lg\"\n                      />\n                    )}\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{award.title}</h3>\n                      <p className=\"text-sm text-gray-600 line-clamp-2\">{award.description}</p>\n                      {award.awardDate && (\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          <i className=\"ri-calendar-line mr-1\"></i>\n                          {new Date(award.awardDate).toLocaleDateString()}\n                        </p>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        award.isActive \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {award.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                      <button\n                        onClick={() => setViewingAward(award)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        title=\"View\"\n                      >\n                        <i className=\"ri-eye-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => {\n                          setEditingAward(award);\n                          setShowAwardModal(true);\n                        }}\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                        title=\"Edit\"\n                      >\n                        <i className=\"ri-edit-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteAward(award.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        title=\"Delete\"\n                      >\n                        <i className=\"ri-delete-bin-line\"></i>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Award Modal (Create/Edit) */}\n      {showAwardModal && editingAward && (\n        <AwardModal\n          award={editingAward}\n          onSave={handleSaveAward}\n          onClose={() => {\n            setShowAwardModal(false);\n            setEditingAward(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {/* Award View Modal */}\n      {viewingAward && (\n        <AwardViewModal\n          award={viewingAward}\n          onClose={() => setViewingAward(null)}\n          onEdit={() => {\n            setEditingAward(viewingAward);\n            setViewingAward(null);\n            setShowAwardModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\n// Page Content Editor Component\nfunction PageContentEditor({\n  content,\n  setContent,\n  onSave,\n  saving,\n  loading\n}: {\n  content: AwardsPageContent | null;\n  setContent: (content: AwardsPageContent | null) => void;\n  onSave: () => void;\n  saving: boolean;\n  loading: boolean;\n}) {\n  if (loading) {\n    return (\n      <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n        <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n        <p className=\"text-gray-600 mt-2\">Loading page content...</p>\n      </div>\n    );\n  }\n\n  if (!content) {\n    return (\n      <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n        <p className=\"text-gray-600\">No page content found.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Hero Section</h3>\n      \n      <div className=\"space-y-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero title (e.g., Awards & Recognition)\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <textarea\n            value={content.heroSubtitle || ''}\n            onChange={(e) => setContent({ ...content, heroSubtitle: e.target.value || null })}\n            rows={3}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter hero subtitle (optional)\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={content.heroImageId}\n          onChange={(id) => setContent({ ...content, heroImageId: id || null })}\n          label=\"Hero Background Image\"\n          aspectRatio=\"16/9\"\n          currentImage={content.heroImage}\n        />\n\n        <FormField label=\"Intro Text\">\n          <textarea\n            value={content.introText || ''}\n            onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter introduction text (optional)\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onSave}\n            disabled={saving}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Page Content'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Award Modal (Create/Edit)\nfunction AwardModal({ award, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Award>(award);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={award.id && award.id > 0 ? 'Edit Award' : 'Add New Award'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Award Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter award title\"\n          />\n        </FormField>\n\n        <FormField label=\"Description\" required>\n          <textarea\n            value={formData.description}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter award description\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Award Date\">\n            <input\n              type=\"date\"\n              value={formData.awardDate ? new Date(formData.awardDate).toISOString().split('T')[0] : ''}\n              onChange={(e) => setFormData({ ...formData, awardDate: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Status\">\n            <select\n              value={formData.isActive ? 'active' : 'inactive'}\n              onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Award Image\"\n          aspectRatio=\"1/1\"\n        />\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title || !formData.description}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : award.id && award.id > 0 ? 'Update Award' : 'Create Award'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\n// Award View Modal\nfunction AwardViewModal({ award, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Award Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {award.image && (\n          <div className=\"rounded-lg overflow-hidden\">\n            <img\n              src={getImageUrl(award.image)}\n              alt={award.title}\n              className=\"w-full h-64 object-cover\"\n            />\n          </div>\n        )}\n\n        <div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{award.title}</h3>\n          <p className=\"text-gray-600 mb-4\">{award.description}</p>\n          \n          {award.awardDate && (\n            <p className=\"text-sm text-gray-500\">\n              <i className=\"ri-calendar-line mr-2\"></i>\n              Awarded on: {new Date(award.awardDate).toLocaleDateString('en-US', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })}\n            </p>\n          )}\n\n          <div className=\"mt-4\">\n            <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n              award.isActive \n                ? 'bg-green-100 text-green-800' \n                : 'bg-gray-100 text-gray-800'\n            }`}>\n              {award.isActive ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Award\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'jobs';\n\ninterface CareersPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  introImageId: number | null;\n  lifeAtAdonisTitle: string | null;\n  lifeAtAdonisBackgroundImageId: number | null;\n  lifeAtAdonisImageId: number | null;\n  heroImage?: { filePath: string };\n  introImage?: { filePath: string };\n  lifeAtAdonisBackgroundImage?: { filePath: string };\n  lifeAtAdonisImage?: { filePath: string };\n}\n\ninterface Job {\n  id: number;\n  title: string;\n  department: string | null;\n  location: string | null;\n  employmentType: string | null;\n  description: string | null;\n  requirements: string | null;\n  responsibilities: string | null;\n  salaryRange: string | null;\n  isActive: boolean;\n  postedDate: string | null;\n}\n\nexport default function CareersPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<CareersPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    introImageId: null,\n    lifeAtAdonisTitle: null,\n    lifeAtAdonisBackgroundImageId: null,\n    lifeAtAdonisImageId: null\n  });\n\n  // Jobs\n  const [jobs, setJobs] = useState<Job[]>([]);\n  const [showJobModal, setShowJobModal] = useState(false);\n  const [editingJob, setEditingJob] = useState<Job | null>(null);\n  const [viewingJob, setViewingJob] = useState<Job | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchJobs();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<CareersPageContent>('/careers');\n      if (response.success && response.data) {\n        setPageContent(response.data as CareersPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchJobs = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Job[]>('/careers/jobs');\n      if (response.success && response.data) {\n        setJobs(response.data as Job[]);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load jobs');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/careers', pageContent);\n      if (response.success) {\n        alert('Page content saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveJob = async (job: Job) => {\n    setSaving(true);\n    try {\n      if (job.id && job.id > 0) {\n        await api.put(`/careers/jobs/${job.id}`, job);\n      } else {\n        await api.post('/careers/jobs', { ...job, postedDate: new Date().toISOString() });\n      }\n      setShowJobModal(false);\n      setEditingJob(null);\n      fetchJobs();\n      alert('Job saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save job');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteJob = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this job?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/careers/jobs/${id}`);\n      setJobs(jobs.filter(j => j.id !== id));\n      alert('Job deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Careers Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage careers page content and job listings</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'content'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('jobs')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'jobs'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Job Listings\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : activeTab === 'content' ? (\n            <PageContentEditor\n              content={pageContent}\n              onChange={setPageContent}\n              onSave={handleSavePageContent}\n              saving={saving}\n            />\n          ) : (\n            <JobsListEditor\n              jobs={jobs}\n              onAdd={() => {\n                setEditingJob({\n                  id: 0,\n                  title: '',\n                  department: null,\n                  location: null,\n                  employmentType: null,\n                  description: null,\n                  requirements: null,\n                  responsibilities: null,\n                  salaryRange: null,\n                  isActive: true,\n                  postedDate: null\n                });\n                setShowJobModal(true);\n              }}\n              onEdit={(job) => {\n                setEditingJob(job);\n                setShowJobModal(true);\n              }}\n              onView={setViewingJob}\n              onDelete={handleDeleteJob}\n            />\n          )}\n        </div>\n      </div>\n\n      {showJobModal && editingJob && (\n        <JobModal\n          job={editingJob}\n          onSave={handleSaveJob}\n          onClose={() => {\n            setShowJobModal(false);\n            setEditingJob(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingJob && (\n        <JobViewModal\n          job={viewingJob}\n          onClose={() => setViewingJob(null)}\n          onEdit={() => {\n            setEditingJob(viewingJob);\n            setViewingJob(null);\n            setShowJobModal(true);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Page Content</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <input\n            type=\"text\"\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={content.heroImageId}\n            onChange={(id) => onChange({ ...content, heroImageId: id })}\n            label=\"Hero Image\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text\">\n            <textarea\n              value={content.introText || ''}\n              onChange={(e) => onChange({ ...content, introText: e.target.value || null })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={content.introImageId}\n          onChange={(id) => onChange({ ...content, introImageId: id })}\n          label=\"Intro Image\"\n        />\n      </div>\n\n      {/* Life at Adonis Medical Section */}\n      <div className=\"border-t pt-6 mt-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Life at Adonis Medical Section</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"md:col-span-2\">\n            <FormField label=\"Title\">\n              <input\n                type=\"text\"\n                value={content.lifeAtAdonisTitle || ''}\n                onChange={(e) => onChange({ ...content, lifeAtAdonisTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Life at Adonis Medical\"\n              />\n            </FormField>\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <ImageSelector\n              value={content.lifeAtAdonisBackgroundImageId}\n              onChange={(id) => onChange({ ...content, lifeAtAdonisBackgroundImageId: id })}\n              label=\"Background Image\"\n            />\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <ImageSelector\n              value={content.lifeAtAdonisImageId}\n              onChange={(id) => onChange({ ...content, lifeAtAdonisImageId: id })}\n              label=\"Section Image\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction JobsListEditor({ jobs, onAdd, onEdit, onView, onDelete }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Job Listings</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Job\n        </button>\n      </div>\n\n      {jobs.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n          <i className=\"ri-briefcase-line text-4xl text-gray-400 mb-2\"></i>\n          <p className=\"text-gray-500\">No jobs yet. Add your first job!</p>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {jobs.map((job: Job) => (\n            <div key={job.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-semibold text-gray-900\">{job.title}</h4>\n                  <div className=\"flex flex-wrap gap-2 mt-2 text-sm text-gray-600\">\n                    {job.department && <span><i className=\"ri-building-line mr-1\"></i>{job.department}</span>}\n                    {job.location && <span><i className=\"ri-map-pin-line mr-1\"></i>{job.location}</span>}\n                    {job.employmentType && <span><i className=\"ri-time-line mr-1\"></i>{job.employmentType}</span>}\n                  </div>\n                  {job.postedDate && (\n                    <p className=\"text-xs text-gray-500 mt-2\">\n                      Posted: {new Date(job.postedDate).toLocaleDateString()}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2 ml-4\">\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    job.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {job.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                  <button\n                    onClick={() => onView(job)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-eye-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onEdit(job)}\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => onDelete(job.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction JobModal({ job, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Job>(job);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={job.id && job.id > 0 ? 'Edit Job' : 'Add New Job'}\n      size=\"xl\"\n    >\n      <div className=\"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Job Title\" required>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Department\">\n            <input\n              type=\"text\"\n              value={formData.department || ''}\n              onChange={(e) => setFormData({ ...formData, department: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Location\">\n            <input\n              type=\"text\"\n              value={formData.location || ''}\n              onChange={(e) => setFormData({ ...formData, location: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n\n          <FormField label=\"Employment Type\">\n            <select\n              value={formData.employmentType || ''}\n              onChange={(e) => setFormData({ ...formData, employmentType: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Select type</option>\n              <option value=\"Full-time\">Full-time</option>\n              <option value=\"Part-time\">Part-time</option>\n              <option value=\"Contract\">Contract</option>\n              <option value=\"Internship\">Internship</option>\n            </select>\n          </FormField>\n\n          <FormField label=\"Salary Range\">\n            <input\n              type=\"text\"\n              value={formData.salaryRange || ''}\n              onChange={(e) => setFormData({ ...formData, salaryRange: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"e.g., $50,000 - $70,000\"\n            />\n          </FormField>\n\n          <FormField label=\"Status\">\n            <select\n              value={formData.isActive ? 'active' : 'inactive'}\n              onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </FormField>\n        </div>\n\n        <FormField label=\"Job Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Requirements\">\n          <textarea\n            value={formData.requirements || ''}\n            onChange={(e) => setFormData({ ...formData, requirements: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Responsibilities\">\n          <textarea\n            value={formData.responsibilities || ''}\n            onChange={(e) => setFormData({ ...formData, responsibilities: e.target.value || null })}\n            rows={5}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : job.id && job.id > 0 ? 'Update Job' : 'Create Job'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction JobViewModal({ job, onClose, onEdit }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Job Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-2xl font-medium text-gray-900 mb-4\">{job.title}</h3>\n          <div className=\"flex flex-wrap gap-4 text-sm text-gray-600 mb-4\">\n            {job.department && <span><i className=\"ri-building-line mr-1\"></i>{job.department}</span>}\n            {job.location && <span><i className=\"ri-map-pin-line mr-1\"></i>{job.location}</span>}\n            {job.employmentType && <span><i className=\"ri-time-line mr-1\"></i>{job.employmentType}</span>}\n            {job.salaryRange && <span><i className=\"ri-money-dollar-circle-line mr-1\"></i>{job.salaryRange}</span>}\n          </div>\n          {job.postedDate && (\n            <p className=\"text-sm text-gray-500\">\n              Posted: {new Date(job.postedDate).toLocaleDateString()}\n            </p>\n          )}\n        </div>\n\n        {job.description && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Description</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.description}</p>\n          </div>\n        )}\n\n        {job.requirements && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Requirements</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.requirements}</p>\n          </div>\n        )}\n\n        {job.responsibilities && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Responsibilities</h4>\n            <p className=\"text-gray-600 whitespace-pre-wrap\">{job.responsibilities}</p>\n          </div>\n        )}\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Job\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\n\ninterface ContactUsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  introText: string | null;\n}\n\nexport default function ContactPageManagement() {\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<ContactUsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    introText: null\n  });\n\n  useEffect(() => {\n    fetchContent();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ContactUsPageContent>('/contact-us');\n      if (response.success && response.data) {\n        setContent(response.data as ContactUsPageContent);\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/contact-us', content);\n      if (response.success) {\n        alert('Contact page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Contact Us Page</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage contact page content</p>\n          </div>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"space-y-6\">\n            <FormField label=\"Hero Title\">\n              <input\n                type=\"text\"\n                value={content.heroTitle || ''}\n                onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Contact Us\"\n              />\n            </FormField>\n\n            <FormField label=\"Hero Subtitle\">\n              <input\n                type=\"text\"\n                value={content.heroSubtitle || ''}\n                onChange={(e) => setContent({ ...content, heroSubtitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Get in touch with us\"\n              />\n            </FormField>\n\n            {/* Intro Text field hidden for now */}\n            {/* <FormField label=\"Intro Text\">\n              <textarea\n                value={content.introText || ''}\n                onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n                rows={6}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter introduction text for the contact page\"\n              />\n            </FormField> */}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface SMTPConfig {\n  host: string;\n  port: string;\n  username: string;\n  password: string;\n  fromEmail: string;\n  fromName: string;\n  encryption: 'none' | 'ssl' | 'tls';\n  enabled: boolean;\n}\n\nexport default function SMTPConfiguration() {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isTesting, setIsTesting] = useState(false);\n  const [testResult, setTestResult] = useState<{ success: boolean; message: string } | null>(null);\n\n  const [smtpConfig, setSmtpConfig] = useState<SMTPConfig>({\n    host: 'smtp.gmail.com',\n    port: '587',\n    username: 'your-email@gmail.com',\n    password: '',\n    fromEmail: 'noreply@adonismedical.com',\n    fromName: 'Adonis Medical',\n    encryption: 'tls',\n    enabled: true\n  });\n\n  const [testEmail, setTestEmail] = useState('');\n\n  const handleSave = () => {\n    console.log('Saving SMTP configuration:', smtpConfig);\n    setIsEditing(false);\n    setTestResult({ success: true, message: 'SMTP configuration saved successfully!' });\n    setTimeout(() => setTestResult(null), 5000);\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n  };\n\n  const handleTestConnection = async () => {\n    if (!testEmail) {\n      setTestResult({ success: false, message: 'Please enter a test email address' });\n      return;\n    }\n\n    setIsTesting(true);\n    setTestResult(null);\n\n    // Simulate API call\n    setTimeout(() => {\n      setIsTesting(false);\n      setTestResult({\n        success: true,\n        message: `Test email sent successfully to ${testEmail}! Please check your inbox.`\n      });\n    }, 2000);\n  };\n\n  const commonSMTPProviders = [\n    {\n      name: 'Gmail',\n      host: 'smtp.gmail.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use App Password for Gmail accounts with 2FA enabled'\n    },\n    {\n      name: 'Outlook/Office 365',\n      host: 'smtp.office365.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use your Microsoft account credentials'\n    },\n    {\n      name: 'Yahoo Mail',\n      host: 'smtp.mail.yahoo.com',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Generate an app password in Yahoo account settings'\n    },\n    {\n      name: 'SendGrid',\n      host: 'smtp.sendgrid.net',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use \"apikey\" as username and your API key as password'\n    },\n    {\n      name: 'Mailgun',\n      host: 'smtp.mailgun.org',\n      port: '587',\n      encryption: 'tls' as const,\n      note: 'Use your Mailgun SMTP credentials'\n    }\n  ];\n\n  const applyProvider = (provider: typeof commonSMTPProviders[0]) => {\n    setSmtpConfig({\n      ...smtpConfig,\n      host: provider.host,\n      port: provider.port,\n      encryption: provider.encryption\n    });\n    setIsEditing(true);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* SMTP Configuration */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-xl font-bold text-[#1F2937]\">SMTP Configuration</h2>\n            <p className=\"text-sm text-[#6B7280] mt-1\">Configure email server settings for sending emails</p>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            {!isEditing ? (\n              <button\n                onClick={() => setIsEditing(true)}\n                className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-edit-line mr-2\"></i>Edit Configuration\n              </button>\n            ) : (\n              <>\n                <button\n                  onClick={handleCancel}\n                  className=\"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleSave}\n                  className=\"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap\"\n                >\n                  Save Configuration\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Status Alert */}\n        {testResult && (\n          <div className={`mb-6 p-4 rounded-lg border ${\n            testResult.success \n              ? 'bg-[#D1FAE5] border-[#6EE7B7] text-[#065F46]' \n              : 'bg-[#FEE2E2] border-[#FCA5A5] text-[#991B1B]'\n          }`}>\n            <div className=\"flex items-center space-x-3\">\n              <i className={`${testResult.success ? 'ri-checkbox-circle-line' : 'ri-error-warning-line'} text-xl`}></i>\n              <p className=\"text-sm font-medium\">{testResult.message}</p>\n            </div>\n          </div>\n        )}\n\n        {isEditing ? (\n          <div className=\"space-y-6\">\n            {/* Enable/Disable Toggle */}\n            <div className=\"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]\">\n              <div>\n                <h3 className=\"text-sm font-semibold text-[#1F2937]\">Enable SMTP</h3>\n                <p className=\"text-xs text-[#6B7280] mt-1\">Turn on/off email sending functionality</p>\n              </div>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={smtpConfig.enabled}\n                  onChange={(e) => setSmtpConfig({ ...smtpConfig, enabled: e.target.checked })}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-[#D1D5DB] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#BFDBFE] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#D1D5DB] after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#2563EB]\"></div>\n              </label>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Server Settings */}\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Server Settings</h3>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">SMTP Host</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.host}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, host: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"smtp.example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">SMTP Port</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.port}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, port: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"587\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Encryption</label>\n                  <select\n                    value={smtpConfig.encryption}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, encryption: e.target.value as SMTPConfig['encryption'] })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer\"\n                  >\n                    <option value=\"none\">None</option>\n                    <option value=\"ssl\">SSL</option>\n                    <option value=\"tls\">TLS (Recommended)</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Username</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.username}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, username: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"your-email@example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">Password</label>\n                  <input\n                    type=\"password\"\n                    value={smtpConfig.password}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, password: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"\"\n                  />\n                </div>\n              </div>\n\n              {/* Sender Settings */}\n              <div className=\"space-y-4\">\n                <h3 className=\"text-lg font-semibold text-[#1F2937] border-b pb-2\">Sender Settings</h3>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">From Email</label>\n                  <input\n                    type=\"email\"\n                    value={smtpConfig.fromEmail}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, fromEmail: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"noreply@example.com\"\n                  />\n                  <p className=\"text-xs text-[#6B7280] mt-1\">Email address that will appear as sender</p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-[#374151] mb-2\">From Name</label>\n                  <input\n                    type=\"text\"\n                    value={smtpConfig.fromName}\n                    onChange={(e) => setSmtpConfig({ ...smtpConfig, fromName: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                    placeholder=\"Your Company Name\"\n                  />\n                  <p className=\"text-xs text-[#6B7280] mt-1\">Name that will appear as sender</p>\n                </div>\n\n                {/* Test Email Section */}\n                <div className=\"mt-6 p-4 bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg\">\n                  <h4 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Test Email Connection</h4>\n                  <div className=\"space-y-3\">\n                    <input\n                      type=\"email\"\n                      value={testEmail}\n                      onChange={(e) => setTestEmail(e.target.value)}\n                      className=\"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all\"\n                      placeholder=\"test@example.com\"\n                    />\n                    <button\n                      onClick={handleTestConnection}\n                      disabled={isTesting}\n                      className=\"w-full px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {isTesting ? (\n                        <>\n                          <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                          Sending Test Email...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"ri-mail-send-line mr-2\"></i>\n                          Send Test Email\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"space-y-4\">\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h3 className=\"text-sm font-semibold text-[#1F2937]\">Status</h3>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                    smtpConfig.enabled \n                      ? 'bg-[#D1FAE5] text-[#065F46]' \n                      : 'bg-[#FEE2E2] text-[#991B1B]'\n                  }`}>\n                    {smtpConfig.enabled ? 'Enabled' : 'Disabled'}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Server Settings</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Host:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.host}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Port:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.port}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Encryption:</span>\n                    <span className=\"text-[#1F2937] font-medium uppercase\">{smtpConfig.encryption}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">Username:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.username}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937] mb-3\">Sender Information</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">From Email:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.fromEmail}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[#6B7280]\">From Name:</span>\n                    <span className=\"text-[#1F2937] font-medium\">{smtpConfig.fromName}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Common SMTP Providers */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6\">\n        <h2 className=\"text-xl font-bold text-[#1F2937] mb-4\">Common SMTP Providers</h2>\n        <p className=\"text-sm text-[#6B7280] mb-6\">Quick setup with popular email service providers</p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {commonSMTPProviders.map((provider) => (\n            <div key={provider.name} className=\"border border-[#E5E7EB] rounded-lg p-4 hover:shadow-md transition-all\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-sm font-semibold text-[#1F2937]\">{provider.name}</h3>\n                <button\n                  onClick={() => applyProvider(provider)}\n                  className=\"px-3 py-1 bg-[#2563EB] text-white text-xs rounded-lg hover:bg-[#1D4ED8] transition-all cursor-pointer whitespace-nowrap\"\n                >\n                  Use This\n                </button>\n              </div>\n              <div className=\"space-y-1 text-xs text-[#6B7280] mb-3\">\n                <p><strong>Host:</strong> {provider.host}</p>\n                <p><strong>Port:</strong> {provider.port}</p>\n                <p><strong>Encryption:</strong> {provider.encryption.toUpperCase()}</p>\n              </div>\n              <p className=\"text-xs text-[#6B7280] bg-[#F9FAFB] p-2 rounded\">\n                <i className=\"ri-information-line mr-1\"></i>\n                {provider.note}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Help & Documentation */}\n      <div className=\"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-6\">\n        <div className=\"flex items-start space-x-3\">\n          <i className=\"ri-information-line text-[#2563EB] text-2xl mt-0.5\"></i>\n          <div className=\"flex-1\">\n            <h3 className=\"text-sm font-semibold text-[#1E40AF] mb-2\">SMTP Configuration Help</h3>\n            <ul className=\"text-sm text-[#1E40AF] space-y-2\">\n              <li><strong>Port 587 (TLS):</strong> Recommended for most providers, uses STARTTLS encryption</li>\n              <li><strong>Port 465 (SSL):</strong> Uses SSL encryption, supported by some providers</li>\n              <li><strong>Port 25:</strong> Standard SMTP port, often blocked by ISPs</li>\n              <li><strong>Gmail Users:</strong> Enable \"Less secure app access\" or use App Passwords with 2FA</li>\n              <li><strong>Testing:</strong> Always send a test email after configuration to verify settings</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'page' | 'specialties';\n\ninterface Specialty {\n  id: number;\n  name: string;\n  slug: string;\n  description: string | null;\n  imageId: number | null;\n  iconClass: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface SpecialtiesPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\ninterface SpecialtiesPageCard {\n  id: number;\n  name: string;\n  backgroundImageId: number | null;\n  cardImageId: number | null;\n  internalLink: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  cardImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function SpecialtiesPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('page');\n  const [specialties, setSpecialties] = useState<Specialty[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showSpecialtyModal, setShowSpecialtyModal] = useState(false);\n  const [editingSpecialty, setEditingSpecialty] = useState<Specialty | null>(null);\n  const [viewingSpecialty, setViewingSpecialty] = useState<Specialty | null>(null);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<SpecialtiesPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  // Page Cards\n  const [pageCards, setPageCards] = useState<SpecialtiesPageCard[]>([]);\n  const [showCardModal, setShowCardModal] = useState(false);\n  const [editingCard, setEditingCard] = useState<SpecialtiesPageCard | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'page') {\n      fetchPageContent();\n      fetchPageCards();\n    } else {\n      fetchSpecialties();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<SpecialtiesPageContent>('/specialties/page/content');\n      if (response.success && response.data) {\n        setPageContent(response.data as SpecialtiesPageContent);\n      }\n    } catch (error: any) {\n      console.error('Error fetching page content:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPageCards = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<SpecialtiesPageCard[]>('/specialties/page/cards');\n      if (response.success && response.data) {\n        setPageCards((response.data as SpecialtiesPageCard[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching page cards:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSpecialties = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Specialty[]>('/specialties');\n      if (response.success && response.data) {\n        setSpecialties((response.data as Specialty[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching specialties:', error);\n      alert(error.message || 'Failed to load specialties');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/specialties/page/content', pageContent);\n      if (response.success) {\n        alert('Page content saved successfully!');\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveCard = async (card: SpecialtiesPageCard) => {\n    setSaving(true);\n    try {\n      if (card.id && card.id > 0) {\n        await api.put(`/specialties/page/cards/${card.id}`, card);\n      } else {\n        await api.post('/specialties/page/cards', { ...card, orderIndex: pageCards.length });\n      }\n      setShowCardModal(false);\n      setEditingCard(null);\n      fetchPageCards();\n      alert('Card saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save card');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteCard = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this card?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/specialties/page/cards/${id}`);\n      setPageCards(pageCards.filter(c => c.id !== id));\n      alert('Card deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderCards = async (reorderedCards: SpecialtiesPageCard[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedCards.length; i++) {\n        await api.put(`/specialties/page/cards/${reorderedCards[i].id}`, {\n          ...reorderedCards[i],\n          orderIndex: i\n        });\n      }\n      setPageCards(reorderedCards);\n      alert('Cards order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedSpecialties: Specialty[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedSpecialties.length; i++) {\n        await api.put(`/specialties/${reorderedSpecialties[i].id}`, {\n          ...reorderedSpecialties[i],\n          orderIndex: i\n        });\n      }\n      setSpecialties(reorderedSpecialties);\n      alert('Specialties order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveSpecialty = async (specialty: Specialty) => {\n    setSaving(true);\n    try {\n      // Generate slug from name if not provided\n      if (!specialty.slug && specialty.name) {\n        specialty.slug = specialty.name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '');\n      }\n\n      if (specialty.id && specialty.id > 0) {\n        await api.put(`/specialties/${specialty.id}`, specialty);\n      } else {\n        await api.post('/specialties', { ...specialty, orderIndex: specialties.length });\n      }\n      setShowSpecialtyModal(false);\n      setEditingSpecialty(null);\n      fetchSpecialties();\n      alert('Specialty saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save specialty');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteSpecialty = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this specialty?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/specialties/${id}`);\n      setSpecialties(specialties.filter(s => s.id !== id));\n      alert('Specialty deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete specialty');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (specialty: Specialty): string => {\n    if (!specialty.image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${specialty.image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Specialties Page Management</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage specialties page content and cards</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('page')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'page'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content & Cards\n            </button>\n            <button\n              onClick={() => setActiveTab('specialties')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'specialties'\n                  ? 'text-blue-600 border-blue-600'\n                  : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              General Specialties\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading...</p>\n            </div>\n          ) : activeTab === 'page' ? (\n            <>\n              <PageContentEditor\n                content={pageContent}\n                onChange={setPageContent}\n                onSave={handleSavePageContent}\n                saving={saving}\n              />\n              <div className=\"border-t mt-8 pt-8\">\n                <CardsEditor\n                  cards={pageCards}\n                  onAdd={() => {\n                    setEditingCard({\n                      id: 0,\n                      name: '',\n                      backgroundImageId: null,\n                      cardImageId: null,\n                      internalLink: null,\n                      orderIndex: pageCards.length,\n                      isActive: true\n                    });\n                    setShowCardModal(true);\n                  }}\n                  onEdit={(card) => {\n                    setEditingCard(card);\n                    setShowCardModal(true);\n                  }}\n                  onDelete={handleDeleteCard}\n                  onReorder={handleReorderCards}\n                  saving={saving}\n                />\n              </div>\n            </>\n          ) : (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">General Specialties</h3>\n                <button\n                  onClick={() => {\n                    setEditingSpecialty({\n                      id: 0,\n                      name: '',\n                      slug: '',\n                      description: null,\n                      imageId: null,\n                      iconClass: null,\n                      orderIndex: specialties.length,\n                      isActive: true\n                    });\n                    setShowSpecialtyModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Specialty\n                </button>\n              </div>\n\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-blue-800\">\n                      <strong>Tip:</strong> Drag and drop specialties to reorder them.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {specialties.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-stethoscope-line text-6xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-600 mb-4\">No specialties yet. Add your first specialty!</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={specialties}\n                  onReorder={handleReorder}\n                  keyExtractor={(specialty) => specialty.id}\n                  emptyMessage=\"No specialties yet. Click 'Add Specialty' to get started!\"\n                  renderItem={(specialty: Specialty) => (\n                    <div className=\"flex items-center space-x-4 w-full\">\n                      {specialty.iconClass && (\n                        <i className={`${specialty.iconClass} text-3xl text-blue-600`}></i>\n                      )}\n                      {specialty.image && !specialty.iconClass && (\n                        <img\n                          src={getImageUrl(specialty)}\n                          alt={specialty.name}\n                          className=\"w-12 h-12 object-cover rounded-lg\"\n                        />\n                      )}\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900\">{specialty.name}</h3>\n                        {specialty.description && (\n                          <p className=\"text-sm text-gray-600 line-clamp-1\">{specialty.description}</p>\n                        )}\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${\n                          specialty.isActive \n                            ? 'bg-green-100 text-green-800' \n                            : 'bg-gray-100 text-gray-800'\n                        }`}>\n                          {specialty.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button\n                          onClick={() => setViewingSpecialty(specialty)}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                          title=\"View\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => {\n                            setEditingSpecialty(specialty);\n                            setShowSpecialtyModal(true);\n                          }}\n                          className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                          title=\"Edit\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteSpecialty(specialty.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                          title=\"Delete\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showCardModal && editingCard && (\n        <CardModal\n          card={editingCard}\n          onSave={handleSaveCard}\n          onClose={() => {\n            setShowCardModal(false);\n            setEditingCard(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {showSpecialtyModal && editingSpecialty && (\n        <SpecialtyModal\n          specialty={editingSpecialty}\n          onSave={handleSaveSpecialty}\n          onClose={() => {\n            setShowSpecialtyModal(false);\n            setEditingSpecialty(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingSpecialty && (\n        <SpecialtyViewModal\n          specialty={viewingSpecialty}\n          onClose={() => setViewingSpecialty(null)}\n          onEdit={() => {\n            setEditingSpecialty(viewingSpecialty);\n            setViewingSpecialty(null);\n            setShowSpecialtyModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\n// Page Content Editor\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Hero Section</h3>\n        <button\n          onClick={onSave}\n          disabled={saving}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n        >\n          {saving ? 'Saving...' : 'Save Changes'}\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <input\n            type=\"text\"\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <ImageSelector\n            value={content.heroImageId}\n            onChange={(id) => onChange({ ...content, heroImageId: id })}\n            label=\"Hero Background Image\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <FormField label=\"Intro Text\">\n            <textarea\n              value={content.introText || ''}\n              onChange={(e) => onChange({ ...content, introText: e.target.value || null })}\n              rows={4}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n          </FormField>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Cards Editor\nfunction CardsEditor({ cards, onAdd, onEdit, onDelete, onReorder, saving }: any) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold\">Specialties Cards</h3>\n        <button\n          onClick={onAdd}\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n        >\n          <i className=\"ri-add-line mr-2\"></i>Add Card\n        </button>\n      </div>\n\n      {cards.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n          <i className=\"ri-image-line text-4xl text-gray-400 mb-2\"></i>\n          <p className=\"text-gray-500\">No cards yet. Add your first card!</p>\n        </div>\n      ) : (\n        <DragDropList\n          items={cards}\n          onReorder={onReorder}\n          keyExtractor={(card: SpecialtiesPageCard) => card.id}\n          emptyMessage=\"No cards yet. Click 'Add Card' to get started!\"\n          renderItem={(card: SpecialtiesPageCard) => (\n            <div className=\"flex items-center space-x-4 w-full\">\n              {card.cardImage && (\n                <img\n                  src={getCardImageUrl(card)}\n                  alt={card.name}\n                  className=\"w-16 h-16 object-cover rounded-lg\"\n                />\n              )}\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-gray-900\">{card.name}</h3>\n                {card.internalLink && (\n                  <p className=\"text-sm text-gray-600\">Link: {card.internalLink}</p>\n                )}\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <span className={`px-2 py-1 text-xs rounded-full ${\n                  card.isActive \n                    ? 'bg-green-100 text-green-800' \n                    : 'bg-gray-100 text-gray-800'\n                }`}>\n                  {card.isActive ? 'Active' : 'Inactive'}\n                </span>\n                <button\n                  onClick={() => onEdit(card)}\n                  className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                  title=\"Edit\"\n                >\n                  <i className=\"ri-edit-line\"></i>\n                </button>\n                <button\n                  onClick={() => onDelete(card.id)}\n                  className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                  title=\"Delete\"\n                >\n                  <i className=\"ri-delete-bin-line\"></i>\n                </button>\n              </div>\n            </div>\n          )}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction getCardImageUrl(card: SpecialtiesPageCard): string {\n  if (!card.cardImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${card.cardImage.filePath}`;\n}\n\n// Card Modal\nfunction CardModal({ card, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<SpecialtiesPageCard>(card);\n\n  useEffect(() => {\n    setFormData(card);\n  }, [card]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={card.id && card.id > 0 ? 'Edit Card' : 'Add New Card'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Card Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Radiology\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <ImageSelector\n            value={formData.backgroundImageId}\n            onChange={(id) => setFormData({ ...formData, backgroundImageId: id })}\n            label=\"Background Image\"\n          />\n\n          <ImageSelector\n            value={formData.cardImageId}\n            onChange={(id) => setFormData({ ...formData, cardImageId: id })}\n            label=\"Card Image\"\n          />\n        </div>\n\n        <FormField label=\"Internal Link\" hint=\"Page URL to redirect to (e.g., /products, /about)\">\n          <input\n            type=\"text\"\n            value={formData.internalLink || ''}\n            onChange={(e) => setFormData({ ...formData, internalLink: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"/products\"\n          />\n        </FormField>\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : card.id && card.id > 0 ? 'Update Card' : 'Create Card'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SpecialtyModal({ specialty, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Specialty>(specialty);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={specialty.id && specialty.id > 0 ? 'Edit Specialty' : 'Add New Specialty'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Specialty Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => {\n              const name = e.target.value;\n              setFormData({ \n                ...formData, \n                name,\n                slug: name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '')\n              });\n            }}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Cardiology\"\n          />\n        </FormField>\n\n        <FormField label=\"Slug\" hint=\"Auto-generated from name, or customize\">\n          <input\n            type=\"text\"\n            value={formData.slug}\n            onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"cardiology\"\n          />\n        </FormField>\n\n        <FormField label=\"Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter specialty description\"\n          />\n        </FormField>\n\n        <FormField label=\"Icon Class\" hint=\"Use RemixIcon class (e.g., ri-heart-line)\">\n          <input\n            type=\"text\"\n            value={formData.iconClass || ''}\n            onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"ri-heart-line\"\n          />\n          {formData.iconClass && (\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Preview: <i className={formData.iconClass}></i>\n            </div>\n          )}\n        </FormField>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Specialty Image\"\n          aspectRatio=\"1/1\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name || !formData.slug}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : specialty.id && specialty.id > 0 ? 'Update Specialty' : 'Create Specialty'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction SpecialtyViewModal({ specialty, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Specialty Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center space-x-4\">\n          {specialty.iconClass && (\n            <i className={`${specialty.iconClass} text-5xl text-blue-600`}></i>\n          )}\n          {specialty.image && !specialty.iconClass && (\n            <img\n              src={getImageUrl(specialty)}\n              alt={specialty.name}\n              className=\"w-20 h-20 object-cover rounded-lg\"\n            />\n          )}\n          <div>\n            <h3 className=\"text-2xl font-medium text-gray-900\">{specialty.name}</h3>\n            <p className=\"text-sm text-gray-500\">Slug: {specialty.slug}</p>\n          </div>\n        </div>\n\n        {specialty.description && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Description</h4>\n            <p className=\"text-gray-600\">{specialty.description}</p>\n          </div>\n        )}\n\n        <div>\n          <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n            specialty.isActive \n              ? 'bg-green-100 text-green-800' \n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {specialty.isActive ? 'Active' : 'Inactive'}\n          </span>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Specialty\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'documents';\n\ninterface InvestorRelationsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n}\n\ninterface InvestorDocument {\n  id: number;\n  title: string;\n  description: string | null;\n  fileId: number | null;\n  documentType: string | null;\n  publishDate: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  file?: {\n    filePath: string;\n    fileName: string;\n  };\n}\n\nexport default function InvestorRelationsPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<InvestorRelationsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  const [documents, setDocuments] = useState<InvestorDocument[]>([]);\n  const [showDocumentModal, setShowDocumentModal] = useState(false);\n  const [editingDocument, setEditingDocument] = useState<InvestorDocument | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchDocuments();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<InvestorRelationsPageContent>('/investor-relations');\n      if (response.success && response.data) {\n        setPageContent(response.data as InvestorRelationsPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDocuments = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<InvestorDocument[]>('/investor-relations/documents');\n      if (response.success && response.data) {\n        setDocuments((response.data as InvestorDocument[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load documents');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/investor-relations', pageContent);\n      alert('Page content saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedDocs: InvestorDocument[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedDocs.length; i++) {\n        await api.put(`/investor-relations/documents/${reorderedDocs[i].id}`, {\n          ...reorderedDocs[i],\n          orderIndex: i\n        });\n      }\n      setDocuments(reorderedDocs);\n      alert('Documents order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveDocument = async (doc: InvestorDocument) => {\n    setSaving(true);\n    try {\n      if (doc.id && doc.id > 0) {\n        await api.put(`/investor-relations/documents/${doc.id}`, doc);\n      } else {\n        await api.post('/investor-relations/documents', { ...doc, orderIndex: documents.length });\n      }\n      setShowDocumentModal(false);\n      setEditingDocument(null);\n      fetchDocuments();\n      alert('Document saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteDocument = async (id: number) => {\n    if (!confirm('Delete this document?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/investor-relations/documents/${id}`);\n      setDocuments(documents.filter(d => d.id !== id));\n      alert('Document deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Investor Relations</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and investor documents</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('documents')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${\n                activeTab === 'documents' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n              }`}\n            >\n              Documents\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button\n                  onClick={handleSavePageContent}\n                  disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                >\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\">\n                  <input\n                    type=\"text\"\n                    value={pageContent.heroTitle || ''}\n                    onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  />\n                </FormField>\n                <FormField label=\"Hero Subtitle\">\n                  <input\n                    type=\"text\"\n                    value={pageContent.heroSubtitle || ''}\n                    onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector\n                    value={pageContent.heroImageId}\n                    onChange={(id) => setPageContent({ ...pageContent, heroImageId: id })}\n                    label=\"Hero Image\"\n                  />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Intro Text\">\n                    <textarea\n                      value={pageContent.introText || ''}\n                      onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })}\n                      rows={4}\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </FormField>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Investor Documents</h3>\n                <button\n                  onClick={() => {\n                    setEditingDocument({\n                      id: 0,\n                      title: '',\n                      description: null,\n                      fileId: null,\n                      documentType: null,\n                      publishDate: null,\n                      orderIndex: documents.length,\n                      isActive: true\n                    });\n                    setShowDocumentModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Document\n                </button>\n              </div>\n              {documents.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-file-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No documents yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={documents}\n                  onReorder={handleReorder}\n                  keyExtractor={(doc) => doc.id}\n                  renderItem={(doc: InvestorDocument) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-semibold text-gray-900\">{doc.title}</h4>\n                        {doc.documentType && <p className=\"text-sm text-gray-600\">{doc.documentType}</p>}\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${doc.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                          {doc.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button onClick={() => { setEditingDocument(doc); setShowDocumentModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteDocument(doc.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showDocumentModal && editingDocument && (\n        <DocumentModal\n          document={editingDocument}\n          onSave={handleSaveDocument}\n          onClose={() => { setShowDocumentModal(false); setEditingDocument(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction DocumentModal({ document, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<InvestorDocument>(document);\n  const [uploading, setUploading] = useState(false);\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setUploading(true);\n    try {\n      const formDataObj = new FormData();\n      formDataObj.append('file', file);\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch(`${import.meta.env.VITE_API_URL?.replace('/api/v1', '')}/api/v1/upload/file`, {\n        method: 'POST',\n        headers: { 'Authorization': `Bearer ${token || ''}` },\n        body: formDataObj\n      });\n      const data = await response.json();\n      if (data.success && data.mediaId) {\n        setFormData({ ...formData, fileId: data.mediaId });\n      }\n    } catch (error) {\n      alert('Upload failed');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={document.id > 0 ? 'Edit Document' : 'Add Document'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Document Type\">\n          <select\n            value={formData.documentType || ''}\n            onChange={(e) => setFormData({ ...formData, documentType: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Select type</option>\n            <option value=\"Annual Report\">Annual Report</option>\n            <option value=\"Quarterly Report\">Quarterly Report</option>\n            <option value=\"Press Release\">Press Release</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </FormField>\n        <FormField label=\"Publish Date\">\n          <input\n            type=\"date\"\n            value={formData.publishDate ? new Date(formData.publishDate).toISOString().split('T')[0] : ''}\n            onChange={(e) => setFormData({ ...formData, publishDate: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n        </FormField>\n        <FormField label=\"Document File\">\n          <input\n            type=\"file\"\n            accept=\".pdf,.doc,.docx\"\n            onChange={handleFileUpload}\n            disabled={uploading}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          />\n          {uploading && <p className=\"text-sm text-blue-600 mt-2\">Uploading...</p>}\n        </FormField>\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport { getImageUrl } from '../../../../utils/imageUrl';\n\ntype TabType = 'content' | 'clients';\n\ninterface ClientsPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  heroImage?: { filePath: string };\n}\n\ninterface Client {\n  id: number;\n  name: string;\n  logoId: number | null;\n  websiteUrl: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  logo?: {\n    filePath: string;\n    altText: string;\n    fileName: string;\n  };\n}\n\nexport default function ClientsPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [clients, setClients] = useState<Client[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showClientModal, setShowClientModal] = useState(false);\n  const [editingClient, setEditingClient] = useState<Client | null>(null);\n  const [viewingClient, setViewingClient] = useState<Client | null>(null);\n\n  // Page Content\n  const [pageContent, setPageContent] = useState<ClientsPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null\n  });\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchClients();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ClientsPageContent>('/clients/page-content');\n      if (response.success && response.data) {\n        const data = response.data as ClientsPageContent;\n        setPageContent({\n          id: data.id || undefined,\n          heroTitle: data.heroTitle || null,\n          heroSubtitle: data.heroSubtitle || null,\n          heroImageId: data.heroImageId || null,\n          introText: data.introText || null,\n          heroImage: data.heroImage\n        });\n      }\n    } catch (error: any) {\n      console.error('Error fetching page content:', error);\n      // Don't show alert for \"not found\" - it's okay if content doesn't exist yet\n      if (!error.message?.includes('not found')) {\n        alert(error.message || 'Failed to load page content');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchClients = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Client[]>('/clients');\n      if (response.success && response.data) {\n        setClients((response.data as Client[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching clients:', error);\n      alert(error.message || 'Failed to load clients');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      // Only send the fields that should be updated\n      const payload = {\n        heroTitle: pageContent.heroTitle || null,\n        heroSubtitle: pageContent.heroSubtitle || null,\n        heroImageId: pageContent.heroImageId || null,\n        introText: pageContent.introText || null\n      };\n      \n      const response = await api.put('/clients/page-content', payload);\n      if (response.success) {\n        alert('Page content saved successfully!');\n        fetchPageContent(); // Refresh to get updated data with associations\n      } else {\n        throw new Error(response.message || 'Failed to save page content');\n      }\n    } catch (error: any) {\n      console.error('Error saving page content:', error);\n      alert(error.message || 'Failed to save page content');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Extract client name from logo filename or use existing name\n  const getClientDisplayName = (client: Client): string => {\n    // If name exists and is not generic, use it\n    if (client.name && !client.name.match(/^Client\\s+\\d+$/i)) {\n      return client.name;\n    }\n    \n    // Try to extract from logo altText\n    if (client.logo?.altText) {\n      return client.logo.altText;\n    }\n    \n    // Try to extract from logo filename (remove extension and clean up)\n    if (client.logo?.fileName) {\n      const name = client.logo.fileName\n        .replace(/\\.[^/.]+$/, '') // Remove extension\n        .replace(/[-_]/g, ' ') // Replace dashes/underscores with spaces\n        .replace(/\\b\\w/g, l => l.toUpperCase()); // Capitalize words\n      if (name && name !== 'Logo') {\n        return name;\n      }\n    }\n    \n    // Fallback to original name\n    return client.name || 'Unnamed Client';\n  };\n\n  const handleReorder = async (reorderedClients: Client[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedClients.length; i++) {\n        await api.put(`/clients/${reorderedClients[i].id}`, {\n          ...reorderedClients[i],\n          orderIndex: i\n        });\n      }\n      setClients(reorderedClients);\n      alert('Clients order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveClient = async (client: Client) => {\n    setSaving(true);\n    try {\n      if (client.id && client.id > 0) {\n        const response = await api.put(`/clients/${client.id}`, client);\n        if (!response.success) {\n          throw new Error(response.message || 'Failed to update client');\n        }\n      } else {\n        const response = await api.post('/clients', { ...client, orderIndex: clients.length });\n        if (!response.success) {\n          throw new Error(response.message || 'Failed to create client');\n        }\n      }\n      setShowClientModal(false);\n      setEditingClient(null);\n      fetchClients();\n      alert('Client saved successfully!');\n    } catch (error: any) {\n      const errorMessage = error.message || 'Failed to save client';\n      if (errorMessage.includes('not found')) {\n        alert('This client no longer exists. Please refresh the page and try again.');\n        fetchClients(); // Refresh the list\n      } else {\n        alert(errorMessage);\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteClient = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this client?')) return;\n    setSaving(true);\n    try {\n      const response = await api.delete(`/clients/${id}`);\n      if (!response.success) {\n        throw new Error(response.message || 'Failed to delete client');\n      }\n      setClients(clients.filter(c => c.id !== id));\n      alert('Client deleted successfully!');\n    } catch (error: any) {\n      const errorMessage = error.message || 'Failed to delete client';\n      if (errorMessage.includes('not found')) {\n        alert('This client no longer exists. The list will be refreshed.');\n        fetchClients(); // Refresh the list\n      } else {\n        alert(errorMessage);\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Clients Page Management</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage clients page content and client list</p>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"mt-6 border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'content'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-file-text-line mr-2\"></i>Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('clients')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'clients'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              <i className=\"ri-group-line mr-2\"></i>Clients List\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {activeTab === 'content' ? (\n        <PageContentEditor\n          content={pageContent}\n          onChange={setPageContent}\n          onSave={handleSavePageContent}\n          saving={saving}\n        />\n      ) : (\n        <div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Clients</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">Manage client logos and information</p>\n              </div>\n              <button\n                onClick={() => {\n                  setEditingClient({\n                    id: 0,\n                    name: '',\n                    logoId: null,\n                    websiteUrl: '',\n                    orderIndex: clients.length,\n                    isActive: true\n                  });\n                  setShowClientModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Client\n              </button>\n            </div>\n          </div>\n\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div className=\"flex items-start space-x-3\">\n              <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>Tip:</strong> Drag and drop clients to reorder them. The order will appear on your clients page.\n                </p>\n              </div>\n            </div>\n          </div>\n\n              {loading ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n              <p className=\"text-gray-600 mt-2\">Loading clients...</p>\n            </div>\n          ) : clients.length === 0 ? (\n            <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n              <i className=\"ri-user-heart-line text-6xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-600 mb-4\">No clients yet. Add your first client!</p>\n              <button\n                onClick={() => {\n                  setEditingClient({\n                    id: 0,\n                    name: '',\n                    logoId: null,\n                    websiteUrl: '',\n                    orderIndex: 0,\n                    isActive: true\n                  });\n                  setShowClientModal(true);\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n              >\n                <i className=\"ri-add-line mr-2\"></i>Add Client\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <DragDropList\n                items={clients}\n                onReorder={handleReorder}\n                keyExtractor={(client) => client.id}\n                emptyMessage=\"No clients yet. Click 'Add Client' to get started!\"\n                renderItem={(client: Client) => (\n                  <div className=\"flex items-center space-x-4 w-full\">\n                    {client.logo && (\n                      <img\n                        src={getImageUrl(client.logo)}\n                        alt={getClientDisplayName(client)}\n                        className=\"w-20 h-20 object-contain bg-gray-50 rounded-lg p-2\"\n                      />\n                    )}\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold text-gray-900\">{getClientDisplayName(client)}</h3>\n                      {client.websiteUrl && (\n                        <a\n                          href={client.websiteUrl}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-sm text-blue-600 hover:underline\"\n                        >\n                          <i className=\"ri-external-link-line mr-1\"></i>\n                          {client.websiteUrl}\n                        </a>\n                      )}\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 text-xs rounded-full ${\n                        client.isActive \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {client.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                      <button\n                        onClick={() => setViewingClient(client)}\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        title=\"View\"\n                      >\n                        <i className=\"ri-eye-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => {\n                          setEditingClient(client);\n                          setShowClientModal(true);\n                        }}\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                        title=\"Edit\"\n                      >\n                        <i className=\"ri-edit-line\"></i>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteClient(client.id)}\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        title=\"Delete\"\n                      >\n                        <i className=\"ri-delete-bin-line\"></i>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {showClientModal && editingClient && (\n        <ClientModal\n          client={editingClient}\n          onSave={handleSaveClient}\n          onClose={() => {\n            setShowClientModal(false);\n            setEditingClient(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingClient && (\n        <ClientViewModal\n          client={viewingClient}\n          onClose={() => setViewingClient(null)}\n          onEdit={() => {\n            setEditingClient(viewingClient);\n            setViewingClient(null);\n            setShowClientModal(true);\n          }}\n          getImageUrl={(logo: any) => getImageUrl(logo)}\n          getClientDisplayName={getClientDisplayName}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction PageContentEditor({ content, onChange, onSave, saving }: any) {\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Hero Section</h3>\n      \n      <div className=\"space-y-6\">\n        <FormField label=\"Hero Title\">\n          <input\n            type=\"text\"\n            value={content.heroTitle || ''}\n            onChange={(e) => onChange({ ...content, heroTitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Clients\"\n          />\n        </FormField>\n\n        <FormField label=\"Hero Subtitle\">\n          <textarea\n            value={content.heroSubtitle || ''}\n            onChange={(e) => onChange({ ...content, heroSubtitle: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            rows={3}\n            placeholder=\"Unlock Your Potential\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={content.heroImageId}\n          onChange={(id) => onChange({ ...content, heroImageId: id })}\n          label=\"Hero Background Image\"\n          aspectRatio=\"16/9\"\n          currentImage={content.heroImage}\n        />\n\n        <FormField label=\"Intro Text\" hint=\"Optional text below hero section\">\n          <textarea\n            value={content.introText || ''}\n            onChange={(e) => onChange({ ...content, introText: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            rows={4}\n            placeholder=\"Add introduction text here...\"\n          />\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onSave}\n            disabled={saving}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ClientModal({ client, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Client>(client);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={client.id && client.id > 0 ? 'Edit Client' : 'Add New Client'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Client Name\" required>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter client name\"\n          />\n        </FormField>\n\n        <FormField label=\"Website URL\" hint=\"Optional - Include https://\">\n          <input\n            type=\"url\"\n            value={formData.websiteUrl || ''}\n            onChange={(e) => setFormData({ ...formData, websiteUrl: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"https://example.com\"\n          />\n        </FormField>\n\n        <ImageSelector\n          value={formData.logoId}\n          onChange={(id) => setFormData({ ...formData, logoId: id })}\n          label=\"Client Logo\"\n          aspectRatio=\"3/2\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.name}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : client.id && client.id > 0 ? 'Update Client' : 'Create Client'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction ClientViewModal({ client, onClose, onEdit, getImageUrl, getClientDisplayName }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Client Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {client.logo && (\n          <div className=\"flex justify-center\">\n            <img\n              src={getImageUrl(client.logo)}\n              alt={getClientDisplayName(client)}\n              className=\"max-w-xs max-h-48 object-contain bg-gray-50 rounded-lg p-4\"\n            />\n          </div>\n        )}\n\n        <div>\n          <h3 className=\"text-xl font-bold text-gray-900 mb-4\">{getClientDisplayName(client)}</h3>\n          \n          {client.websiteUrl && (\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n              <a\n                href={client.websiteUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-600 hover:underline\"\n              >\n                <i className=\"ri-external-link-line mr-2\"></i>\n                {client.websiteUrl}\n              </a>\n            </div>\n          )}\n\n          <div>\n            <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n              client.isActive \n                ? 'bg-green-100 text-green-800' \n                : 'bg-gray-100 text-gray-800'\n            }`}>\n              {client.isActive ? 'Active' : 'Inactive'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Client\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ninterface Leader {\n  id: number;\n  fullName: string;\n  position: string;\n  department: string | null;\n  bio: string | null;\n  imageId: number | null;\n  email: string | null;\n  linkedinUrl: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  image?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function ManagementPageManagement() {\n  const [leaders, setLeaders] = useState<Leader[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showLeaderModal, setShowLeaderModal] = useState(false);\n  const [editingLeader, setEditingLeader] = useState<Leader | null>(null);\n  const [viewingLeader, setViewingLeader] = useState<Leader | null>(null);\n\n  useEffect(() => {\n    fetchLeaders();\n  }, []);\n\n  const fetchLeaders = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Leader[]>('/leaders');\n      if (response.success && response.data) {\n        setLeaders((response.data as Leader[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      console.error('Error fetching leaders:', error);\n      alert(error.message || 'Failed to load leaders');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReorder = async (reorderedLeaders: Leader[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedLeaders.length; i++) {\n        await api.put(`/leaders/${reorderedLeaders[i].id}`, {\n          ...reorderedLeaders[i],\n          orderIndex: i\n        });\n      }\n      setLeaders(reorderedLeaders);\n      alert('Leaders order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLeader = async (leader: Leader) => {\n    setSaving(true);\n    try {\n      if (leader.id && leader.id > 0) {\n        await api.put(`/leaders/${leader.id}`, leader);\n      } else {\n        await api.post('/leaders', { ...leader, orderIndex: leaders.length });\n      }\n      setShowLeaderModal(false);\n      setEditingLeader(null);\n      fetchLeaders();\n      alert('Leader saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save leader');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteLeader = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this leader?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/leaders/${id}`);\n      setLeaders(leaders.filter(l => l.id !== id));\n      alert('Leader deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete leader');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (leader: Leader): string => {\n    if (!leader.image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${leader.image.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Management Team</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage leadership team members</p>\n          </div>\n          <button\n            onClick={() => {\n              setEditingLeader({\n                id: 0,\n                fullName: '',\n                position: '',\n                department: null,\n                bio: null,\n                imageId: null,\n                email: null,\n                linkedinUrl: null,\n                orderIndex: leaders.length,\n                isActive: true\n              });\n              setShowLeaderModal(true);\n            }}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Leader\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start space-x-3\">\n          <i className=\"ri-information-line text-blue-600 text-xl mt-0.5\"></i>\n          <div className=\"flex-1\">\n            <p className=\"text-sm text-blue-800\">\n              <strong>Tip:</strong> Drag and drop leaders to reorder them on the management page.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading leaders...</p>\n        </div>\n      ) : leaders.length === 0 ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-team-line text-6xl text-gray-300 mb-4\"></i>\n          <p className=\"text-gray-600 mb-4\">No leaders yet. Add your first team member!</p>\n          <button\n            onClick={() => {\n              setEditingLeader({\n                id: 0,\n                fullName: '',\n                position: '',\n                department: null,\n                bio: null,\n                imageId: null,\n                email: null,\n                linkedinUrl: null,\n                orderIndex: 0,\n                isActive: true\n              });\n              setShowLeaderModal(true);\n            }}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-add-line mr-2\"></i>Add Leader\n          </button>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <DragDropList\n            items={leaders}\n            onReorder={handleReorder}\n            keyExtractor={(leader) => leader.id}\n            emptyMessage=\"No leaders yet. Click 'Add Leader' to get started!\"\n            renderItem={(leader: Leader) => (\n              <div className=\"flex items-center space-x-4 w-full\">\n                {leader.image && (\n                  <img\n                    src={getImageUrl(leader)}\n                    alt={leader.fullName}\n                    className=\"w-16 h-16 rounded-full object-cover\"\n                  />\n                )}\n                <div className=\"flex-1\">\n                  <h3 className=\"font-semibold text-gray-900\">{leader.fullName}</h3>\n                  <p className=\"text-sm text-gray-600\">{leader.position}</p>\n                  {leader.department && (\n                    <p className=\"text-xs text-gray-500\">{leader.department}</p>\n                  )}\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`px-2 py-1 text-xs rounded-full ${\n                    leader.isActive \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {leader.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                  <button\n                    onClick={() => setViewingLeader(leader)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                    title=\"View\"\n                  >\n                    <i className=\"ri-eye-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => {\n                      setEditingLeader(leader);\n                      setShowLeaderModal(true);\n                    }}\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\n                    title=\"Edit\"\n                  >\n                    <i className=\"ri-edit-line\"></i>\n                  </button>\n                  <button\n                    onClick={() => handleDeleteLeader(leader.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                    title=\"Delete\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          />\n        </div>\n      )}\n\n      {showLeaderModal && editingLeader && (\n        <LeaderModal\n          leader={editingLeader}\n          onSave={handleSaveLeader}\n          onClose={() => {\n            setShowLeaderModal(false);\n            setEditingLeader(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {viewingLeader && (\n        <LeaderViewModal\n          leader={viewingLeader}\n          onClose={() => setViewingLeader(null)}\n          onEdit={() => {\n            setEditingLeader(viewingLeader);\n            setViewingLeader(null);\n            setShowLeaderModal(true);\n          }}\n          getImageUrl={getImageUrl}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction LeaderModal({ leader, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Leader>(leader);\n\n  return (\n    <Modal \n      isOpen={true} \n      onClose={onClose} \n      title={leader.id && leader.id > 0 ? 'Edit Leader' : 'Add New Leader'} \n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Full Name\" required>\n            <input\n              type=\"text\"\n              value={formData.fullName}\n              onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"John Doe\"\n            />\n          </FormField>\n\n          <FormField label=\"Position\" required>\n            <input\n              type=\"text\"\n              value={formData.position}\n              onChange={(e) => setFormData({ ...formData, position: e.target.value })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"CEO\"\n            />\n          </FormField>\n        </div>\n\n        <FormField label=\"Department\">\n          <input\n            type=\"text\"\n            value={formData.department || ''}\n            onChange={(e) => setFormData({ ...formData, department: e.target.value || null })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Executive\"\n          />\n        </FormField>\n\n        <FormField label=\"Bio\">\n          <textarea\n            value={formData.bio || ''}\n            onChange={(e) => setFormData({ ...formData, bio: e.target.value || null })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter leader's biography\"\n          />\n        </FormField>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Email\">\n            <input\n              type=\"email\"\n              value={formData.email || ''}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"john@example.com\"\n            />\n          </FormField>\n\n          <FormField label=\"LinkedIn URL\">\n            <input\n              type=\"url\"\n              value={formData.linkedinUrl || ''}\n              onChange={(e) => setFormData({ ...formData, linkedinUrl: e.target.value || null })}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"https://linkedin.com/in/johndoe\"\n            />\n          </FormField>\n        </div>\n\n        <ImageSelector\n          value={formData.imageId}\n          onChange={(id) => setFormData({ ...formData, imageId: id })}\n          label=\"Profile Photo\"\n          aspectRatio=\"1/1\"\n        />\n\n        <FormField label=\"Status\">\n          <select\n            value={formData.isActive ? 'active' : 'inactive'}\n            onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.fullName || !formData.position}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : leader.id && leader.id > 0 ? 'Update Leader' : 'Create Leader'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction LeaderViewModal({ leader, onClose, onEdit, getImageUrl }: any) {\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"Leader Details\" size=\"lg\">\n      <div className=\"space-y-6\">\n        {leader.image && (\n          <div className=\"flex justify-center\">\n            <img\n              src={getImageUrl(leader)}\n              alt={leader.fullName}\n              className=\"w-32 h-32 rounded-full object-cover\"\n            />\n          </div>\n        )}\n\n        <div className=\"text-center\">\n          <h3 className=\"text-2xl font-medium text-gray-900 mb-2\">{leader.fullName}</h3>\n          <p className=\"text-lg text-gray-700 mb-1\">{leader.position}</p>\n          {leader.department && (\n            <p className=\"text-blue-600 font-medium\">{leader.department}</p>\n          )}\n        </div>\n\n        {leader.bio && (\n          <div>\n            <h4 className=\"font-semibold text-gray-900 mb-2\">Biography</h4>\n            <p className=\"text-gray-600\">{leader.bio}</p>\n          </div>\n        )}\n\n        <div className=\"space-y-2\">\n          {leader.email && (\n            <div>\n              <i className=\"ri-mail-line mr-2 text-gray-500\"></i>\n              <a href={`mailto:${leader.email}`} className=\"text-blue-600 hover:underline\">\n                {leader.email}\n              </a>\n            </div>\n          )}\n          {leader.linkedinUrl && (\n            <div>\n              <i className=\"ri-linkedin-line mr-2 text-gray-500\"></i>\n              <a\n                href={leader.linkedinUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-600 hover:underline\"\n              >\n                LinkedIn Profile\n              </a>\n            </div>\n          )}\n        </div>\n\n        <div>\n          <span className={`inline-block px-3 py-1 text-sm rounded-full ${\n            leader.isActive \n              ? 'bg-green-100 text-green-800' \n              : 'bg-gray-100 text-gray-800'\n          }`}>\n            {leader.isActive ? 'Active' : 'Inactive'}\n          </span>\n        </div>\n\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Close\n          </button>\n          <button\n            onClick={onEdit}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>Edit Leader\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'locations';\n\ninterface OurPresencePageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  mapImageId: number | null;\n  mapBackgroundImageId: number | null;\n  salesServiceHeading: string | null;\n  salesServiceContent: string | null;\n  salesServiceImageId: number | null;\n}\n\ninterface OfficeLocation {\n  id: number;\n  officeType: string | null;\n  city: string | null;\n  state: string | null;\n  country: string | null;\n  address: string | null;\n  phone: string | null;\n  email: string | null;\n  latitude: number | null;\n  longitude: number | null;\n  isActive: boolean;\n}\n\nexport default function OurPresencePageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<OurPresencePageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    mapImageId: null,\n    mapBackgroundImageId: null,\n    salesServiceHeading: null,\n    salesServiceContent: null,\n    salesServiceImageId: null\n  });\n\n  const [locations, setLocations] = useState<OfficeLocation[]>([]);\n  const [showLocationModal, setShowLocationModal] = useState(false);\n  const [editingLocation, setEditingLocation] = useState<OfficeLocation | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchLocations();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<OurPresencePageContent>('/our-presence');\n      if (response.success && response.data) {\n        setPageContent(response.data as OurPresencePageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchLocations = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<OfficeLocation[]>('/our-presence/locations');\n      if (response.success && response.data) {\n        setLocations(response.data as OfficeLocation[]);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/our-presence', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveLocation = async (loc: OfficeLocation) => {\n    setSaving(true);\n    try {\n      if (loc.id && loc.id > 0) {\n        await api.put(`/our-presence/locations/${loc.id}`, loc);\n      } else {\n        await api.post('/our-presence/locations', loc);\n      }\n      setShowLocationModal(false);\n      setEditingLocation(null);\n      fetchLocations();\n      alert('Location saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteLocation = async (id: number) => {\n    if (!confirm('Delete this location?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/our-presence/locations/${id}`);\n      setLocations(locations.filter(l => l.id !== id));\n      alert('Location deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Our Presence</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and office locations</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => setActiveTab('content')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n            >\n              Page Content\n            </button>\n            <button\n              onClick={() => setActiveTab('locations')}\n              className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'locations' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'\n                }`}\n            >\n              Office Locations\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button\n                  onClick={handleSavePageContent}\n                  disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n                >\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\">\n                  <input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <FormField label=\"Hero Subtitle\">\n                  <input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: Number(id) })} label=\"Hero Image\" />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Intro Text\">\n                    <textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                  </FormField>\n                </div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.mapImageId} onChange={(id) => setPageContent({ ...pageContent, mapImageId: Number(id) })} label=\"Map Image\" />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.mapBackgroundImageId} onChange={(id) => setPageContent({ ...pageContent, mapBackgroundImageId: Number(id) })} label=\"Map Background Image (PNG)\" />\n                </div>\n                <FormField label=\"Sales & Service Heading\">\n                  <input type=\"text\" value={pageContent.salesServiceHeading || ''} onChange={(e) => setPageContent({ ...pageContent, salesServiceHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n                </FormField>\n                <div className=\"md:col-span-2\">\n                  <FormField label=\"Sales & Service Content\" hint=\"Separate paragraphs with a blank line (press Enter twice)\">\n                    <textarea value={pageContent.salesServiceContent || ''} onChange={(e) => setPageContent({ ...pageContent, salesServiceContent: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"First paragraph here...\n\nSecond paragraph here...\" />\n                  </FormField>\n                </div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector value={pageContent.salesServiceImageId} onChange={(id) => setPageContent({ ...pageContent, salesServiceImageId: Number(id) })} label=\"Sales & Service Image\" />\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Office Locations</h3>\n                <button\n                  onClick={() => {\n                    setEditingLocation({\n                      id: 0,\n                      officeType: null,\n                      city: null,\n                      state: null,\n                      country: null,\n                      address: null,\n                      phone: null,\n                      email: null,\n                      latitude: null,\n                      longitude: null,\n                      isActive: true\n                    });\n                    setShowLocationModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Location\n                </button>\n              </div>\n              {locations.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-map-pin-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No locations yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {locations.map((loc) => (\n                    <div key={loc.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-gray-900\">{loc.city}, {loc.state || loc.country}</h4>\n                          {loc.officeType && <p className=\"text-sm text-gray-600\">{loc.officeType}</p>}\n                          {loc.address && <p className=\"text-sm text-gray-600 mt-1\">{loc.address}</p>}\n                          <div className=\"flex flex-wrap gap-2 mt-2 text-sm text-gray-600\">\n                            {loc.phone && <span><i className=\"ri-phone-line mr-1\"></i>{loc.phone}</span>}\n                            {loc.email && <span><i className=\"ri-mail-line mr-1\"></i>{loc.email}</span>}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center space-x-2 ml-4\">\n                          <span className={`px-2 py-1 text-xs rounded-full ${loc.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                            {loc.isActive ? 'Active' : 'Inactive'}\n                          </span>\n                          <button onClick={() => { setEditingLocation(loc); setShowLocationModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-edit-line\"></i>\n                          </button>\n                          <button onClick={() => handleDeleteLocation(loc.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                            <i className=\"ri-delete-bin-line\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showLocationModal && editingLocation && (\n        <LocationModal\n          location={editingLocation}\n          onSave={handleSaveLocation}\n          onClose={() => { setShowLocationModal(false); setEditingLocation(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction LocationModal({ location, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<OfficeLocation>(location);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={location.id > 0 ? 'Edit Location' : 'Add Location'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Office Type\">\n            <input type=\"text\" value={formData.officeType || ''} onChange={(e) => setFormData({ ...formData, officeType: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Headquarters\" />\n          </FormField>\n          <FormField label=\"City\">\n            <input type=\"text\" value={formData.city || ''} onChange={(e) => setFormData({ ...formData, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"State\">\n            <input type=\"text\" value={formData.state || ''} onChange={(e) => setFormData({ ...formData, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Country\">\n            <input type=\"text\" value={formData.country || ''} onChange={(e) => setFormData({ ...formData, country: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n        </div>\n        <FormField label=\"Address\">\n          <textarea value={formData.address || ''} onChange={(e) => setFormData({ ...formData, address: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <FormField label=\"Phone\">\n            <input type=\"text\" value={formData.phone || ''} onChange={(e) => setFormData({ ...formData, phone: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Email\">\n            <input type=\"email\" value={formData.email || ''} onChange={(e) => setFormData({ ...formData, email: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Latitude\">\n            <input type=\"number\" step=\"any\" value={formData.latitude || ''} onChange={(e) => setFormData({ ...formData, latitude: e.target.value ? parseFloat(e.target.value) : null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n          <FormField label=\"Longitude\">\n            <input type=\"number\" step=\"any\" value={formData.longitude || ''} onChange={(e) => setFormData({ ...formData, longitude: e.target.value ? parseFloat(e.target.value) : null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n          </FormField>\n        </div>\n        <FormField label=\"Status\">\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'features';\n\ninterface ProductionFacilityPageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  introBackgroundImageId: number | null;\n  introBackgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  flexibilityHeading: string | null;\n  flexibilityContent: string | null;\n  highlightedBoxText: string | null;\n  flexibilityAdditionalText: string | null;\n  flexibilityImageId: number | null;\n  qualityHeading: string | null;\n  qualityContent: string | null;\n  qualityBackgroundImageId: number | null;\n  qualityBackgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  qualityImageId: number | null;\n}\n\ninterface ProductionFacilityFeature {\n  id: number;\n  iconId: number | null;\n  icon?: {\n    filePath: string;\n    altText: string;\n  };\n  heading: string | null;\n  description: string | null;\n  orderIndex: number;\n}\n\nexport default function ProductionFacilityPageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<ProductionFacilityPageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    introBackgroundImageId: null,\n    flexibilityHeading: null,\n    flexibilityContent: null,\n    highlightedBoxText: null,\n    flexibilityAdditionalText: null,\n    flexibilityImageId: null,\n    qualityHeading: null,\n    qualityContent: null,\n    qualityBackgroundImageId: null,\n    qualityImageId: null\n  });\n\n  const [features, setFeatures] = useState<ProductionFacilityFeature[]>([]);\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\n  const [editingFeature, setEditingFeature] = useState<ProductionFacilityFeature | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchFeatures();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ProductionFacilityPageContent>('/production-facility');\n      if (response.success && response.data) {\n        setPageContent(response.data as ProductionFacilityPageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchFeatures = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<ProductionFacilityFeature[]>('/production-facility/features');\n      if (response.success && response.data) {\n        setFeatures((response.data as ProductionFacilityFeature[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/production-facility', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedFeatures: ProductionFacilityFeature[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedFeatures.length; i++) {\n        await api.put(`/production-facility/features/${reorderedFeatures[i].id}`, {\n          ...reorderedFeatures[i],\n          orderIndex: i\n        });\n      }\n      setFeatures(reorderedFeatures);\n      alert('Order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFeature = async (feature: ProductionFacilityFeature) => {\n    setSaving(true);\n    try {\n      if (feature.id && feature.id > 0) {\n        await api.put(`/production-facility/features/${feature.id}`, feature);\n      } else {\n        await api.post('/production-facility/features', { ...feature, orderIndex: features.length });\n      }\n      setShowFeatureModal(false);\n      setEditingFeature(null);\n      fetchFeatures();\n      alert('Feature saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFeature = async (id: number) => {\n    if (!confirm('Delete this feature?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/production-facility/features/${id}`);\n      setFeatures(features.filter(f => f.id !== id));\n      alert('Feature deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Production Facility</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and facility features</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveTab('content')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Page Content\n            </button>\n            <button onClick={() => setActiveTab('features')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'features' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Features\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\"><input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <FormField label=\"Hero Subtitle\"><input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: Number(id) })} label=\"Hero Image\" /></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Intro Text\"><textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector\n                    value={pageContent.introBackgroundImageId}\n                    onChange={(id) => setPageContent({ ...pageContent, introBackgroundImageId: Number(id) })}\n                    label=\"Introduction Section Background Image\"\n                  />\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    <i className=\"ri-information-line mr-1\"></i>\n                    Upload a background image for the introduction section with rounded top corners.\n                  </p>\n                </div>\n                <FormField label=\"Flexibility Heading\"><input type=\"text\" value={pageContent.flexibilityHeading || ''} onChange={(e) => setPageContent({ ...pageContent, flexibilityHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Flexibility Content (First Paragraph)\"><textarea value={pageContent.flexibilityContent || ''} onChange={(e) => setPageContent({ ...pageContent, flexibilityContent: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"First paragraph about adaptability\" /></FormField></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Highlighted Box Text\"><textarea value={pageContent.highlightedBoxText || ''} onChange={(e) => setPageContent({ ...pageContent, highlightedBoxText: e.target.value || null })} rows={2} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Text for the box with gradient underline\" /></FormField></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Flexibility Additional Text (Third Paragraph)\"><textarea value={pageContent.flexibilityAdditionalText || ''} onChange={(e) => setPageContent({ ...pageContent, flexibilityAdditionalText: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Third paragraph about agile approach\" /></FormField></div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.flexibilityImageId} onChange={(id) => setPageContent({ ...pageContent, flexibilityImageId: Number(id) })} label=\"Flexibility Image\" /></div>\n                <FormField label=\"Quality Heading\"><input type=\"text\" value={pageContent.qualityHeading || ''} onChange={(e) => setPageContent({ ...pageContent, qualityHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Quality Content\"><textarea value={pageContent.qualityContent || ''} onChange={(e) => setPageContent({ ...pageContent, qualityContent: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector\n                    value={pageContent.qualityBackgroundImageId}\n                    onChange={(id) => setPageContent({ ...pageContent, qualityBackgroundImageId: Number(id) })}\n                    label=\"Quality Section Background Image\"\n                  />\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    <i className=\"ri-information-line mr-1\"></i>\n                    Upload a background image for the quality section with rounded top corners.\n                  </p>\n                </div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.qualityImageId} onChange={(id) => setPageContent({ ...pageContent, qualityImageId: Number(id) })} label=\"Quality Image\" /></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <h3 className=\"text-lg font-semibold\">Facility Features</h3>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    <i className=\"ri-information-line mr-1\"></i>\n                    First 3 features appear in the Introduction section. Features 4-6 appear in the Quality section as Process Overview.\n                  </p>\n                </div>\n                <button onClick={() => { setEditingFeature({ id: 0, iconId: null, heading: null, description: null, orderIndex: features.length }); setShowFeatureModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\n                </button>\n              </div>\n              {features.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-settings-3-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No features yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={features}\n                  onReorder={handleReorder}\n                  keyExtractor={(f) => f.id}\n                  renderItem={(feature: ProductionFacilityFeature) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-4\">\n                        {feature.icon ? (\n                          <img src={`/uploads/${feature.icon.filePath}`} alt={feature.icon.altText || ''} className=\"w-10 h-10 object-contain p-1 border rounded\" />\n                        ) : (\n                          <i className=\"ri-image-line text-2xl text-gray-400\"></i>\n                        )}\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">{feature.heading}</h4>\n                          {feature.description && <p className=\"text-sm text-gray-600 line-clamp-1\">{feature.description}</p>}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <button onClick={() => { setEditingFeature(feature); setShowFeatureModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteFeature(feature.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showFeatureModal && editingFeature && (\n        <FeatureModal\n          feature={editingFeature}\n          onSave={handleSaveFeature}\n          onClose={() => { setShowFeatureModal(false); setEditingFeature(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<ProductionFacilityFeature>(feature);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={feature.id > 0 ? 'Edit Feature' : 'Add Feature'} size=\"md\">\n      <div className=\"space-y-6\">\n        <div>\n          <ImageSelector\n            value={formData.iconId}\n            onChange={(id) => setFormData({ ...formData, iconId: Number(id) })}\n            label=\"Feature Icon\"\n          />\n        </div>\n        <FormField label=\"Heading\" hint=\"Feature title (e.g., 'Full vertical integration', 'Streamlined processes')\">\n          <input type=\"text\" value={formData.heading || ''} onChange={(e) => setFormData({ ...formData, heading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Full vertical integration\" />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport Modal from '../../../../components/cms/Modal';\nimport FormField from '../../../../components/cms/FormField';\nimport DragDropList from '../../../../components/cms/DragDropList';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\n\ntype TabType = 'content' | 'certifications';\n\ninterface QualityAssurancePageContent {\n  id?: number;\n  heroTitle: string | null;\n  heroSubtitle: string | null;\n  heroImageId: number | null;\n  introText: string | null;\n  backgroundImageId: number | null;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  mainHeading: string | null;\n  mainContent: string | null;\n  mainImageId: number | null;\n}\n\ninterface Certification {\n  id: number;\n  name: string;\n  abbreviation: string | null;\n  logoId: number | null;\n  description: string | null;\n  orderIndex: number;\n  isActive: boolean;\n  logo?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function QualityAssurancePageManagement() {\n  const [activeTab, setActiveTab] = useState<TabType>('content');\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n\n  const [pageContent, setPageContent] = useState<QualityAssurancePageContent>({\n    heroTitle: null,\n    heroSubtitle: null,\n    heroImageId: null,\n    introText: null,\n    backgroundImageId: null,\n    mainHeading: null,\n    mainContent: null,\n    mainImageId: null\n  });\n\n  const [certifications, setCertifications] = useState<Certification[]>([]);\n  const [showCertModal, setShowCertModal] = useState(false);\n  const [editingCert, setEditingCert] = useState<Certification | null>(null);\n\n  useEffect(() => {\n    if (activeTab === 'content') {\n      fetchPageContent();\n    } else {\n      fetchCertifications();\n    }\n  }, [activeTab]);\n\n  const fetchPageContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<QualityAssurancePageContent>('/quality-assurance');\n      if (response.success && response.data) {\n        setPageContent(response.data as QualityAssurancePageContent);\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCertifications = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<Certification[]>('/quality-assurance/certifications');\n      if (response.success && response.data) {\n        setCertifications((response.data as Certification[]).sort((a, b) => a.orderIndex - b.orderIndex));\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to load');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSavePageContent = async () => {\n    setSaving(true);\n    try {\n      await api.put('/quality-assurance', pageContent);\n      alert('Saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorder = async (reorderedCerts: Certification[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedCerts.length; i++) {\n        await api.put(`/quality-assurance/certifications/${reorderedCerts[i].id}`, {\n          ...reorderedCerts[i],\n          orderIndex: i\n        });\n      }\n      setCertifications(reorderedCerts);\n      alert('Order updated!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveCert = async (cert: Certification) => {\n    setSaving(true);\n    try {\n      if (cert.id && cert.id > 0) {\n        await api.put(`/quality-assurance/certifications/${cert.id}`, cert);\n      } else {\n        await api.post('/quality-assurance/certifications', { ...cert, orderIndex: certifications.length });\n      }\n      setShowCertModal(false);\n      setEditingCert(null);\n      fetchCertifications();\n      alert('Certification saved!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteCert = async (id: number) => {\n    if (!confirm('Delete this certification?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/quality-assurance/certifications/${id}`);\n      setCertifications(certifications.filter(c => c.id !== id));\n      alert('Certification deleted!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const getImageUrl = (cert: Certification): string => {\n    if (!cert.logo) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${cert.logo.filePath}`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h2 className=\"text-2xl font-medium text-gray-900\">Quality Assurance</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Manage page content and certifications</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm\">\n        <div className=\"border-b border-gray-200 px-6\">\n          <div className=\"flex space-x-2\">\n            <button onClick={() => setActiveTab('content')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'content' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Page Content\n            </button>\n            <button onClick={() => setActiveTab('certifications')} className={`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${activeTab === 'certifications' ? 'text-blue-600 border-blue-600' : 'text-gray-600 border-transparent hover:text-blue-600'}`}>\n              Certifications\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {loading ? (\n            <div className=\"text-center py-12\">\n              <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n            </div>\n          ) : activeTab === 'content' ? (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Page Content</h3>\n                <button onClick={handleSavePageContent} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n                  {saving ? 'Saving...' : 'Save'}\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <FormField label=\"Hero Title\"><input type=\"text\" value={pageContent.heroTitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroTitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <FormField label=\"Hero Subtitle\"><input type=\"text\" value={pageContent.heroSubtitle || ''} onChange={(e) => setPageContent({ ...pageContent, heroSubtitle: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.heroImageId} onChange={(id) => setPageContent({ ...pageContent, heroImageId: Number(id) })} label=\"Hero Image\" /></div>\n                <div className=\"md:col-span-2\"><FormField label=\"Intro Text\"><textarea value={pageContent.introText || ''} onChange={(e) => setPageContent({ ...pageContent, introText: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\">\n                  <ImageSelector\n                    value={pageContent.backgroundImageId}\n                    onChange={(id) => setPageContent({ ...pageContent, backgroundImageId: Number(id) })}\n                    label=\"Section Background Image\"\n                  />\n                  <p className=\"text-sm text-gray-500 mt-2\">\n                    <i className=\"ri-information-line mr-1\"></i>\n                    Upload an image for the rounded card background (optional).\n                  </p>\n                </div>\n\n                <FormField label=\"Main Heading\"><input type=\"text\" value={pageContent.mainHeading || ''} onChange={(e) => setPageContent({ ...pageContent, mainHeading: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField>\n                <div className=\"md:col-span-2\"><FormField label=\"Main Content\"><textarea value={pageContent.mainContent || ''} onChange={(e) => setPageContent({ ...pageContent, mainContent: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" /></FormField></div>\n                <div className=\"md:col-span-2\"><ImageSelector value={pageContent.mainImageId} onChange={(id) => setPageContent({ ...pageContent, mainImageId: Number(id) })} label=\"Main Image\" /></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between\">\n                <h3 className=\"text-lg font-semibold\">Certifications</h3>\n                <button onClick={() => { setEditingCert({ id: 0, name: '', abbreviation: null, logoId: null, description: null, orderIndex: certifications.length, isActive: true }); setShowCertModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\n                  <i className=\"ri-add-line mr-2\"></i>Add Certification\n                </button>\n              </div>\n              {certifications.length === 0 ? (\n                <div className=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg\">\n                  <i className=\"ri-shield-check-line text-4xl text-gray-400 mb-2\"></i>\n                  <p className=\"text-gray-500\">No certifications yet</p>\n                </div>\n              ) : (\n                <DragDropList\n                  items={certifications}\n                  onReorder={handleReorder}\n                  keyExtractor={(c) => c.id}\n                  renderItem={(cert: Certification) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-4\">\n                        {cert.logo && <img src={getImageUrl(cert)} alt={cert.name} className=\"w-12 h-12 object-contain\" />}\n                        <div>\n                          <h4 className=\"font-semibold text-gray-900\">{cert.name}</h4>\n                          {cert.abbreviation && <p className=\"text-sm text-gray-600\">{cert.abbreviation}</p>}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`px-2 py-1 text-xs rounded-full ${cert.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                          {cert.isActive ? 'Active' : 'Inactive'}\n                        </span>\n                        <button onClick={() => { setEditingCert(cert); setShowCertModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button onClick={() => handleDeleteCert(cert.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showCertModal && editingCert && (\n        <CertModal\n          cert={editingCert}\n          onSave={handleSaveCert}\n          onClose={() => { setShowCertModal(false); setEditingCert(null); }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction CertModal({ cert, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState<Certification>(cert);\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title={cert.id > 0 ? 'Edit Certification' : 'Add Certification'} size=\"lg\">\n      <div className=\"space-y-6\">\n        <FormField label=\"Certification Name\" required>\n          <input type=\"text\" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <FormField label=\"Abbreviation\">\n          <input type=\"text\" value={formData.abbreviation || ''} onChange={(e) => setFormData({ ...formData, abbreviation: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"ISO 13485\" />\n        </FormField>\n        <FormField label=\"Description\">\n          <textarea value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} rows={4} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n        </FormField>\n        <ImageSelector value={formData.logoId} onChange={(id) => setFormData({ ...formData, logoId: Number(id) })} label=\"Certification Logo\" aspectRatio=\"1/1\" />\n        <FormField label=\"Status\">\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.name} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\n            {saving ? 'Saving...' : 'Save'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { api } from '../../../../utils/api';\nimport FormField from '../../../../components/cms/FormField';\nimport ImageSelector from '../../../../components/cms/ImageSelector';\nimport Modal from '../../../../components/cms/Modal';\nimport DragDropList from '../../../../components/cms/DragDropList';\n\ninterface RequestDemoPageContent {\n  id?: number;\n  heroTitle: string | null;\n  introText: string | null;\n  backgroundImageId: number | null;\n  backgroundImage?: {\n    filePath: string;\n    altText: string;\n  };\n  paragraphs?: RequestDemoParagraph[];\n  features?: RequestDemoFeature[];\n}\n\ninterface RequestDemoParagraph {\n  id: number;\n  content: string;\n  orderIndex: number;\n}\n\ninterface RequestDemoFeature {\n  id: number;\n  title: string;\n  content: string;\n  iconImageId: number | null;\n  orderIndex: number;\n  iconImage?: {\n    filePath: string;\n    altText: string;\n  };\n}\n\nexport default function RequestDemoPageManagement() {\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [content, setContent] = useState<RequestDemoPageContent>({\n    heroTitle: null,\n    introText: null,\n    backgroundImageId: null\n  });\n  const [paragraphs, setParagraphs] = useState<RequestDemoParagraph[]>([]);\n  const [features, setFeatures] = useState<RequestDemoFeature[]>([]);\n  const [showParagraphModal, setShowParagraphModal] = useState(false);\n  const [showFeatureModal, setShowFeatureModal] = useState(false);\n  const [editingParagraph, setEditingParagraph] = useState<RequestDemoParagraph | null>(null);\n  const [editingFeature, setEditingFeature] = useState<RequestDemoFeature | null>(null);\n\n  useEffect(() => {\n    fetchContent();\n  }, []);\n\n  const fetchContent = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get<RequestDemoPageContent>('/request-demo');\n      if (response.success && response.data) {\n        const data = response.data as RequestDemoPageContent;\n        setContent({\n          id: data.id,\n          heroTitle: data.heroTitle,\n          introText: data.introText,\n          backgroundImageId: data.backgroundImageId,\n          backgroundImage: data.backgroundImage\n        });\n        setParagraphs(data.paragraphs || []);\n        setFeatures(data.features || []);\n      }\n    } catch (error: any) {\n      console.error('Error fetching content:', error);\n      alert(error.message || 'Failed to load content');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const response = await api.put('/request-demo', content);\n      if (response.success) {\n        alert('Request Demo page saved successfully!');\n        fetchContent();\n      }\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveParagraph = async (paragraph: RequestDemoParagraph) => {\n    setSaving(true);\n    try {\n      if (paragraph.id && paragraph.id > 0) {\n        await api.put(`/request-demo/paragraphs/${paragraph.id}`, paragraph);\n      } else {\n        await api.post('/request-demo/paragraphs', { ...paragraph, orderIndex: paragraphs.length });\n      }\n      setShowParagraphModal(false);\n      setEditingParagraph(null);\n      fetchContent();\n      alert('Paragraph saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteParagraph = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this paragraph?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/request-demo/paragraphs/${id}`);\n      setParagraphs(paragraphs.filter(p => p.id !== id));\n      alert('Paragraph deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderParagraphs = async (reorderedParagraphs: RequestDemoParagraph[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedParagraphs.length; i++) {\n        await api.put(`/request-demo/paragraphs/${reorderedParagraphs[i].id}`, {\n          ...reorderedParagraphs[i],\n          orderIndex: i\n        });\n      }\n      setParagraphs(reorderedParagraphs);\n      alert('Paragraphs order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveFeature = async (feature: RequestDemoFeature) => {\n    setSaving(true);\n    try {\n      if (feature.id && feature.id > 0) {\n        await api.put(`/request-demo/features/${feature.id}`, feature);\n      } else {\n        await api.post('/request-demo/features', { ...feature, orderIndex: features.length });\n      }\n      setShowFeatureModal(false);\n      setEditingFeature(null);\n      fetchContent();\n      alert('Feature saved successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteFeature = async (id: number) => {\n    if (!confirm('Are you sure you want to delete this feature?')) return;\n    setSaving(true);\n    try {\n      await api.delete(`/request-demo/features/${id}`);\n      setFeatures(features.filter(f => f.id !== id));\n      alert('Feature deleted successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to delete');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleReorderFeatures = async (reorderedFeatures: RequestDemoFeature[]) => {\n    setSaving(true);\n    try {\n      for (let i = 0; i < reorderedFeatures.length; i++) {\n        await api.put(`/request-demo/features/${reorderedFeatures[i].id}`, {\n          ...reorderedFeatures[i],\n          orderIndex: i\n        });\n      }\n      setFeatures(reorderedFeatures);\n      alert('Features order updated successfully!');\n    } catch (error: any) {\n      alert(error.message || 'Failed to update order');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Request Demo Page</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Manage request demo page content</p>\n          </div>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"space-y-6\">\n            <FormField label=\"Hero Title\">\n              <input\n                type=\"text\"\n                value={content.heroTitle || ''}\n                onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Request a Demo\"\n              />\n            </FormField>\n\n            <FormField label=\"Intro Text\">\n              <textarea\n                value={content.introText || ''}\n                onChange={(e) => setContent({ ...content, introText: e.target.value || null })}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter introduction text\"\n              />\n            </FormField>\n\n            <div className=\"border-t pt-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Background Image</h3>\n              <ImageSelector\n                value={content.backgroundImageId}\n                onChange={(id) => setContent({ ...content, backgroundImageId: id })}\n                label=\"Page Background Image\"\n              />\n              <p className=\"text-sm text-gray-500 mt-2\">\n                <i className=\"ri-information-line mr-1\"></i>\n                Upload a background image (e.g., Frame-75-1.png). This will replace the default gradient background.\n              </p>\n            </div>\n\n            {/* Paragraphs Section */}\n            <div className=\"border-t pt-6 mt-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Paragraphs</h3>\n                <button\n                  onClick={() => {\n                    setEditingParagraph({ id: 0, content: '', orderIndex: paragraphs.length });\n                    setShowParagraphModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Paragraph\n                </button>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  <i className=\"ri-information-line mr-2\"></i>\n                  Add multiple paragraphs. Drag and drop to reorder.\n                </p>\n                <DragDropList\n                  items={paragraphs}\n                  onReorder={handleReorderParagraphs}\n                  keyExtractor={(p) => p.id}\n                  emptyMessage=\"No paragraphs yet. Click 'Add Paragraph' to get started!\"\n                  renderItem={(paragraph: RequestDemoParagraph) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-gray-700 line-clamp-2\">{paragraph.content}</p>\n                      </div>\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => {\n                            setEditingParagraph(paragraph);\n                            setShowParagraphModal(true);\n                          }}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteParagraph(paragraph.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* Features Section */}\n            <div className=\"border-t pt-6 mt-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Features</h3>\n                <button\n                  onClick={() => {\n                    setEditingFeature({ id: 0, title: '', content: '', iconImageId: null, orderIndex: features.length });\n                    setShowFeatureModal(true);\n                  }}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>Add Feature\n                </button>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  <i className=\"ri-information-line mr-2\"></i>\n                  Add feature blocks with icon, title, and content. Drag and drop to reorder.\n                </p>\n                <DragDropList\n                  items={features}\n                  onReorder={handleReorderFeatures}\n                  keyExtractor={(f) => f.id}\n                  emptyMessage=\"No features yet. Click 'Add Feature' to get started!\"\n                  renderItem={(feature: RequestDemoFeature) => (\n                    <div className=\"flex items-center justify-between w-full\">\n                      <div className=\"flex items-center space-x-3 flex-1\">\n                        {feature.iconImage && (\n                          <img \n                            src={getFeatureIconUrl(feature)} \n                            alt={feature.iconImage.altText || feature.title}\n                            className=\"w-10 h-10 object-contain\"\n                          />\n                        )}\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-gray-900\">{feature.title}</h4>\n                          <p className=\"text-sm text-gray-600 line-clamp-1\">{feature.content}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => {\n                            setEditingFeature(feature);\n                            setShowFeatureModal(true);\n                          }}\n                          className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteFeature(feature.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  )}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showParagraphModal && (\n        <ParagraphModal\n          paragraph={editingParagraph}\n          onSave={handleSaveParagraph}\n          onClose={() => {\n            setShowParagraphModal(false);\n            setEditingParagraph(null);\n          }}\n          saving={saving}\n        />\n      )}\n\n      {showFeatureModal && (\n        <FeatureModal\n          feature={editingFeature}\n          onSave={handleSaveFeature}\n          onClose={() => {\n            setShowFeatureModal(false);\n            setEditingFeature(null);\n          }}\n          saving={saving}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction getFeatureIconUrl(feature: RequestDemoFeature): string {\n  if (!feature.iconImage) return '';\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n  return `${baseUrl}${feature.iconImage.filePath}`;\n}\n\nfunction ParagraphModal({ paragraph, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(paragraph || { id: 0, content: '', orderIndex: 0 });\n\n  useEffect(() => {\n    setFormData(paragraph || { id: 0, content: '', orderIndex: 0 });\n  }, [paragraph]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={paragraph?.id && paragraph.id > 0 ? 'Edit Paragraph' : 'Add Paragraph'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData.content}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={6}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter paragraph content\"\n          />\n        </FormField>\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : paragraph?.id && paragraph.id > 0 ? 'Update Paragraph' : 'Create Paragraph'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nfunction FeatureModal({ feature, onSave, onClose, saving }: any) {\n  const [formData, setFormData] = useState(feature || { id: 0, title: '', content: '', iconImageId: null, orderIndex: 0 });\n  const getImageUrl = (image: any): string => {\n    if (!image) return '';\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\n    return `${baseUrl}${image.filePath}`;\n  };\n\n  useEffect(() => {\n    setFormData(feature || { id: 0, title: '', content: '', iconImageId: null, orderIndex: 0 });\n  }, [feature]);\n\n  return (\n    <Modal\n      isOpen={true}\n      onClose={onClose}\n      title={feature?.id && feature.id > 0 ? 'Edit Feature' : 'Add Feature'}\n      size=\"lg\"\n    >\n      <div className=\"space-y-6\">\n        <FormField label=\"Title\" required>\n          <input\n            type=\"text\"\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., System Variety\"\n          />\n        </FormField>\n        <FormField label=\"Content\" required>\n          <textarea\n            value={formData.content}\n            onChange={(e) => setFormData({ ...formData, content: e.target.value })}\n            rows={4}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., We offer 15+ models ranging from portable to high-powered fixed machines...\"\n          />\n        </FormField>\n        <ImageSelector\n          value={formData.iconImageId}\n          onChange={(id) => setFormData({ ...formData, iconImageId: id })}\n          label=\"Icon Image (JPG, PNG, SVG)\"\n        />\n        {formData.iconImage && (\n          <div className=\"mt-2\">\n            <img \n              src={getImageUrl(formData.iconImage)} \n              alt=\"Icon preview\" \n              className=\"w-16 h-16 object-contain\"\n            />\n          </div>\n        )}\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => onSave(formData)}\n            disabled={saving || !formData.title || !formData.content}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\n          >\n            {saving ? 'Saving...' : feature?.id && feature.id > 0 ? 'Update Feature' : 'Create Feature'}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\n\r\ninterface OurProductsPageContent {\r\n  id?: number;\r\n  heroTitle: string | null;\r\n  heroSubtitle: string | null;\r\n  heroImageId: number | null;\r\n  heroImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function OurProductsPageManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [content, setContent] = useState<OurProductsPageContent>({\r\n    heroTitle: null,\r\n    heroSubtitle: null,\r\n    heroImageId: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  const fetchContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<OurProductsPageContent>('/our-products/content');\r\n      if (response.success && response.data) {\r\n        setContent(response.data as OurProductsPageContent);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching content:', error);\r\n      alert(error.message || 'Failed to load content');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const response = await api.put('/our-products/content', content);\r\n      if (response.success) {\r\n        alert('Our Products Page Content saved successfully!');\r\n        fetchContent();\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getImageUrl = (image: any): string => {\r\n    if (!image) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${image.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Our Products Page</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage the Our Products page content</p>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 border-b pb-3\">Hero Section</h3>\r\n            \r\n            <FormField label=\"Hero Title\">\r\n              <input\r\n                type=\"text\"\r\n                value={content.heroTitle || ''}\r\n                onChange={(e) => setContent({ ...content, heroTitle: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Our Products\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Hero Subtitle\">\r\n              <textarea\r\n                value={content.heroSubtitle || ''}\r\n                onChange={(e) => setContent({ ...content, heroSubtitle: e.target.value || null })}\r\n                rows={3}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Explore our comprehensive range of medical imaging solutions\"\r\n              />\r\n            </FormField>\r\n\r\n            <div className=\"border-t pt-6\">\r\n              <ImageSelector\r\n                value={content.heroImageId}\r\n                onChange={(id) => setContent({ ...content, heroImageId: id })}\r\n                label=\"Hero Background Image\"\r\n              />\r\n              {content.heroImage && (\r\n                <div className=\"mt-4\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\">Current Image:</p>\r\n                  <img\r\n                    src={getImageUrl(content.heroImage)}\r\n                    alt={content.heroImage.altText || 'Hero image'}\r\n                    className=\"w-full max-w-md h-auto rounded-lg shadow-md\"\r\n                  />\r\n                </div>\r\n              )}\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                <i className=\"ri-information-line mr-1\"></i>\r\n                Upload a background image for the hero section.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCommentChange: PropTypes.func,\n    onCompositionEnd: PropTypes.func,\n    onCompositionStart: PropTypes.func,\n    onCompositionUpdate: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onInput: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n    onScriptsLoad: PropTypes.func,\n    onScriptsLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, licenseKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, tabIndex: PropTypes.number, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, readonly: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.arrayOf(PropTypes.shape({\n            src: PropTypes.string,\n            async: PropTypes.bool,\n            defer: PropTypes.bool\n        }))\n    ]), rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","var getTinymce = function (view) {\n    var global = view;\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n","import { eventPropTypes } from './components/EditorPropTypes';\nimport { getTinymce } from './TinyMCE';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\nexport var getTinymceOrError = function (view) {\n    var tinymce = getTinymce(view);\n    if (!tinymce) {\n        throw new Error('tinymce should have been loaded into global scope');\n    }\n    return tinymce;\n};\nexport var isDisabledOptionSupported = function (editor) { return editor.options && editor.options.isRegistered('disabled'); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { uuid } from './Utils';\nvar injectScriptTag = function (doc, item, handler) {\n    var _a, _b;\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = item.id;\n    scriptTag.src = item.src;\n    scriptTag.async = (_a = item.async) !== null && _a !== void 0 ? _a : false;\n    scriptTag.defer = (_b = item.defer) !== null && _b !== void 0 ? _b : false;\n    var loadHandler = function () {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src);\n    };\n    var errorHandler = function (err) {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src, err);\n    };\n    scriptTag.addEventListener('load', loadHandler);\n    scriptTag.addEventListener('error', errorHandler);\n    if (doc.head) {\n        doc.head.appendChild(scriptTag);\n    }\n};\nvar createDocumentScriptLoader = function (doc) {\n    var lookup = {};\n    var scriptLoadOrErrorHandler = function (src, err) {\n        var item = lookup[src];\n        item.done = true;\n        item.error = err;\n        for (var _i = 0, _a = item.handlers; _i < _a.length; _i++) {\n            var h = _a[_i];\n            h(src, err);\n        }\n        item.handlers = [];\n    };\n    var loadScripts = function (items, success, failure) {\n        // eslint-disable-next-line no-console\n        var failureOrLog = function (err) { return failure !== undefined ? failure(err) : console.error(err); };\n        if (items.length === 0) {\n            failureOrLog(new Error('At least one script must be provided'));\n            return;\n        }\n        var successCount = 0;\n        var failed = false;\n        var loaded = function (_src, err) {\n            if (failed) {\n                return;\n            }\n            if (err) {\n                failed = true;\n                failureOrLog(err);\n            }\n            else if (++successCount === items.length) {\n                success();\n            }\n        };\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var existing = lookup[item.src];\n            if (existing) {\n                if (existing.done) {\n                    loaded(item.src, existing.error);\n                }\n                else {\n                    existing.handlers.push(loaded);\n                }\n            }\n            else {\n                // create a new entry\n                var id = uuid('tiny-');\n                lookup[item.src] = {\n                    id: id,\n                    src: item.src,\n                    done: false,\n                    error: null,\n                    handlers: [loaded],\n                };\n                injectScriptTag(doc, __assign({ id: id }, item), scriptLoadOrErrorHandler);\n            }\n        }\n    };\n    var deleteScripts = function () {\n        var _a;\n        for (var _i = 0, _b = Object.values(lookup); _i < _b.length; _i++) {\n            var item = _b[_i];\n            var scriptTag = doc.getElementById(item.id);\n            if (scriptTag != null && scriptTag.tagName === 'SCRIPT') {\n                (_a = scriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(scriptTag);\n            }\n        }\n        lookup = {};\n    };\n    var getDocument = function () { return doc; };\n    return {\n        loadScripts: loadScripts,\n        deleteScripts: deleteScripts,\n        getDocument: getDocument\n    };\n};\nvar createScriptLoader = function () {\n    var cache = [];\n    var getDocumentScriptLoader = function (doc) {\n        var loader = cache.find(function (l) { return l.getDocument() === doc; });\n        if (loader === undefined) {\n            loader = createDocumentScriptLoader(doc);\n            cache.push(loader);\n        }\n        return loader;\n    };\n    var loadList = function (doc, items, delay, success, failure) {\n        var doLoad = function () { return getDocumentScriptLoader(doc).loadScripts(items, success, failure); };\n        if (delay > 0) {\n            setTimeout(doLoad, delay);\n        }\n        else {\n            doLoad();\n        }\n    };\n    var reinitialize = function () {\n        for (var loader = cache.pop(); loader != null; loader = cache.pop()) {\n            loader.deleteScripts();\n        }\n    };\n    return {\n        loadList: loadList,\n        reinitialize: reinitialize\n    };\n};\nexport var ScriptLoader = createScriptLoader();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader2';\nimport { configHandlers, isBeforeInputEventAvailable, isFunction, isInDoc, isTextareaOrInput, mergePlugins, setMode, uuid, isDisabledOptionSupported, getTinymceOrError } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nimport { getTinymce } from '../TinyMCE';\nvar changeEvents = 'change keyup compositionend setcontent CommentChange';\n/**\n * @see {@link https://www.tiny.cloud/docs/tinymce/7/react-ref/ TinyMCE React Technical Reference}\n */\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _a, _b, _c;\n        var _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (_e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus()) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (_e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymceOrError(_this.view);\n            var finalInit = __assign(__assign(__assign(__assign({}, _this.props.init), { selector: undefined, target: target, disabled: _this.props.disabled, readonly: _this.props.readonly, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar }), (_this.props.licenseKey ? { license_key: _this.props.licenseKey } : {})), { setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                    if (_this.props.disabled) {\n                        if (isDisabledOptionSupported(_this.editor)) {\n                            _this.editor.options.set('disabled', _this.props.disabled);\n                        }\n                        else {\n                            _this.editor.mode.set('readonly');\n                        }\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Object.defineProperty(Editor.prototype, \"view\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.elementRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument.defaultView) !== null && _b !== void 0 ? _b : window;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (_e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (_e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.readonly !== prevProps.readonly) {\n                    var readonly = (_b = this.props.readonly) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, readonly ? 'readonly' : 'design');\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    if (isDisabledOptionSupported(this.editor)) {\n                        this.editor.options.set('disabled', this.props.disabled);\n                    }\n                    else {\n                        setMode(this.editor, this.props.disabled ? 'readonly' : 'design');\n                    }\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a, _b, _c, _d, _f;\n        if (getTinymce(this.view) !== null) {\n            this.initialise();\n        }\n        else if (Array.isArray(this.props.tinymceScriptSrc) && this.props.tinymceScriptSrc.length === 0) {\n            (_b = (_a = this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, new Error('No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.'));\n        }\n        else if ((_c = this.elementRef.current) === null || _c === void 0 ? void 0 : _c.ownerDocument) {\n            var successHandler = function () {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoad) === null || _b === void 0 ? void 0 : _b.call(_a);\n                _this.initialise();\n            };\n            var errorHandler = function (err) {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n            };\n            ScriptLoader.loadList(this.elementRef.current.ownerDocument, this.getScriptSources(), (_f = (_d = this.props.scriptLoading) === null || _d === void 0 ? void 0 : _d.delay) !== null && _f !== void 0 ? _f : 0, successHandler, errorHandler);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(changeEvents, this.handleEditorChange);\n            editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.beforeInputEvent = function () {\n        return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange';\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id,\n            tabIndex: this.props.tabIndex\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id,\n            tabIndex: this.props.tabIndex\n        });\n    };\n    Editor.prototype.getScriptSources = function () {\n        var _a, _b;\n        var async = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async;\n        var defer = (_b = this.props.scriptLoading) === null || _b === void 0 ? void 0 : _b.defer;\n        if (this.props.tinymceScriptSrc !== undefined) {\n            if (typeof this.props.tinymceScriptSrc === 'string') {\n                return [{ src: this.props.tinymceScriptSrc, async: async, defer: defer }];\n            }\n            // multiple scripts can be specified which allows for hybrid mode\n            return this.props.tinymceScriptSrc.map(function (item) {\n                if (typeof item === 'string') {\n                    // async does not make sense for multiple items unless\n                    // they are not dependent (which will be unlikely)\n                    return { src: item, async: async, defer: defer };\n                }\n                else {\n                    return item;\n                }\n            });\n        }\n        // fallback to the cloud when the tinymceScriptSrc is not specified\n        var channel = this.props.cloudChannel; // `cloudChannel` is in `defaultProps`, so it's always defined.\n        var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n        var cloudTinyJs = \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        return [{ src: cloudTinyJs, async: async, defer: defer }];\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(changeEvents, this.handleEditorChange);\n                this.editor.on(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(changeEvents, this.handleEditorChange);\n                this.editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '8',\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","import { useRef, useEffect, useState } from 'react';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport FormField from './FormField';\r\n\r\ninterface WordLikeEditorProps {\r\n  value: string | null | undefined;\r\n  onChange: (value: string) => void;\r\n  label?: string;\r\n  placeholder?: string;\r\n  height?: string;\r\n}\r\n\r\nexport default function WordLikeEditor({\r\n  value,\r\n  onChange,\r\n  label,\r\n  placeholder = 'Enter content...',\r\n  height = '600px'\r\n}: WordLikeEditorProps) {\r\n  const editorRef = useRef<any>(null);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const editorValue = value ?? '';\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  const handleEditorChange = (content: string) => {\r\n    onChange(content);\r\n  };\r\n\r\n  if (!isMounted) {\r\n    return (\r\n      <FormField label={label}>\r\n        <div style={{ height, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n          <div className=\"text-gray-500\">Loading Word-like editor...</div>\r\n        </div>\r\n      </FormField>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <FormField label={label}>\r\n      <div style={{ height }} className=\"word-like-editor-wrapper\">\r\n        <Editor\r\n          apiKey=\"qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc\" // Free TinyMCE API key for development\r\n          onInit={(evt, editor) => {\r\n            editorRef.current = editor;\r\n          }}\r\n          value={editorValue}\r\n          onEditorChange={handleEditorChange}\r\n          init={{\r\n            height: parseInt(height) || 600,\r\n            menubar: true,\r\n            plugins: [\r\n              'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',\r\n              'anchor', 'searchreplace', 'visualblocks', 'code', 'fullscreen',\r\n              'insertdatetime', 'media', 'table', 'code', 'help', 'wordcount'\r\n            ],\r\n            toolbar: 'undo redo | blocks | ' +\r\n              'bold italic underline strikethrough | forecolor backcolor | ' +\r\n              'alignleft aligncenter alignright alignjustify | ' +\r\n              'bullist numlist outdent indent | ' +\r\n              'removeformat | help',\r\n            toolbar_mode: 'sliding',\r\n            content_style: 'body { font-family: Calibri, Arial, sans-serif; font-size: 11pt; line-height: 1.5; margin: 8px; }',\r\n            skin: 'oxide',\r\n            content_css: 'default',\r\n            branding: false,\r\n            promotion: false,\r\n            placeholder: placeholder,\r\n            // Word-like behavior - preserve formatting when pasting\r\n            paste_as_text: false,\r\n            paste_data_images: true,\r\n            paste_auto_cleanup_on_paste: false,\r\n            paste_remove_styles_if_webkit: false,\r\n            paste_strip_class_attributes: 'none',\r\n            paste_retain_style_properties: 'all',\r\n            // Better formatting options\r\n            font_formats: 'Arial=arial,helvetica,sans-serif; Calibri=calibri,sans-serif; Times New Roman=times new roman,times; Courier New=courier new,courier; Verdana=verdana,geneva;',\r\n            font_size_formats: '8pt 10pt 11pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt',\r\n            // Word-like shortcuts (these work by default in TinyMCE)\r\n            // Ctrl+B for bold, Ctrl+I for italic, Ctrl+U for underline\r\n          }}\r\n        />\r\n        <style>{`\r\n          .word-like-editor-wrapper {\r\n            border: 1px solid #d1d5db;\r\n            border-radius: 4px;\r\n            overflow: hidden;\r\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\r\n          }\r\n          .word-like-editor-wrapper .tox-tinymce {\r\n            border: none !important;\r\n          }\r\n          .word-like-editor-wrapper .tox-toolbar {\r\n            background: #f9fafb !important;\r\n            border-bottom: 1px solid #e5e7eb !important;\r\n          }\r\n          .word-like-editor-wrapper .tox-edit-area {\r\n            background: white !important;\r\n          }\r\n          .word-like-editor-wrapper .tox-edit-area__iframe {\r\n            background: white !important;\r\n          }\r\n          .word-like-editor-wrapper .tox-menubar {\r\n            background: #f9fafb !important;\r\n            border-bottom: 1px solid #e5e7eb !important;\r\n          }\r\n        `}</style>\r\n      </div>\r\n      <div className=\"mt-2 text-xs text-gray-600 bg-blue-50 border border-blue-200 rounded p-2\">\r\n        <i className=\"ri-microsoft-line mr-1\"></i>\r\n        <strong>Word-like Editor:</strong> Works just like Microsoft Word! \r\n        Use toolbar buttons or keyboard shortcuts (<kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+B</kbd> for Bold, \r\n        <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+I</kbd> for Italic, \r\n        <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+U</kbd> for Underline). \r\n        Paste content from Word and all formatting will be preserved automatically.\r\n      </div>\r\n    </FormField>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport WordLikeEditor from '../../../../components/cms/WordLikeEditor';\r\n\r\ninterface TermsParagraph {\r\n  id: number;\r\n  content: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface TermsPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  subtitle: string | null;\r\n  richTextContent: string | null;\r\n}\r\n\r\nexport default function TermsAndConditionsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [content, setContent] = useState<TermsPageContent>({\r\n    title: null,\r\n    subtitle: null,\r\n    richTextContent: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  const fetchContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<TermsPageContent>('/terms-privacy/terms/content');\r\n      if (response.success && response.data) {\r\n        setContent(response.data as TermsPageContent);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching content:', error);\r\n      alert(error.message || 'Failed to load content');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const response = await api.put('/terms-privacy/terms/content', content);\r\n      if (response.success) {\r\n        alert('Terms and Conditions page saved successfully!');\r\n        fetchContent();\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Terms and Conditions</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage the Terms and Conditions page content</p>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 border-b pb-3\">Hero Section</h3>\r\n            \r\n            <FormField label=\"Page Title\">\r\n              <input\r\n                type=\"text\"\r\n                value={content.title || ''}\r\n                onChange={(e) => setContent({ ...content, title: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Terms and Conditions\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Subtitle\">\r\n              <textarea\r\n                value={content.subtitle || ''}\r\n                onChange={(e) => setContent({ ...content, subtitle: e.target.value || null })}\r\n                rows={3}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Please read these terms carefully before using our services\"\r\n              />\r\n            </FormField>\r\n\r\n            <div className=\"border-t pt-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Content</h3>\r\n              <WordLikeEditor\r\n                value={content.richTextContent ?? ''}\r\n                onChange={(value) => setContent({ ...content, richTextContent: value || null })}\r\n                label=\"Page Content\"\r\n                placeholder=\"Enter the full Terms and Conditions content here. Format text just like in Microsoft Word...\"\r\n                height=\"600px\"\r\n              />\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mt-4\">\r\n                <p className=\"text-sm text-green-800 mb-2\">\r\n                  <i className=\"ri-checkbox-circle-line mr-1\"></i>\r\n                  <strong>Word-like Editor Active!</strong>\r\n                </p>\r\n                <ul className=\"text-sm text-green-700 list-disc list-inside space-y-1\">\r\n                  <li><strong>Just like Microsoft Word:</strong> Select text and use toolbar buttons or keyboard shortcuts</li>\r\n                  <li><strong>Bold:</strong> Select text  Click <strong>B</strong> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+B</kbd></li>\r\n                  <li><strong>Italic:</strong> Select text  Click <em>I</em> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+I</kbd></li>\r\n                  <li><strong>Underline:</strong> Select text  Click <u>U</u> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+U</kbd></li>\r\n                  <li><strong>Colors:</strong> Select text  Click the color buttons in the toolbar</li>\r\n                  <li><strong>Paste from Word:</strong> Copy from Word and paste - all formatting will be preserved!</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport WordLikeEditor from '../../../../components/cms/WordLikeEditor';\r\n\r\ninterface PrivacyParagraph {\r\n  id: number;\r\n  content: string;\r\n  orderIndex: number;\r\n}\r\n\r\ninterface PrivacyPageContent {\r\n  id?: number;\r\n  title: string | null;\r\n  subtitle: string | null;\r\n  richTextContent: string | null;\r\n}\r\n\r\nexport default function PrivacyPolicyManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [content, setContent] = useState<PrivacyPageContent>({\r\n    title: null,\r\n    subtitle: null,\r\n    richTextContent: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  const fetchContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<PrivacyPageContent>('/terms-privacy/privacy/content');\r\n      if (response.success && response.data) {\r\n        setContent(response.data as PrivacyPageContent);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching content:', error);\r\n      alert(error.message || 'Failed to load content');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const response = await api.put('/terms-privacy/privacy/content', content);\r\n      if (response.success) {\r\n        alert('Privacy Policy page saved successfully!');\r\n        fetchContent();\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Privacy Policy</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage the Privacy Policy page content</p>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 border-b pb-3\">Hero Section</h3>\r\n            \r\n            <FormField label=\"Page Title\">\r\n              <input\r\n                type=\"text\"\r\n                value={content.title || ''}\r\n                onChange={(e) => setContent({ ...content, title: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Privacy Policy\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Subtitle\">\r\n              <textarea\r\n                value={content.subtitle || ''}\r\n                onChange={(e) => setContent({ ...content, subtitle: e.target.value || null })}\r\n                rows={3}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Your privacy is important to us. Learn how we protect your information.\"\r\n              />\r\n            </FormField>\r\n\r\n            <div className=\"border-t pt-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Content</h3>\r\n              <WordLikeEditor\r\n                value={content.richTextContent ?? ''}\r\n                onChange={(value) => setContent({ ...content, richTextContent: value || null })}\r\n                label=\"Page Content\"\r\n                placeholder=\"Enter the full Privacy Policy content here. Format text just like in Microsoft Word...\"\r\n                height=\"600px\"\r\n              />\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mt-4\">\r\n                <p className=\"text-sm text-green-800 mb-2\">\r\n                  <i className=\"ri-checkbox-circle-line mr-1\"></i>\r\n                  <strong>Word-like Editor Active!</strong>\r\n                </p>\r\n                <ul className=\"text-sm text-green-700 list-disc list-inside space-y-1\">\r\n                  <li><strong>Just like Microsoft Word:</strong> Select text and use toolbar buttons or keyboard shortcuts</li>\r\n                  <li><strong>Bold:</strong> Select text  Click <strong>B</strong> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+B</kbd></li>\r\n                  <li><strong>Italic:</strong> Select text  Click <em>I</em> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+I</kbd></li>\r\n                  <li><strong>Underline:</strong> Select text  Click <u>U</u> button or press <kbd className=\"px-1 py-0.5 bg-white rounded text-xs border\">Ctrl+U</kbd></li>\r\n                  <li><strong>Colors:</strong> Select text  Click the color buttons in the toolbar</li>\r\n                  <li><strong>Paste from Word:</strong> Copy from Word and paste - all formatting will be preserved!</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\nimport DragDropList from '../../../../components/cms/DragDropList';\r\nimport Modal from '../../../../components/cms/Modal';\r\n\r\ninterface FaqsPage {\r\n  id?: number;\r\n  heroTitle: string | null;\r\n  heroSubtitle: string | null;\r\n  backgroundImageId: number | null;\r\n  sectionBackgroundImageId: number | null;\r\n  titleColor: string;\r\n  subtitleColor: string;\r\n  overlayOpacity: number;\r\n  backgroundImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n  sectionBackgroundImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\ninterface FaqsItem {\r\n  id: number;\r\n  question: string;\r\n  answer: string;\r\n  imageId: number | null;\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n  image?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function FaqsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [page, setPage] = useState<FaqsPage>({\r\n    heroTitle: null,\r\n    heroSubtitle: null,\r\n    backgroundImageId: null,\r\n    sectionBackgroundImageId: null,\r\n    titleColor: '#FFFFFF',\r\n    subtitleColor: '#FFFFFF',\r\n    overlayOpacity: 40\r\n  });\r\n  const [items, setItems] = useState<FaqsItem[]>([]);\r\n  const [showItemModal, setShowItemModal] = useState(false);\r\n  const [editingItem, setEditingItem] = useState<FaqsItem | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [pageRes, itemsRes] = await Promise.all([\r\n        api.get<FaqsPage>('/faqs/page', {\r\n          params: { include: 'backgroundImage,sectionBackgroundImage' }\r\n        }),\r\n        api.get<FaqsItem[]>('/faqs/items')\r\n      ]);\r\n\r\n      if (pageRes.success && pageRes.data) {\r\n        setPage(pageRes.data);\r\n      }\r\n\r\n      if (itemsRes.success && itemsRes.data) {\r\n        setItems(itemsRes.data.sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching data:', error);\r\n      alert(error.message || 'Failed to load data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSavePage = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const response = await api.put('/faqs/page', page);\r\n      if (response.success) {\r\n        alert('FAQs page saved successfully!');\r\n        fetchData();\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = async (itemData: Partial<FaqsItem>) => {\r\n    try {\r\n      if (editingItem) {\r\n        await api.put(`/faqs/items/${editingItem.id}`, itemData);\r\n      } else {\r\n        await api.post('/faqs/items', {\r\n          ...itemData,\r\n          orderIndex: items.length,\r\n          isActive: true\r\n        });\r\n      }\r\n      fetchData();\r\n      setShowItemModal(false);\r\n      setEditingItem(null);\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save FAQ item');\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (id: number) => {\r\n    if (!confirm('Are you sure you want to delete this FAQ item?')) return;\r\n    try {\r\n      await api.delete(`/faqs/items/${id}`);\r\n      fetchData();\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete FAQ item');\r\n    }\r\n  };\r\n\r\n  const handleReorderItems = async (reorderedItems: FaqsItem[]) => {\r\n    try {\r\n      const itemsToUpdate = reorderedItems.map((item, index) => ({\r\n        id: item.id,\r\n        orderIndex: index\r\n      }));\r\n      await api.post('/faqs/items/reorder', { items: itemsToUpdate });\r\n      setItems(reorderedItems);\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to reorder FAQs');\r\n      fetchData();\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-2xl font-medium mb-6\">FAQs Page Management</h2>\r\n\r\n        {/* Hero Section */}\r\n        <div className=\"border-b pb-6 mb-6\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Hero Section</h3>\r\n          <div className=\"space-y-4\">\r\n            <FormField label=\"Hero Title\">\r\n              <input\r\n                type=\"text\"\r\n                value={page.heroTitle || ''}\r\n                onChange={(e) => setPage({ ...page, heroTitle: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Enter hero title\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Hero Subtitle\">\r\n              <textarea\r\n                value={page.heroSubtitle || ''}\r\n                onChange={(e) => setPage({ ...page, heroSubtitle: e.target.value || null })}\r\n                rows={3}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Enter hero subtitle\"\r\n              />\r\n            </FormField>\r\n\r\n            <ImageSelector\r\n              value={page.backgroundImageId}\r\n              onChange={(id) => setPage({ ...page, backgroundImageId: id as number | null })}\r\n              label=\"Hero Background Image\"\r\n              currentImage={page.backgroundImage ? {\r\n                filePath: page.backgroundImage.filePath,\r\n                fileName: page.backgroundImage.altText\r\n              } : null}\r\n            />\r\n\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <FormField label=\"Title Color\">\r\n                <input\r\n                  type=\"color\"\r\n                  value={page.titleColor}\r\n                  onChange={(e) => setPage({ ...page, titleColor: e.target.value })}\r\n                  className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\r\n                />\r\n              </FormField>\r\n\r\n              <FormField label=\"Subtitle Color\">\r\n                <input\r\n                  type=\"color\"\r\n                  value={page.subtitleColor}\r\n                  onChange={(e) => setPage({ ...page, subtitleColor: e.target.value })}\r\n                  className=\"w-full h-10 border border-gray-300 rounded-lg cursor-pointer\"\r\n                />\r\n              </FormField>\r\n\r\n              <FormField label=\"Overlay Opacity (%)\">\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  value={page.overlayOpacity}\r\n                  onChange={(e) => setPage({ ...page, overlayOpacity: parseInt(e.target.value) || 40 })}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </FormField>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleSavePage}\r\n              disabled={saving}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n            >\r\n              {saving ? 'Saving...' : 'Save Hero Section'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* FAQs Section Background */}\r\n        <div className=\"border-b pb-6 mb-6\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">FAQs Section Background</h3>\r\n          <div className=\"space-y-4\">\r\n            <ImageSelector\r\n              value={page.sectionBackgroundImageId}\r\n              onChange={(id) => setPage({ ...page, sectionBackgroundImageId: id as number | null })}\r\n              label=\"Section Background Image (PNG)\"\r\n              currentImage={page.sectionBackgroundImage ? {\r\n                filePath: page.sectionBackgroundImage.filePath,\r\n                fileName: page.sectionBackgroundImage.altText\r\n              } : null}\r\n            />\r\n            <p className=\"text-sm text-gray-500\">\r\n              <i className=\"ri-information-line mr-1\"></i>\r\n              Upload a background PNG image for the FAQs section (the section with image and questions).\r\n            </p>\r\n            <button\r\n              onClick={handleSavePage}\r\n              disabled={saving}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n            >\r\n              {saving ? 'Saving...' : 'Save Section Background'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* FAQs Items */}\r\n        <div>\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-xl font-semibold\">FAQs Items</h3>\r\n            <button\r\n              onClick={() => {\r\n                setEditingItem(null);\r\n                setShowItemModal(true);\r\n              }}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\"\r\n            >\r\n              <i className=\"ri-add-line mr-2\"></i>\r\n              Add FAQ Item\r\n            </button>\r\n          </div>\r\n\r\n          {items.length > 0 ? (\r\n            <DragDropList\r\n              items={items}\r\n              onReorder={handleReorderItems}\r\n              renderItem={(item) => (\r\n                <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                      <div className=\"w-8 h-8 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold text-sm\">\r\n                        {String(item.orderIndex + 1).padStart(2, '0')}\r\n                      </div>\r\n                      <h4 className=\"font-semibold text-gray-900\">{item.question}</h4>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 ml-11 line-clamp-2\">{item.answer}</p>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setEditingItem(item);\r\n                        setShowItemModal(true);\r\n                      }}\r\n                      className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer\"\r\n                    >\r\n                      <i className=\"ri-edit-line\"></i>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDeleteItem(item.id)}\r\n                      className=\"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 cursor-pointer\"\r\n                    >\r\n                      <i className=\"ri-delete-bin-line\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            />\r\n          ) : (\r\n            <div className=\"text-center py-8 text-gray-500\">\r\n              <p>No FAQs items yet. Click \"Add FAQ Item\" to get started.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* FAQ Item Modal */}\r\n      {showItemModal && (\r\n        <FaqItemModal\r\n          item={editingItem}\r\n          onSave={handleSaveItem}\r\n          onClose={() => {\r\n            setShowItemModal(false);\r\n            setEditingItem(null);\r\n          }}\r\n          saving={saving}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FaqItemModal({ item, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState({\r\n    question: item?.question || '',\r\n    answer: item?.answer || '',\r\n    imageId: item?.imageId || null\r\n  });\r\n\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={item ? 'Edit FAQ Item' : 'Add FAQ Item'} size=\"lg\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Question\" required>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.question}\r\n            onChange={(e) => setFormData({ ...formData, question: e.target.value })}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            placeholder=\"Enter question\"\r\n          />\r\n        </FormField>\r\n\r\n        <FormField label=\"Answer\" required>\r\n          <textarea\r\n            value={formData.answer}\r\n            onChange={(e) => setFormData({ ...formData, answer: e.target.value })}\r\n            rows={6}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n            placeholder=\"Enter answer\"\r\n          />\r\n        </FormField>\r\n\r\n        <ImageSelector\r\n          value={formData.imageId}\r\n          onChange={(id) => setFormData({ ...formData, imageId: id as number | null })}\r\n          label=\"FAQ Image (Displayed on left side)\"\r\n          currentImage={item?.image ? {\r\n            filePath: item.image.filePath,\r\n            fileName: item.image.altText\r\n          } : null}\r\n        />\r\n        <p className=\"text-sm text-gray-500\">\r\n          <i className=\"ri-information-line mr-1\"></i>\r\n          This image will be displayed on the left side of the FAQs section. The first FAQ item's image will be used.\r\n        </p>\r\n\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => onSave(formData)}\r\n            disabled={saving || !formData.question || !formData.answer}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\n\r\ninterface ContactInfo {\r\n  id?: number;\r\n  companyName: string;\r\n  addressLine1: string | null;\r\n  addressLine2: string | null;\r\n  city: string | null;\r\n  state: string | null;\r\n  postalCode: string | null;\r\n  country: string | null;\r\n  phone: string | null;\r\n  email: string | null;\r\n  supportEmail: string | null;\r\n  googleMapsEmbedUrl: string | null;\r\n}\r\n\r\nexport default function ContactInfoManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [contactInfo, setContactInfo] = useState<ContactInfo>({\r\n    companyName: '',\r\n    addressLine1: null,\r\n    addressLine2: null,\r\n    city: null,\r\n    state: null,\r\n    postalCode: null,\r\n    country: null,\r\n    phone: null,\r\n    email: null,\r\n    supportEmail: null,\r\n    googleMapsEmbedUrl: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContactInfo();\r\n  }, []);\r\n\r\n  const fetchContactInfo = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<ContactInfo>('/contact-info');\r\n      if (response.success && response.data) {\r\n        setContactInfo(response.data as ContactInfo);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      await api.put('/contact-info', contactInfo);\r\n      alert('Contact info saved successfully!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Contact Information</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage company contact details</p>\r\n          </div>\r\n          <button onClick={handleSave} disabled={saving} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <FormField label=\"Company Name\" required>\r\n              <input type=\"text\" value={contactInfo.companyName} onChange={(e) => setContactInfo({ ...contactInfo, companyName: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Phone\">\r\n              <input type=\"tel\" value={contactInfo.phone || ''} onChange={(e) => setContactInfo({ ...contactInfo, phone: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Email\">\r\n              <input type=\"email\" value={contactInfo.email || ''} onChange={(e) => setContactInfo({ ...contactInfo, email: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Support Email\">\r\n              <input type=\"email\" value={contactInfo.supportEmail || ''} onChange={(e) => setContactInfo({ ...contactInfo, supportEmail: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Address Line 1\">\r\n              <input type=\"text\" value={contactInfo.addressLine1 || ''} onChange={(e) => setContactInfo({ ...contactInfo, addressLine1: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Address Line 2\">\r\n              <input type=\"text\" value={contactInfo.addressLine2 || ''} onChange={(e) => setContactInfo({ ...contactInfo, addressLine2: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"City\">\r\n              <input type=\"text\" value={contactInfo.city || ''} onChange={(e) => setContactInfo({ ...contactInfo, city: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"State\">\r\n              <input type=\"text\" value={contactInfo.state || ''} onChange={(e) => setContactInfo({ ...contactInfo, state: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Postal Code\">\r\n              <input type=\"text\" value={contactInfo.postalCode || ''} onChange={(e) => setContactInfo({ ...contactInfo, postalCode: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <FormField label=\"Country\">\r\n              <input type=\"text\" value={contactInfo.country || ''} onChange={(e) => setContactInfo({ ...contactInfo, country: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n            </FormField>\r\n            <div className=\"md:col-span-2\">\r\n              <FormField label=\"Google Maps Embed URL\">\r\n                <textarea value={contactInfo.googleMapsEmbedUrl || ''} onChange={(e) => setContactInfo({ ...contactInfo, googleMapsEmbedUrl: e.target.value || null })} rows={3} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Paste Google Maps embed iframe code here\" />\r\n              </FormField>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\n\r\ninterface GlobalSetting {\r\n  id: number;\r\n  settingKey: string;\r\n  settingValue: string | null;\r\n  settingType: string;\r\n  description: string | null;\r\n}\r\n\r\nexport default function GlobalSettingsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [settings, setSettings] = useState<GlobalSetting[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingSetting, setEditingSetting] = useState<GlobalSetting | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const fetchSettings = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<GlobalSetting[]>('/global-settings');\r\n      if (response.success && response.data) {\r\n        setSettings(response.data as GlobalSetting[]);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (setting: GlobalSetting) => {\r\n    setSaving(true);\r\n    try {\r\n      if (setting.id && setting.id > 0) {\r\n        await api.put(`/global-settings/${setting.id}`, setting);\r\n      } else {\r\n        await api.post('/global-settings', setting);\r\n      }\r\n      setShowModal(false);\r\n      setEditingSetting(null);\r\n      fetchSettings();\r\n      alert('Setting saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this setting?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/global-settings/${id}`);\r\n      setSettings(settings.filter(s => s.id !== id));\r\n      alert('Setting deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Global Settings</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage site-wide settings</p>\r\n          </div>\r\n          <button onClick={() => { setEditingSetting({ id: 0, settingKey: '', settingValue: null, settingType: 'text', description: null }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Setting\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : settings.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-settings-3-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No settings yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-3\">\r\n            {settings.map((setting) => (\r\n              <div key={setting.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-semibold text-gray-900\">{setting.settingKey}</h4>\r\n                    {setting.description && <p className=\"text-sm text-gray-600 mt-1\">{setting.description}</p>}\r\n                    <p className=\"text-sm text-gray-700 mt-2 bg-gray-50 p-2 rounded\">{setting.settingValue || '(empty)'}</p>\r\n                    <span className=\"inline-block mt-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded\">{setting.settingType}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2 ml-4\">\r\n                    <button onClick={() => { setEditingSetting(setting); setShowModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                      <i className=\"ri-edit-line\"></i>\r\n                    </button>\r\n                    <button onClick={() => handleDelete(setting.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                      <i className=\"ri-delete-bin-line\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingSetting && (\r\n        <SettingModal setting={editingSetting} onSave={handleSave} onClose={() => { setShowModal(false); setEditingSetting(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SettingModal({ setting, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(setting);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={setting.id > 0 ? 'Edit Setting' : 'Add Setting'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Setting Key\" required hint=\"Unique identifier (e.g., site_name)\">\r\n          <input type=\"text\" value={formData.settingKey} onChange={(e) => setFormData({ ...formData, settingKey: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <FormField label=\"Setting Type\">\r\n          <select value={formData.settingType} onChange={(e) => setFormData({ ...formData, settingType: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"text\">Text</option>\r\n            <option value=\"number\">Number</option>\r\n            <option value=\"boolean\">Boolean</option>\r\n            <option value=\"json\">JSON</option>\r\n          </select>\r\n        </FormField>\r\n        <FormField label=\"Setting Value\">\r\n          {formData.settingType === 'boolean' ? (\r\n            <select value={formData.settingValue || 'false'} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n              <option value=\"true\">True</option>\r\n              <option value=\"false\">False</option>\r\n            </select>\r\n          ) : formData.settingType === 'json' ? (\r\n            <textarea value={formData.settingValue || ''} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value || null })} rows={6} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm\" placeholder='{\"key\": \"value\"}' />\r\n          ) : (\r\n            <input type={formData.settingType === 'number' ? 'number' : 'text'} value={formData.settingValue || ''} onChange={(e) => setFormData({ ...formData, settingValue: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          )}\r\n        </FormField>\r\n        <FormField label=\"Description\">\r\n          <input type=\"text\" value={formData.description || ''} onChange={(e) => setFormData({ ...formData, description: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.settingKey} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\nimport DragDropList from '../../../../components/cms/DragDropList';\r\nimport { getImageUrl } from '../../../../utils/imageUrl';\r\n\r\ninterface SocialLink {\r\n  id: number;\r\n  platform: string;\r\n  url: string | null;\r\n  iconClass: string | null;\r\n  iconId: number | null;\r\n  icon?: { filePath: string; altText: string };\r\n  orderIndex: number;\r\n  isActive: boolean;\r\n}\r\n\r\nexport default function SocialLinksManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [links, setLinks] = useState<SocialLink[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingLink, setEditingLink] = useState<SocialLink | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchLinks();\r\n  }, []);\r\n\r\n  const fetchLinks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<SocialLink[]>('/social-links');\r\n      if (response.success && response.data) {\r\n        setLinks((response.data as SocialLink[]).sort((a, b) => a.orderIndex - b.orderIndex));\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReorder = async (reorderedLinks: SocialLink[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reorderedLinks.length; i++) {\r\n        await api.put(`/social-links/${reorderedLinks[i].id}`, {\r\n          ...reorderedLinks[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setLinks(reorderedLinks);\r\n      alert('Order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (link: SocialLink) => {\r\n    setSaving(true);\r\n    try {\r\n      if (link.id && link.id > 0) {\r\n        await api.put(`/social-links/${link.id}`, link);\r\n      } else {\r\n        await api.post('/social-links', { ...link, orderIndex: links.length });\r\n      }\r\n      setShowModal(false);\r\n      setEditingLink(null);\r\n      fetchLinks();\r\n      alert('Social link saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this social link?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/social-links/${id}`);\r\n      setLinks(links.filter(l => l.id !== id));\r\n      alert('Social link deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Social Links</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage social media links</p>\r\n          </div>\r\n          <button onClick={() => { setEditingLink({ id: 0, platform: '', url: null, iconClass: null, iconId: null, orderIndex: links.length, isActive: true }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Link\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : links.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-share-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No social links yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <DragDropList\r\n            items={links}\r\n            onReorder={handleReorder}\r\n            keyExtractor={(l) => l.id}\r\n            renderItem={(link: SocialLink) => (\r\n              <div className=\"flex items-center justify-between w-full\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  {link.icon && link.icon.filePath ? (\r\n                    <img src={getImageUrl(link.icon)} alt={link.platform} className=\"w-8 h-8 object-contain\" />\r\n                  ) : link.iconClass ? (\r\n                    <i className={`${link.iconClass} text-2xl text-blue-600`}></i>\r\n                  ) : null}\r\n                  <div>\r\n                    <h4 className=\"font-semibold text-gray-900\">{link.platform}</h4>\r\n                    {link.url && <p className=\"text-sm text-gray-600\">{link.url}</p>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className={`px-2 py-1 text-xs rounded-full ${link.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                    {link.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                  <button onClick={() => { setEditingLink(link); setShowModal(true); }} className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-edit-line\"></i>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(link.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\">\r\n                    <i className=\"ri-delete-bin-line\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingLink && (\r\n        <LinkModal link={editingLink} onSave={handleSave} onClose={() => { setShowModal(false); setEditingLink(null); }} saving={saving} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LinkModal({ link, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState(link);\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={link.id > 0 ? 'Edit Social Link' : 'Add Social Link'} size=\"md\">\r\n      <div className=\"space-y-6\">\r\n        <FormField label=\"Platform\" required>\r\n          <input type=\"text\" value={formData.platform} onChange={(e) => setFormData({ ...formData, platform: e.target.value })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"Facebook\" />\r\n        </FormField>\r\n        <FormField label=\"URL\">\r\n          <input type=\"url\" value={formData.url || ''} onChange={(e) => setFormData({ ...formData, url: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"https://facebook.com/...\" />\r\n        </FormField>\r\n        <FormField label=\"Icon (SVG Upload)\" hint=\"Upload SVG icon for this social link\">\r\n          <ImageSelector\r\n            value={formData.iconId || null}\r\n            onChange={(id) => setFormData({ ...formData, iconId: id || null })}\r\n            label=\"\"\r\n          />\r\n        </FormField>\r\n        <FormField label=\"Icon Class (Optional)\" hint=\"RemixIcon class as fallback\">\r\n          <input type=\"text\" value={formData.iconClass || ''} onChange={(e) => setFormData({ ...formData, iconClass: e.target.value || null })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" placeholder=\"ri-facebook-line\" />\r\n          {formData.iconClass && <div className=\"mt-2 text-xs text-gray-500\">Preview: <i className={formData.iconClass}></i></div>}\r\n        </FormField>\r\n        <FormField label=\"Status\">\r\n          <select value={formData.isActive ? 'active' : 'inactive'} onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </FormField>\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Cancel</button>\r\n          <button onClick={() => onSave(formData)} disabled={saving || !formData.platform} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\">{saving ? 'Saving...' : 'Save'}</button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport Modal from '../../../../components/cms/Modal';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport DragDropList from '../../../../components/cms/DragDropList';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\n\r\ninterface Testimonial {\r\n  id: number;\r\n  clientName: string;\r\n  clientPosition: string | null;\r\n  clientCompany: string | null;\r\n  clientImageId: number | null;\r\n  testimonialText: string;\r\n  rating: number | null;\r\n  orderIndex: number;\r\n  isFeatured: boolean;\r\n  isActive: boolean;\r\n  clientImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function TestimonialsManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [testimonials, setTestimonials] = useState<Testimonial[]>([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingTestimonial, setEditingTestimonial] = useState<Testimonial | null>(null);\r\n  const [viewingTestimonial, setViewingTestimonial] = useState<Testimonial | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchTestimonials();\r\n  }, []);\r\n\r\n  const fetchTestimonials = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Fetch all testimonials (including inactive) for CMS management\r\n      const response = await api.get<Testimonial[]>('/testimonials', {\r\n        params: { includeAll: 'true' }\r\n      });\r\n      if (response.success && response.data) {\r\n        // Sort by orderIndex\r\n        const allTestimonials = (response.data as Testimonial[]).sort((a, b) => a.orderIndex - b.orderIndex);\r\n        setTestimonials(allTestimonials);\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to load');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReorder = async (reordered: Testimonial[]) => {\r\n    setSaving(true);\r\n    try {\r\n      for (let i = 0; i < reordered.length; i++) {\r\n        await api.put(`/testimonials/${reordered[i].id}`, {\r\n          ...reordered[i],\r\n          orderIndex: i\r\n        });\r\n      }\r\n      setTestimonials(reordered);\r\n      alert('Order updated!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to update');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async (testimonial: Testimonial) => {\r\n    setSaving(true);\r\n    try {\r\n      if (testimonial.id && testimonial.id > 0) {\r\n        await api.put(`/testimonials/${testimonial.id}`, testimonial);\r\n      } else {\r\n        await api.post('/testimonials', { ...testimonial, orderIndex: testimonials.length });\r\n      }\r\n      setShowModal(false);\r\n      setEditingTestimonial(null);\r\n      fetchTestimonials();\r\n      alert('Testimonial saved!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: number) => {\r\n    if (!confirm('Delete this testimonial?')) return;\r\n    setSaving(true);\r\n    try {\r\n      await api.delete(`/testimonials/${id}`);\r\n      setTestimonials(testimonials.filter(t => t.id !== id));\r\n      alert('Testimonial deleted!');\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to delete');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const getImageUrl = (testimonial: Testimonial): string => {\r\n    if (!testimonial.clientImage) return '';\r\n    const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n    return `${baseUrl}${testimonial.clientImage.filePath}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Testimonials</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage customer testimonials</p>\r\n          </div>\r\n          <button onClick={() => { setEditingTestimonial({ id: 0, clientName: '', clientPosition: null, clientCompany: null, clientImageId: null, testimonialText: '', rating: null, orderIndex: testimonials.length, isFeatured: false, isActive: true }); setShowModal(true); }} className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer\">\r\n            <i className=\"ri-add-line mr-2\"></i>Add Testimonial\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n        </div>\r\n      ) : testimonials.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-chat-quote-line text-6xl text-gray-300 mb-4\"></i>\r\n          <p className=\"text-gray-600 mb-4\">No testimonials yet</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"mb-4 flex items-center justify-between\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              <i className=\"ri-information-line mr-1\"></i>\r\n              Drag and drop cards to reorder. Cards display 2 per view with auto-scrolling.\r\n            </p>\r\n            <span className=\"text-sm font-medium text-gray-700\">\r\n              Total: {testimonials.length} testimonial{testimonials.length !== 1 ? 's' : ''}\r\n            </span>\r\n          </div>\r\n          <DragDropList\r\n            items={testimonials}\r\n            onReorder={handleReorder}\r\n            keyExtractor={(t) => t.id}\r\n            renderItem={(testimonial: Testimonial) => (\r\n              <div className=\"flex items-start gap-4 w-full p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors\">\r\n                {/* Order Badge */}\r\n                <div className=\"flex-shrink-0 w-10 h-10 bg-[#FF6B35] text-white rounded-lg flex items-center justify-center font-bold\">\r\n                  {testimonial.orderIndex + 1}\r\n                </div>\r\n                \r\n                {/* Card Preview */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-start gap-3 mb-3\">\r\n                    {testimonial.clientImage ? (\r\n                      <img \r\n                        src={getImageUrl(testimonial)} \r\n                        alt={testimonial.clientName} \r\n                        className=\"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm flex-shrink-0\" \r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0\">\r\n                        <span className=\"text-gray-600 font-bold text-sm\">\r\n                          {(testimonial.clientName || 'C').charAt(0).toUpperCase()}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h4 className=\"font-semibold text-gray-900 truncate\">{testimonial.clientName}</h4>\r\n                      {testimonial.clientPosition && testimonial.clientCompany ? (\r\n                        <p className=\"text-sm text-gray-600 truncate\">{testimonial.clientPosition}, {testimonial.clientCompany}</p>\r\n                      ) : testimonial.clientCompany ? (\r\n                        <p className=\"text-sm text-gray-600 truncate\">{testimonial.clientCompany}</p>\r\n                      ) : testimonial.clientPosition ? (\r\n                        <p className=\"text-sm text-gray-600 truncate\">{testimonial.clientPosition}</p>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-500 line-clamp-2 italic\">\"{testimonial.testimonialText}\"</p>\r\n                </div>\r\n                \r\n                {/* Actions */}\r\n                <div className=\"flex items-center space-x-2 flex-shrink-0\">\r\n                  {testimonial.isFeatured && (\r\n                    <span className=\"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full\" title=\"Featured\">\r\n                      <i className=\"ri-star-fill\"></i>\r\n                    </span>\r\n                  )}\r\n                  <span className={`px-2 py-1 text-xs rounded-full ${testimonial.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                    {testimonial.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                  <button \r\n                    onClick={() => setViewingTestimonial(testimonial)} \r\n                    className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer\"\r\n                    title=\"View\"\r\n                  >\r\n                    <i className=\"ri-eye-line\"></i>\r\n                  </button>\r\n                  <button \r\n                    onClick={() => { setEditingTestimonial(testimonial); setShowModal(true); }} \r\n                    className=\"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer\"\r\n                    title=\"Edit\"\r\n                  >\r\n                    <i className=\"ri-edit-line\"></i>\r\n                  </button>\r\n                  <button \r\n                    onClick={() => handleDelete(testimonial.id)} \r\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer\"\r\n                    title=\"Delete\"\r\n                  >\r\n                    <i className=\"ri-delete-bin-line\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {showModal && editingTestimonial && (\r\n        <TestimonialModal testimonial={editingTestimonial} onSave={handleSave} onClose={() => { setShowModal(false); setEditingTestimonial(null); }} saving={saving} />\r\n      )}\r\n\r\n      {viewingTestimonial && (\r\n        <TestimonialViewModal testimonial={viewingTestimonial} onClose={() => setViewingTestimonial(null)} onEdit={() => { setEditingTestimonial(viewingTestimonial); setViewingTestimonial(null); setShowModal(true); }} getImageUrl={getImageUrl} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TestimonialModal({ testimonial, onSave, onClose, saving }: any) {\r\n  const [formData, setFormData] = useState<Testimonial>(testimonial);\r\n  const baseUrl = import.meta.env.VITE_API_URL?.replace('/api/v1', '') || 'http://localhost:3002';\r\n  \r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title={testimonial.id > 0 ? 'Edit Testimonial Card' : 'Add Testimonial Card'} size=\"xl\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Left Column - Form Fields */}\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <h3 className=\"font-semibold text-blue-900 mb-2\">Card Structure</h3>\r\n            <p className=\"text-sm text-blue-700\">\r\n              Each testimonial card displays: Quote icon, testimonial text, client avatar, name, and affiliation.\r\n            </p>\r\n          </div>\r\n\r\n          <FormField label=\"Testimonial Text\" required>\r\n            <textarea \r\n              value={formData.testimonialText} \r\n              onChange={(e) => setFormData({ ...formData, testimonialText: e.target.value })} \r\n              rows={6} \r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Enter the testimonial quote text...\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">This text will appear in white italic font on the orange card</p>\r\n          </FormField>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <FormField label=\"Client Name\" required>\r\n              <input \r\n                type=\"text\" \r\n                value={formData.clientName} \r\n                onChange={(e) => setFormData({ ...formData, clientName: e.target.value })} \r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Dr. John Doe\"\r\n              />\r\n            </FormField>\r\n            <FormField label=\"Client Position\">\r\n              <input \r\n                type=\"text\" \r\n                value={formData.clientPosition || ''} \r\n                onChange={(e) => setFormData({ ...formData, clientPosition: e.target.value || null })} \r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Surgeon\"\r\n              />\r\n            </FormField>\r\n          </div>\r\n\r\n          <FormField label=\"Client Company / Affiliation\">\r\n            <input \r\n              type=\"text\" \r\n              value={formData.clientCompany || ''} \r\n              onChange={(e) => setFormData({ ...formData, clientCompany: e.target.value || null })} \r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"Hospital Name\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">If position is provided, it will show as: \"Position, Company\"</p>\r\n          </FormField>\r\n\r\n          <FormField label=\"Client Avatar / Icon\">\r\n            <ImageSelector \r\n              value={formData.clientImageId} \r\n              onChange={(id) => setFormData({ ...formData, clientImageId: id as number | null })} \r\n              label=\"Upload Avatar Image\" \r\n              aspectRatio=\"1/1\"\r\n              currentImage={formData.clientImage ? {\r\n                filePath: formData.clientImage.filePath,\r\n                fileName: formData.clientImage.altText\r\n              } : null}\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Upload a circular avatar/icon image. This will be displayed in a circular frame on the card.\r\n            </p>\r\n          </FormField>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <FormField label=\"Order Position\">\r\n              <input \r\n                type=\"number\" \r\n                min=\"0\" \r\n                value={formData.orderIndex} \r\n                onChange={(e) => setFormData({ ...formData, orderIndex: parseInt(e.target.value) || 0 })} \r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">Lower numbers appear first</p>\r\n            </FormField>\r\n            <FormField label=\"Status\">\r\n              <select \r\n                value={formData.isActive ? 'active' : 'inactive'} \r\n                onChange={(e) => setFormData({ ...formData, isActive: e.target.value === 'active' })} \r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n              </select>\r\n            </FormField>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <FormField label=\"Featured\">\r\n              <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                <input \r\n                  type=\"checkbox\" \r\n                  checked={formData.isFeatured} \r\n                  onChange={(e) => setFormData({ ...formData, isFeatured: e.target.checked })} \r\n                  className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Mark as featured</span>\r\n              </label>\r\n            </FormField>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Column - Preview */}\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4 sticky top-4\">\r\n            <h3 className=\"font-semibold text-gray-900 mb-4\">Card Preview</h3>\r\n            <div className=\"bg-[#FF6B35] p-6 rounded-lg text-white\">\r\n              <div className=\"mb-4\">\r\n                <i className=\"ri-double-quotes-l text-5xl text-white/50\"></i>\r\n              </div>\r\n              <p className=\"text-white leading-relaxed mb-6 text-base italic min-h-[80px]\">\r\n                {formData.testimonialText || '\"Your testimonial text will appear here...\"'}\r\n              </p>\r\n              <div className=\"border-t border-white/30 pt-4 mt-4\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <div className=\"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0 overflow-hidden\">\r\n                    {formData.clientImage?.filePath ? (\r\n                      <img\r\n                        src={`${baseUrl}${formData.clientImage.filePath}`}\r\n                        alt={formData.clientName}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full bg-white/30 flex items-center justify-center\">\r\n                        <span className=\"text-white font-bold text-lg\">\r\n                          {(formData.clientName || 'C').charAt(0).toUpperCase()}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">\r\n                      {formData.clientName || 'Client Name'}\r\n                    </h3>\r\n                    {formData.clientPosition && formData.clientCompany ? (\r\n                      <p className=\"text-sm text-white/90\">\r\n                        {formData.clientPosition}, {formData.clientCompany}\r\n                      </p>\r\n                    ) : formData.clientCompany ? (\r\n                      <p className=\"text-sm text-white/90\">{formData.clientCompany}</p>\r\n                    ) : formData.clientPosition ? (\r\n                      <p className=\"text-sm text-white/90\">{formData.clientPosition}</p>\r\n                    ) : (\r\n                      <p className=\"text-sm text-white/60 italic\">Position, Company</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4 text-xs text-gray-500 space-y-1\">\r\n              <p><strong>Card Features:</strong></p>\r\n              <ul className=\"list-disc list-inside space-y-1 ml-2\">\r\n                <li>Orange background (#FF6B35)</li>\r\n                <li>White quotation marks icon</li>\r\n                <li>White italic testimonial text</li>\r\n                <li>Circular avatar with fallback initial</li>\r\n                <li>Client name in bold white</li>\r\n                <li>Position and company below name</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex justify-end space-x-3 pt-6 mt-6 border-t\">\r\n        <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">\r\n          Cancel\r\n        </button>\r\n        <button \r\n          onClick={() => onSave(formData)} \r\n          disabled={saving || !formData.clientName || !formData.testimonialText} \r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n        >\r\n          {saving ? 'Saving...' : 'Save Testimonial Card'}\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nfunction TestimonialViewModal({ testimonial, onClose, onEdit, getImageUrl }: any) {\r\n  return (\r\n    <Modal isOpen={true} onClose={onClose} title=\"Testimonial Details\" size=\"lg\">\r\n      <div className=\"space-y-6\">\r\n        {testimonial.clientImage && (\r\n          <div className=\"flex justify-center\">\r\n            <img src={getImageUrl(testimonial)} alt={testimonial.clientName} className=\"w-32 h-32 rounded-full object-cover\" />\r\n          </div>\r\n        )}\r\n        <div className=\"text-center\">\r\n          <h3 className=\"text-2xl font-medium text-gray-900 mb-2\">{testimonial.clientName}</h3>\r\n          {testimonial.clientPosition && <p className=\"text-gray-700\">{testimonial.clientPosition}</p>}\r\n          {testimonial.clientCompany && <p className=\"text-blue-600\">{testimonial.clientCompany}</p>}\r\n        </div>\r\n        <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n          <p className=\"text-gray-700 italic text-lg\">\"{testimonial.testimonialText}\"</p>\r\n        </div>\r\n        {testimonial.rating && (\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span className=\"text-sm text-gray-600\">Rating:</span>\r\n            <div className=\"flex\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <i key={i} className={`ri-star-${i < testimonial.rating! ? 'fill' : 'line'} text-yellow-400`}></i>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n          <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer\">Close</button>\r\n          <button onClick={onEdit} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer\">\r\n            <i className=\"ri-edit-line mr-2\"></i>Edit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { api } from '../../../../utils/api';\r\nimport FormField from '../../../../components/cms/FormField';\r\nimport ImageSelector from '../../../../components/cms/ImageSelector';\r\n\r\ninterface ReusableContactSection {\r\n  id?: number;\r\n  heading: string | null;\r\n  companyName: string | null;\r\n  address: string | null;\r\n  phone: string | null;\r\n  phoneIconId: number | null;\r\n  phoneIcon?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n  email: string | null;\r\n  emailIconId: number | null;\r\n  emailIcon?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n  imageId: number | null;\r\n  image?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n  backgroundImageId: number | null;\r\n  backgroundImage?: {\r\n    filePath: string;\r\n    altText: string;\r\n  };\r\n}\r\n\r\nexport default function ReusableContactManagement() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [content, setContent] = useState<ReusableContactSection>({\r\n    heading: null,\r\n    companyName: null,\r\n    address: null,\r\n    phone: null,\r\n    phoneIconId: null,\r\n    email: null,\r\n    emailIconId: null,\r\n    imageId: null,\r\n    backgroundImageId: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  const fetchContent = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get<ReusableContactSection>('/reusable-contact-section');\r\n      if (response.success && response.data) {\r\n        setContent(response.data as ReusableContactSection);\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching content:', error);\r\n      alert(error.message || 'Failed to load content');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    try {\r\n      const response = await api.put('/reusable-contact-section', content);\r\n      if (response.success) {\r\n        alert('Reusable Contact Section saved successfully!');\r\n        fetchContent();\r\n      }\r\n    } catch (error: any) {\r\n      alert(error.message || 'Failed to save');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-medium text-gray-900\">Reusable Contact Us Component</h2>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Manage the reusable contact section used across multiple pages</p>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save Changes'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-sm\">\r\n          <i className=\"ri-loader-4-line animate-spin text-4xl text-blue-600\"></i>\r\n          <p className=\"text-gray-600 mt-2\">Loading...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"space-y-6\">\r\n            <FormField label=\"Heading\">\r\n              <input\r\n                type=\"text\"\r\n                value={content.heading || ''}\r\n                onChange={(e) => setContent({ ...content, heading: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"Contact Us\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Company Name\">\r\n              <input\r\n                type=\"text\"\r\n                value={content.companyName || ''}\r\n                onChange={(e) => setContent({ ...content, companyName: e.target.value || null })}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"ADONIS MEDICAL SYSTEMS PVT LTD\"\r\n              />\r\n            </FormField>\r\n\r\n            <FormField label=\"Address\">\r\n              <textarea\r\n                value={content.address || ''}\r\n                onChange={(e) => setContent({ ...content, address: e.target.value || null })}\r\n                rows={4}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                placeholder=\"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071.\"\r\n              />\r\n            </FormField>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-4\">\r\n                <FormField label=\"Phone\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={content.phone || ''}\r\n                    onChange={(e) => setContent({ ...content, phone: e.target.value || null })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"9872003273\"\r\n                  />\r\n                </FormField>\r\n                <ImageSelector\r\n                  value={content.phoneIconId}\r\n                  onChange={(id) => setContent({ ...content, phoneIconId: id as number })}\r\n                  label=\"Phone Icon\"\r\n                  currentImage={content.phoneIcon ? {\r\n                    filePath: content.phoneIcon.filePath,\r\n                    fileName: content.phoneIcon.altText\r\n                  } : null}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <FormField label=\"Email\">\r\n                  <input\r\n                    type=\"email\"\r\n                    value={content.email || ''}\r\n                    onChange={(e) => setContent({ ...content, email: e.target.value || null })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"support@adonismedical.com\"\r\n                  />\r\n                </FormField>\r\n                <ImageSelector\r\n                  value={content.emailIconId}\r\n                  onChange={(id) => setContent({ ...content, emailIconId: id as number })}\r\n                  label=\"Email Icon\"\r\n                  currentImage={content.emailIcon ? {\r\n                    filePath: content.emailIcon.filePath,\r\n                    fileName: content.emailIcon.altText\r\n                  } : null}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t pt-6 space-y-6\">\r\n              <div>\r\n                <ImageSelector\r\n                  value={content.backgroundImageId}\r\n                  onChange={(id) => setContent({ ...content, backgroundImageId: id as number })}\r\n                  label=\"Background Image (PNG)\"\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  <i className=\"ri-information-line mr-1\"></i>\r\n                  Upload a PNG background image for the contact section.\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <ImageSelector\r\n                  value={content.imageId}\r\n                  onChange={(id) => setContent({ ...content, imageId: id as number })}\r\n                  label=\"Contact Section Image\"\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  <i className=\"ri-information-line mr-1\"></i>\r\n                  Upload an image to display on the right side of the contact section.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState } from 'react';\n\ninterface ActivityLog {\n  id: string;\n  user: string;\n  userEmail: string;\n  action: 'create' | 'update' | 'delete' | 'restore' | 'login' | 'logout';\n  page: string;\n  section: string;\n  field?: string;\n  oldValue?: string;\n  newValue?: string;\n  timestamp: Date;\n  ipAddress: string;\n}\n\nexport default function ActivityLogsPage() {\n  const [filterAction, setFilterAction] = useState<string>('all');\n  const [filterPage, setFilterPage] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateRange, setDateRange] = useState({ start: '', end: '' });\n\n  // Mock data - In production, fetch from your database\n  const [logs] = useState<ActivityLog[]>([\n    {\n      id: '1',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'update',\n      page: 'Home',\n      section: 'Hero Section',\n      field: 'Title',\n      oldValue: 'Welcome to Adonis Medical',\n      newValue: 'Affordable Diagnostic Imaging Solutions',\n      timestamp: new Date('2025-01-15T10:30:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '2',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'login',\n      page: 'Admin',\n      section: 'Authentication',\n      timestamp: new Date('2025-01-15T09:00:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '3',\n      user: 'Editor User',\n      userEmail: 'editor@adonismedical.com',\n      action: 'create',\n      page: 'Products',\n      section: 'Product List',\n      field: 'New Product',\n      newValue: 'HF Mobile X-Ray System',\n      timestamp: new Date('2025-01-14T15:45:00'),\n      ipAddress: '192.168.1.101'\n    },\n    {\n      id: '4',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'delete',\n      page: 'Awards',\n      section: 'Awards List',\n      field: 'Award Item',\n      oldValue: 'Best Innovation Award 2023',\n      timestamp: new Date('2025-01-14T14:20:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '5',\n      user: 'Admin User',\n      userEmail: 'raghul.je@refex.co.in',\n      action: 'restore',\n      page: 'Awards',\n      section: 'Awards List',\n      field: 'Award Item',\n      newValue: 'Best Innovation Award 2023',\n      timestamp: new Date('2025-01-14T14:25:00'),\n      ipAddress: '192.168.1.100'\n    },\n    {\n      id: '6',\n      user: 'Editor User',\n      userEmail: 'editor@adonismedical.com',\n      action: 'update',\n      page: 'About',\n      section: 'Company Overview',\n      field: 'Description',\n      oldValue: 'We are a leading manufacturer...',\n      newValue: 'Adonis Medical Systems, a professionally managed...',\n      timestamp: new Date('2025-01-13T11:30:00'),\n      ipAddress: '192.168.1.101'\n    }\n  ]);\n\n  const actionColors = {\n    create: 'bg-green-100 text-green-800',\n    update: 'bg-blue-100 text-blue-800',\n    delete: 'bg-red-100 text-red-800',\n    restore: 'bg-purple-100 text-purple-800',\n    login: 'bg-gray-100 text-gray-800',\n    logout: 'bg-gray-100 text-gray-800'\n  };\n\n  const actionIcons = {\n    create: 'ri-add-circle-line',\n    update: 'ri-edit-line',\n    delete: 'ri-delete-bin-line',\n    restore: 'ri-restart-line',\n    login: 'ri-login-box-line',\n    logout: 'ri-logout-box-line'\n  };\n\n  const filteredLogs = logs.filter(log => {\n    const matchesAction = filterAction === 'all' || log.action === filterAction;\n    const matchesPage = filterPage === 'all' || log.page === filterPage;\n    const matchesSearch = searchQuery === '' || \n      log.user.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.userEmail.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.page.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      log.section.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    return matchesAction && matchesPage && matchesSearch;\n  });\n\n  const exportLogs = () => {\n    const csv = [\n      ['Timestamp', 'User', 'Email', 'Action', 'Page', 'Section', 'Field', 'Old Value', 'New Value', 'IP Address'],\n      ...filteredLogs.map(log => [\n        log.timestamp.toISOString(),\n        log.user,\n        log.userEmail,\n        log.action,\n        log.page,\n        log.section,\n        log.field || '',\n        log.oldValue || '',\n        log.newValue || '',\n        log.ipAddress\n      ])\n    ].map(row => row.join(',')).join('\\\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `activity-logs-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Activity Logs</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Track all user actions and changes</p>\n          </div>\n          <button\n            onClick={exportLogs}\n            className=\"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap\"\n          >\n            <i className=\"ri-download-line\"></i>\n            <span>Export Logs</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search user, email, page...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n              <i className=\"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"></i>\n            </div>\n          </div>\n\n          {/* Action Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Action</label>\n            <select\n              value={filterAction}\n              onChange={(e) => setFilterAction(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              <option value=\"all\">All Actions</option>\n              <option value=\"create\">Create</option>\n              <option value=\"update\">Update</option>\n              <option value=\"delete\">Delete</option>\n              <option value=\"restore\">Restore</option>\n              <option value=\"login\">Login</option>\n              <option value=\"logout\">Logout</option>\n            </select>\n          </div>\n\n          {/* Page Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Page</label>\n            <select\n              value={filterPage}\n              onChange={(e) => setFilterPage(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              <option value=\"all\">All Pages</option>\n              <option value=\"Home\">Home</option>\n              <option value=\"About\">About</option>\n              <option value=\"Products\">Products</option>\n              <option value=\"Awards\">Awards</option>\n              <option value=\"Careers\">Careers</option>\n              <option value=\"Contact\">Contact</option>\n            </select>\n          </div>\n\n          {/* Date Range */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date Range</label>\n            <div className=\"flex space-x-2\">\n              <input\n                type=\"date\"\n                value={dateRange.start}\n                onChange={(e) => setDateRange({ ...dateRange, start: e.target.value })}\n                className=\"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              />\n              <input\n                type=\"date\"\n                value={dateRange.end}\n                onChange={(e) => setDateRange({ ...dateRange, end: e.target.value })}\n                className=\"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Logs Table */}\n      <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 border-b border-gray-200\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Page</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Section</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Changes</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">IP Address</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredLogs.map((log) => (\n                <tr key={log.id} className=\"hover:bg-gray-50 transition-colors\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {log.timestamp.toLocaleString()}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm font-medium text-gray-900\">{log.user}</div>\n                    <div className=\"text-xs text-gray-500\">{log.userEmail}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${actionColors[log.action]}`}>\n                      <i className={`${actionIcons[log.action]} mr-1`}></i>\n                      {log.action.charAt(0).toUpperCase() + log.action.slice(1)}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{log.page}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{log.section}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">\n                    {log.field && (\n                      <div className=\"space-y-1\">\n                        <div className=\"font-medium\">{log.field}</div>\n                        {log.oldValue && (\n                          <div className=\"text-xs text-red-600\">\n                            <span className=\"font-medium\">From:</span> {log.oldValue.substring(0, 50)}{log.oldValue.length > 50 ? '...' : ''}\n                          </div>\n                        )}\n                        {log.newValue && (\n                          <div className=\"text-xs text-green-600\">\n                            <span className=\"font-medium\">To:</span> {log.newValue.substring(0, 50)}{log.newValue.length > 50 ? '...' : ''}\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{log.ipAddress}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {filteredLogs.length === 0 && (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-file-list-3-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No activity logs found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Actions</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">{logs.length}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-bar-chart-line text-2xl text-blue-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Updates</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'update').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-edit-line text-2xl text-green-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Deletions</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'delete').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-delete-bin-line text-2xl text-red-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Logins</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">\n                {logs.filter(l => l.action === 'login').length}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-login-box-line text-2xl text-purple-600\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface DeletedItem {\n  id: string;\n  type: 'page-section' | 'product' | 'award' | 'job' | 'client' | 'document';\n  page: string;\n  section: string;\n  title: string;\n  deletedBy: string;\n  deletedAt: Date;\n  data: any;\n}\n\nexport default function RecycleBinPage() {\n  const [selectedItems, setSelectedItems] = useState<string[]>([]);\n  const [filterType, setFilterType] = useState<string>('all');\n\n  // Mock data - In production, fetch from your database\n  const [deletedItems, setDeletedItems] = useState<DeletedItem[]>([\n    {\n      id: '1',\n      type: 'award',\n      page: 'Awards',\n      section: 'Awards List',\n      title: 'Best Innovation Award 2023',\n      deletedBy: 'raghul.je@refex.co.in',\n      deletedAt: new Date('2025-01-14T14:20:00'),\n      data: {\n        year: '2023',\n        category: 'Innovation',\n        organization: 'Healthcare Excellence Awards',\n        description: 'Recognized for breakthrough innovations in medical imaging technology'\n      }\n    },\n    {\n      id: '2',\n      type: 'product',\n      page: 'Products',\n      section: 'Product List',\n      title: 'Legacy X-Ray System',\n      deletedBy: 'editor@adonismedical.com',\n      deletedAt: new Date('2025-01-13T10:15:00'),\n      data: {\n        category: 'X-Ray Systems',\n        description: 'Discontinued product line'\n      }\n    },\n    {\n      id: '3',\n      type: 'job',\n      page: 'Careers',\n      section: 'Job Openings',\n      title: 'Senior Software Engineer',\n      deletedBy: 'raghul.je@refex.co.in',\n      deletedAt: new Date('2025-01-12T16:30:00'),\n      data: {\n        department: 'Engineering',\n        location: 'Mohali, India',\n        type: 'Full-time'\n      }\n    },\n    {\n      id: '4',\n      type: 'page-section',\n      page: 'Home',\n      section: 'Testimonials',\n      title: 'Customer Testimonial - Dr. Smith',\n      deletedBy: 'editor@adonismedical.com',\n      deletedAt: new Date('2025-01-11T09:45:00'),\n      data: {\n        author: 'Dr. John Smith',\n        content: 'Excellent equipment and service...'\n      }\n    }\n  ]);\n\n  const typeIcons = {\n    'page-section': 'ri-file-text-line',\n    'product': 'ri-product-hunt-line',\n    'award': 'ri-award-line',\n    'job': 'ri-briefcase-line',\n    'client': 'ri-user-heart-line',\n    'document': 'ri-file-line'\n  };\n\n  const typeColors = {\n    'page-section': 'bg-blue-100 text-blue-800',\n    'product': 'bg-green-100 text-green-800',\n    'award': 'bg-yellow-100 text-yellow-800',\n    'job': 'bg-purple-100 text-purple-800',\n    'client': 'bg-pink-100 text-pink-800',\n    'document': 'bg-gray-100 text-gray-800'\n  };\n\n  const filteredItems = filterType === 'all' \n    ? deletedItems \n    : deletedItems.filter(item => item.type === filterType);\n\n  const handleSelectAll = () => {\n    if (selectedItems.length === filteredItems.length) {\n      setSelectedItems([]);\n    } else {\n      setSelectedItems(filteredItems.map(item => item.id));\n    }\n  };\n\n  const handleSelectItem = (id: string) => {\n    setSelectedItems(prev => \n      prev.includes(id) \n        ? prev.filter(itemId => itemId !== id)\n        : [...prev, id]\n    );\n  };\n\n  const handleRestore = (id: string) => {\n    const item = deletedItems.find(i => i.id === id);\n    if (item) {\n      alert(`Restored: ${item.title}`);\n      setDeletedItems(prev => prev.filter(i => i.id !== id));\n      setSelectedItems(prev => prev.filter(itemId => itemId !== id));\n    }\n  };\n\n  const handleRestoreSelected = () => {\n    if (selectedItems.length === 0) return;\n    \n    if (confirm(`Restore ${selectedItems.length} selected item(s)?`)) {\n      setDeletedItems(prev => prev.filter(item => !selectedItems.includes(item.id)));\n      setSelectedItems([]);\n      alert(`${selectedItems.length} item(s) restored successfully!`);\n    }\n  };\n\n  const handlePermanentDelete = (id: string) => {\n    const item = deletedItems.find(i => i.id === id);\n    if (item && confirm(`Permanently delete \"${item.title}\"? This action cannot be undone.`)) {\n      setDeletedItems(prev => prev.filter(i => i.id !== id));\n      setSelectedItems(prev => prev.filter(itemId => itemId !== id));\n      alert('Item permanently deleted');\n    }\n  };\n\n  const handleEmptyBin = () => {\n    if (deletedItems.length === 0) return;\n    \n    if (confirm(`Permanently delete all ${deletedItems.length} item(s)? This action cannot be undone.`)) {\n      setDeletedItems([]);\n      setSelectedItems([]);\n      alert('Recycle bin emptied successfully');\n    }\n  };\n\n  const getDaysAgo = (date: Date) => {\n    const days = Math.floor((new Date().getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\n    if (days === 0) return 'Today';\n    if (days === 1) return 'Yesterday';\n    return `${days} days ago`;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Recycle Bin</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {deletedItems.length} deleted item(s)  Items are kept for 30 days\n            </p>\n          </div>\n          <div className=\"flex space-x-3\">\n            {selectedItems.length > 0 && (\n              <button\n                onClick={handleRestoreSelected}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-restart-line\"></i>\n                <span>Restore Selected ({selectedItems.length})</span>\n              </button>\n            )}\n            <button\n              onClick={handleEmptyBin}\n              disabled={deletedItems.length === 0}\n              className=\"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <i className=\"ri-delete-bin-line\"></i>\n              <span>Empty Bin</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-4\">\n        <div className=\"flex items-center space-x-2 overflow-x-auto\">\n          <button\n            onClick={() => setFilterType('all')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'all'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            All Items ({deletedItems.length})\n          </button>\n          <button\n            onClick={() => setFilterType('page-section')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'page-section'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Page Sections ({deletedItems.filter(i => i.type === 'page-section').length})\n          </button>\n          <button\n            onClick={() => setFilterType('product')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'product'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Products ({deletedItems.filter(i => i.type === 'product').length})\n          </button>\n          <button\n            onClick={() => setFilterType('award')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'award'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Awards ({deletedItems.filter(i => i.type === 'award').length})\n          </button>\n          <button\n            onClick={() => setFilterType('job')}\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${\n              filterType === 'job'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            Jobs ({deletedItems.filter(i => i.type === 'job').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Items List */}\n      <div className=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n        {filteredItems.length > 0 ? (\n          <>\n            {/* Select All */}\n            <div className=\"px-6 py-3 bg-gray-50 border-b border-gray-200\">\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedItems.length === filteredItems.length}\n                  onChange={handleSelectAll}\n                  className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n                />\n                <span className=\"ml-2 text-sm text-gray-700\">Select All</span>\n              </label>\n            </div>\n\n            {/* Items */}\n            <div className=\"divide-y divide-gray-200\">\n              {filteredItems.map((item) => (\n                <div key={item.id} className=\"px-6 py-4 hover:bg-gray-50 transition-colors\">\n                  <div className=\"flex items-start space-x-4\">\n                    {/* Checkbox */}\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.includes(item.id)}\n                      onChange={() => handleSelectItem(item.id)}\n                      className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n                    />\n\n                    {/* Icon */}\n                    <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${typeColors[item.type]}`}>\n                      <i className={`${typeIcons[item.type]} text-xl`}></i>\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <h3 className=\"text-sm font-medium text-gray-900\">{item.title}</h3>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${typeColors[item.type]}`}>\n                              {item.type.replace('-', ' ')}\n                            </span>\n                            <span className=\"text-xs text-gray-500\"></span>\n                            <span className=\"text-xs text-gray-500\">{item.page} / {item.section}</span>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-2\">\n                            Deleted by {item.deletedBy}  {getDaysAgo(item.deletedAt)}\n                          </p>\n                        </div>\n\n                        {/* Actions */}\n                        <div className=\"flex items-center space-x-2 ml-4\">\n                          <button\n                            onClick={() => handleRestore(item.id)}\n                            className=\"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                          >\n                            <i className=\"ri-restart-line\"></i>\n                            <span>Restore</span>\n                          </button>\n                          <button\n                            onClick={() => handlePermanentDelete(item.id)}\n                            className=\"flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                            <span>Delete</span>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-delete-bin-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">Recycle bin is empty</p>\n            <p className=\"text-sm text-gray-400 mt-1\">Deleted items will appear here</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\n\ninterface Version {\n  id: string;\n  page: string;\n  section: string;\n  versionNumber: number;\n  createdBy: string;\n  createdAt: Date;\n  changes: string[];\n  data: any;\n}\n\nexport default function VersionHistoryPage() {\n  const [selectedPage, setSelectedPage] = useState<string>('all');\n  const [selectedSection, setSelectedSection] = useState<string>('all');\n  const [compareMode, setCompareMode] = useState(false);\n  const [compareVersions, setCompareVersions] = useState<string[]>([]);\n\n  // Mock data - In production, fetch from your database\n  const [versions] = useState<Version[]>([\n    {\n      id: '1',\n      page: 'Home',\n      section: 'Hero Section',\n      versionNumber: 5,\n      createdBy: 'raghul.je@refex.co.in',\n      createdAt: new Date('2025-01-15T10:30:00'),\n      changes: ['Updated title text', 'Changed background image', 'Modified button color'],\n      data: {\n        title: 'Affordable Diagnostic Imaging Solutions',\n        subtitle: 'Leading manufacturer of high-quality X-ray systems',\n        backgroundImage: 'https://example.com/hero-bg.jpg'\n      }\n    },\n    {\n      id: '2',\n      page: 'Home',\n      section: 'Hero Section',\n      versionNumber: 4,\n      createdBy: 'editor@adonismedical.com',\n      createdAt: new Date('2025-01-14T15:20:00'),\n      changes: ['Updated subtitle', 'Changed overlay opacity'],\n      data: {\n        title: 'Welcome to Adonis Medical',\n        subtitle: 'Quality medical imaging solutions',\n        backgroundImage: 'https://example.com/hero-bg-old.jpg'\n      }\n    },\n    {\n      id: '3',\n      page: 'About',\n      section: 'Company Overview',\n      versionNumber: 3,\n      createdBy: 'raghul.je@refex.co.in',\n      createdAt: new Date('2025-01-13T11:45:00'),\n      changes: ['Added new paragraph', 'Updated bullet points'],\n      data: {\n        paragraphs: ['Updated company description...'],\n        bulletPoints: ['Innovation', 'Quality', 'Service']\n      }\n    },\n    {\n      id: '4',\n      page: 'Products',\n      section: 'Product List',\n      versionNumber: 8,\n      createdBy: 'editor@adonismedical.com',\n      createdAt: new Date('2025-01-12T09:15:00'),\n      changes: ['Added new product', 'Updated product images'],\n      data: {\n        products: ['HF Mobile', 'C-ARM', 'Digital Radiography']\n      }\n    }\n  ]);\n\n  const pages = ['all', ...Array.from(new Set(versions.map(v => v.page)))];\n  const sections = selectedPage === 'all' \n    ? ['all'] \n    : ['all', ...Array.from(new Set(versions.filter(v => v.page === selectedPage).map(v => v.section)))];\n\n  const filteredVersions = versions.filter(v => {\n    const matchesPage = selectedPage === 'all' || v.page === selectedPage;\n    const matchesSection = selectedSection === 'all' || v.section === selectedSection;\n    return matchesPage && matchesSection;\n  });\n\n  const handleCompareToggle = (versionId: string) => {\n    if (compareVersions.includes(versionId)) {\n      setCompareVersions(prev => prev.filter(id => id !== versionId));\n    } else if (compareVersions.length < 2) {\n      setCompareVersions(prev => [...prev, versionId]);\n    }\n  };\n\n  const handleRestore = (version: Version) => {\n    if (confirm(`Restore ${version.page} - ${version.section} to version ${version.versionNumber}?`)) {\n      alert(`Restored to version ${version.versionNumber}`);\n    }\n  };\n\n  const handleCompare = () => {\n    if (compareVersions.length === 2) {\n      alert('Opening comparison view...');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-medium text-gray-900\">Version History</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">View and restore previous versions of your content</p>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <label className=\"flex items-center space-x-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={compareMode}\n                onChange={(e) => {\n                  setCompareMode(e.target.checked);\n                  if (!e.target.checked) setCompareVersions([]);\n                }}\n                className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Compare Mode</span>\n            </label>\n            {compareMode && compareVersions.length === 2 && (\n              <button\n                onClick={handleCompare}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-git-compare-line\"></i>\n                <span>Compare Versions</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Page</label>\n            <select\n              value={selectedPage}\n              onChange={(e) => {\n                setSelectedPage(e.target.value);\n                setSelectedSection('all');\n              }}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              {pages.map(page => (\n                <option key={page} value={page}>\n                  {page === 'all' ? 'All Pages' : page}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Section</label>\n            <select\n              value={selectedSection}\n              onChange={(e) => setSelectedSection(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer\"\n            >\n              {sections.map(section => (\n                <option key={section} value={section}>\n                  {section === 'all' ? 'All Sections' : section}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Version Timeline */}\n      <div className=\"bg-white rounded-lg shadow-sm p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Version Timeline</h3>\n        \n        {filteredVersions.length > 0 ? (\n          <div className=\"space-y-6\">\n            {filteredVersions.map((version, index) => (\n              <div key={version.id} className=\"relative\">\n                {/* Timeline Line */}\n                {index !== filteredVersions.length - 1 && (\n                  <div className=\"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200\"></div>\n                )}\n\n                <div className=\"flex items-start space-x-4\">\n                  {/* Compare Checkbox */}\n                  {compareMode && (\n                    <input\n                      type=\"checkbox\"\n                      checked={compareVersions.includes(version.id)}\n                      onChange={() => handleCompareToggle(version.id)}\n                      disabled={!compareVersions.includes(version.id) && compareVersions.length >= 2}\n                      className=\"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                    />\n                  )}\n\n                  {/* Version Badge */}\n                  <div className=\"relative z-10 flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\n                    v{version.versionNumber}\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"flex-1 bg-gray-50 rounded-lg p-4\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <h4 className=\"text-sm font-semibold text-gray-900\">\n                            {version.page} - {version.section}\n                          </h4>\n                          <span className=\"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded\">\n                            Version {version.versionNumber}\n                          </span>\n                        </div>\n                        \n                        <p className=\"text-xs text-gray-500 mb-3\">\n                          {version.createdAt.toLocaleString()}  by {version.createdBy}\n                        </p>\n\n                        <div className=\"space-y-1\">\n                          <p className=\"text-xs font-medium text-gray-700\">Changes:</p>\n                          <ul className=\"space-y-1\">\n                            {version.changes.map((change, idx) => (\n                              <li key={idx} className=\"text-xs text-gray-600 flex items-start\">\n                                <i className=\"ri-arrow-right-s-line text-blue-500 mt-0.5\"></i>\n                                <span>{change}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex items-center space-x-2 ml-4\">\n                        <button\n                          onClick={() => alert('Opening preview...')}\n                          className=\"flex items-center space-x-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                        >\n                          <i className=\"ri-eye-line\"></i>\n                          <span>Preview</span>\n                        </button>\n                        <button\n                          onClick={() => handleRestore(version)}\n                          className=\"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm\"\n                        >\n                          <i className=\"ri-restart-line\"></i>\n                          <span>Restore</span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <i className=\"ri-history-line text-6xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No version history found</p>\n          </div>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Versions</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">{versions.length}</p>\n            </div>\n            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-git-branch-line text-2xl text-blue-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Pages Tracked</p>\n              <p className=\"text-2xl font-medium text-gray-900 mt-1\">\n                {new Set(versions.map(v => v.page)).size}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-file-list-line text-2xl text-green-600\"></i>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-600\">Latest Update</p>\n              <p className=\"text-sm font-bold text-gray-900 mt-1\">\n                {versions[0]?.createdAt.toLocaleDateString()}\n              </p>\n            </div>\n            <div className=\"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-time-line text-2xl text-purple-600\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nimport { useAuth } from '../../../contexts/AuthContext';\nimport { getDefaultImageUrl } from '../../../utils/imageUrl';\nimport HomePageManagement from './components/HomePageManagement';\nimport HeaderFooterManagement from './components/HeaderFooterManagement';\nimport AboutPageManagement from './components/AboutPageManagement';\nimport UserManagement from './components/UserManagement';\nimport ProductsPageManagement from './components/ProductsPageManagement';\nimport AwardsPageManagement from './components/AwardsPageManagement';\nimport CareersPageManagement from './components/CareersPageManagement';\nimport ContactPageManagement from './components/ContactPageManagement';\nimport SMTPConfiguration from './components/SMTPConfiguration';\nimport SpecialtiesPageManagement from './components/SpecialtiesPageManagement';\nimport InvestorRelationsPageManagement from './components/InvestorRelationsPageManagement';\nimport ClientsPageManagement from './components/ClientsPageManagement';\nimport ManagementPageManagement from './components/ManagementPageManagement';\nimport OurPresencePageManagement from './components/OurPresencePageManagement';\nimport ProductionFacilityPageManagement from './components/ProductionFacilityPageManagement';\nimport QualityAssurancePageManagement from './components/QualityAssurancePageManagement';\nimport RequestDemoPageManagement from './components/RequestDemoPageManagement';\nimport OurProductsPageManagement from './components/OurProductsPageManagement';\nimport TermsAndConditionsManagement from './components/TermsAndConditionsManagement';\nimport PrivacyPolicyManagement from './components/PrivacyPolicyManagement';\nimport FaqsManagement from './components/FaqsManagement';\nimport ContactInfoManagement from './components/ContactInfoManagement';\nimport GlobalSettingsManagement from './components/GlobalSettingsManagement';\nimport SocialLinksManagement from './components/SocialLinksManagement';\nimport TestimonialsManagement from './components/TestimonialsManagement';\nimport ReusableContactManagement from './components/ReusableContactManagement';\nimport ActivityLogsPage from './components/ActivityLogsPage';\nimport RecycleBinPage from './components/RecycleBinPage';\nimport VersionHistoryPage from './components/VersionHistoryPage';\n\ntype MainTab = 'home' | 'header-footer' | 'about' | 'products' | 'our-products' | 'awards' | 'careers' | 'specialties' | 'investors' | 'clients' | 'management' | 'presence' | 'production' | 'quality' | 'demo' | 'contact' | 'contact-info' | 'reusable-contact' | 'terms' | 'privacy' | 'faqs' | 'global-settings' | 'social-links' | 'testimonials' | 'users' | 'smtp' | 'logs' | 'bin' | 'versions';\n\nexport default function AdminDashboardPage() {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const [activeMainTab, setActiveMainTab] = useState<MainTab>('home');\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    AOS.init({\n      duration: 600,\n      once: true,\n      easing: 'ease-out-cubic'\n    });\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  const mainTabs = [\n    { id: 'home' as MainTab, label: 'Home', icon: 'ri-home-line' },\n    { id: 'header-footer' as MainTab, label: 'Header & Footer', icon: 'ri-layout-line' },\n    { id: 'about' as MainTab, label: 'About', icon: 'ri-information-line' },\n    { id: 'products' as MainTab, label: 'Products', icon: 'ri-product-hunt-line' },\n    { id: 'our-products' as MainTab, label: 'Our Products', icon: 'ri-shopping-bag-line' },\n    { id: 'awards' as MainTab, label: 'Awards', icon: 'ri-award-line' },\n    { id: 'careers' as MainTab, label: 'Careers', icon: 'ri-briefcase-line' },\n    { id: 'specialties' as MainTab, label: 'Specialties', icon: 'ri-stethoscope-line' },\n    { id: 'investors' as MainTab, label: 'Investors', icon: 'ri-line-chart-line' },\n    { id: 'clients' as MainTab, label: 'Clients', icon: 'ri-user-heart-line' },\n    { id: 'management' as MainTab, label: 'Management', icon: 'ri-team-line' },\n    { id: 'presence' as MainTab, label: 'Our Presence', icon: 'ri-map-2-line' },\n    { id: 'production' as MainTab, label: 'Production', icon: 'ri-factory-line' },\n    { id: 'quality' as MainTab, label: 'Quality Assurance', icon: 'ri-shield-check-line' },\n    { id: 'demo' as MainTab, label: 'Request Demo', icon: 'ri-calendar-check-line' },\n    { id: 'contact' as MainTab, label: 'Contact', icon: 'ri-mail-line' },\n    { id: 'contact-info' as MainTab, label: 'Contact Info', icon: 'ri-contacts-line' },\n    { id: 'reusable-contact' as MainTab, label: 'Reusable Contact', icon: 'ri-mail-send-line' },\n    { id: 'terms' as MainTab, label: 'Terms & Conditions', icon: 'ri-file-text-line' },\n    { id: 'privacy' as MainTab, label: 'Privacy Policy', icon: 'ri-shield-check-line' },\n    { id: 'faqs' as MainTab, label: 'FAQs', icon: 'ri-question-line' },\n    { id: 'global-settings' as MainTab, label: 'Global Settings', icon: 'ri-settings-3-line' },\n    { id: 'social-links' as MainTab, label: 'Social Links', icon: 'ri-share-line' },\n    { id: 'testimonials' as MainTab, label: 'Testimonials', icon: 'ri-chat-quote-line' },\n    { id: 'users' as MainTab, label: 'Users', icon: 'ri-user-settings-line' },\n    { id: 'smtp' as MainTab, label: 'SMTP', icon: 'ri-mail-settings-line' },\n    { id: 'logs' as MainTab, label: 'Activity Logs', icon: 'ri-file-list-3-line' },\n    { id: 'bin' as MainTab, label: 'Recycle Bin', icon: 'ri-delete-bin-line' },\n    { id: 'versions' as MainTab, label: 'Version History', icon: 'ri-history-line' }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-[#F5F7FA]\">\n      {/* Top Header */}\n      <div className=\"bg-white border-b border-[#E5E7EB] sticky top-0 z-50 shadow-sm\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo & Title */}\n            <div className=\"flex items-center space-x-4\">\n              <img \n                src={getDefaultImageUrl('2024/09/logo_adonis_4x-1.svg')} \n                alt=\"Adonis Medical\" \n                className=\"h-10\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-[#2563EB]\">Admin Dashboard</h1>\n                <p className=\"text-xs text-[#6B7280]\">Content Management System</p>\n              </div>\n            </div>\n\n            {/* User Info & Logout */}\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-[#1F2937]\">Welcome, <span className=\"text-[#2563EB]\">{user?.email || user?.fullName || 'Admin'}</span></p>\n              </div>\n              <button\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-[#EF4444] text-white rounded-lg hover:bg-[#DC2626] transition-all duration-300 whitespace-nowrap cursor-pointer\"\n              >\n                <i className=\"ri-logout-box-line\"></i>\n                <span className=\"text-sm font-medium\">Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Navigation Tabs */}\n        <div className=\"px-6\">\n          <div className=\"flex items-center space-x-2 overflow-x-auto\">\n            {mainTabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveMainTab(tab.id)}\n                className={`flex items-center space-x-2 px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${\n                  activeMainTab === tab.id\n                    ? 'text-[#2563EB] border-[#2563EB] bg-gradient-to-b from-[#EFF6FF] to-transparent'\n                    : 'text-[#6B7280] border-transparent hover:text-[#2563EB] hover:bg-[#F9FAFB]'\n                }`}\n              >\n                <i className={`${tab.icon} text-lg`}></i>\n                <span>{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"p-6\">\n        {activeMainTab === 'home' && <HomePageManagement />}\n        {activeMainTab === 'header-footer' && <HeaderFooterManagement />}\n        {activeMainTab === 'about' && <AboutPageManagement />}\n        {activeMainTab === 'products' && <ProductsPageManagement />}\n        {activeMainTab === 'our-products' && <OurProductsPageManagement />}\n        {activeMainTab === 'awards' && <AwardsPageManagement />}\n        {activeMainTab === 'careers' && <CareersPageManagement />}\n        {activeMainTab === 'specialties' && <SpecialtiesPageManagement />}\n        {activeMainTab === 'investors' && <InvestorRelationsPageManagement />}\n        {activeMainTab === 'clients' && <ClientsPageManagement />}\n        {activeMainTab === 'management' && <ManagementPageManagement />}\n        {activeMainTab === 'presence' && <OurPresencePageManagement />}\n        {activeMainTab === 'production' && <ProductionFacilityPageManagement />}\n        {activeMainTab === 'quality' && <QualityAssurancePageManagement />}\n        {activeMainTab === 'demo' && <RequestDemoPageManagement />}\n        {activeMainTab === 'contact' && <ContactPageManagement />}\n        {activeMainTab === 'contact-info' && <ContactInfoManagement />}\n        {activeMainTab === 'reusable-contact' && <ReusableContactManagement />}\n        {activeMainTab === 'terms' && <TermsAndConditionsManagement />}\n        {activeMainTab === 'privacy' && <PrivacyPolicyManagement />}\n        {activeMainTab === 'faqs' && <FaqsManagement />}\n        {activeMainTab === 'global-settings' && <GlobalSettingsManagement />}\n        {activeMainTab === 'social-links' && <SocialLinksManagement />}\n        {activeMainTab === 'testimonials' && <TestimonialsManagement />}\n        {activeMainTab === 'users' && <UserManagement />}\n        {activeMainTab === 'smtp' && <SMTPConfiguration />}\n        {activeMainTab === 'logs' && <ActivityLogsPage />}\n        {activeMainTab === 'bin' && <RecycleBinPage />}\n        {activeMainTab === 'versions' && <VersionHistoryPage />}\n      </div>\n    </div>\n  );\n}\n"],"names":["Modal","isOpen","onClose","title","children","size","showCloseButton","useEffect","sizeClasses","jsx","e","jsxs","FormField","label","required","error","hint","DragDropList","items","onReorder","renderItem","keyExtractor","emptyMessage","draggedIndex","setDraggedIndex","useState","dragOverIndex","setDragOverIndex","handleDragStart","index","handleDragOver","handleDrop","dropIndex","newItems","draggedItem","reorderedItems","item","handleDragEnd","ImageSelector","value","onChange","aspectRatio","currentImage","uploading","setUploading","preview","setPreview","inputMode","setInputMode","urlInput","setUrlInput","gallery","setGallery","loadingGallery","setLoadingGallery","galleryPage","setGalleryPage","selectedMedia","setSelectedMedia","fileInputRef","useRef","isMediaId","isUrl","fetchGallery","baseUrl","fetchMediaPreview","getDefaultImageUrl","mediaId","response","api","handleFileUpload","file","formData","token","data","handleSelectFromGallery","media","handleUrlSubmit","handleRemove","getPreviewUrl","mediaUrl","HomePageManagement","activeSection","setActiveSection","loading","setLoading","saving","setSaving","heroData","setHeroData","aboutData","setAboutData","aboutParagraphs","setAboutParagraphs","showParagraphModal","setShowParagraphModal","editingParagraph","setEditingParagraph","stats","setStats","showStatModal","setShowStatModal","editingStat","setEditingStat","qualityData","setQualityData","productsData","setProductsData","productsCards","setProductsCards","showProductCardModal","setShowProductCardModal","editingProductCard","setEditingProductCard","specialtiesData","setSpecialtiesData","testimonialsData","setTestimonialsData","contactData","setContactData","sectionTabs","fetchSectionData","heroRes","aboutRes","statsRes","a","b","productsRes","productsCardsRes","qualityRes","specialtiesRes","testimonialsRes","contactRes","handleSaveHero","handleSaveAbout","handleSaveParagraph","paragraph","handleDeleteParagraph","id","p","handleReorderParagraphs","reorderedParagraphs","i","handleSaveStats","reorderedStats","handleSaveStat","stat","handleDeleteStat","s","handleSaveQuality","payload","handleSaveProducts","handleSaveProductCard","card","handleDeleteProductCard","c","handleReorderProductCards","reorderedCards","handleSaveSpecialties","handleSaveTestimonials","handleSaveContact","getImageUrl","image","tab","Fragment","HeroSectionEditor","AboutSectionEditor","StatsSectionEditor","ProductsSectionEditor","QualitySectionEditor","SpecialtiesSectionEditor","TestimonialsSectionEditor","ContactSectionEditor","StatModal","ParagraphModal","ProductCardModal","onSave","paragraphs","onAddParagraph","onEditParagraph","onDeleteParagraph","onReorderParagraphs","safeData","safeParagraphs","setFormData","onEdit","onDelete","onAdd","cards","onAddCard","onEditCard","onDeleteCard","onReorderCards","getCardImageUrl","safeCards","isValid","HeaderFooterManagement","navItems","setNavItems","showNavModal","setShowNavModal","editingNavItem","setEditingNavItem","footerSections","setFooterSections","showSectionModal","setShowSectionModal","showLinkModal","setShowLinkModal","editingSection","setEditingSection","editingLink","setEditingLink","selectedSectionId","setSelectedSectionId","footerLogos","setFooterLogos","showLogoModal","setShowLogoModal","editingLogo","setEditingLogo","socialLinks","setSocialLinks","showSocialModal","setShowSocialModal","editingSocial","setEditingSocial","fetchNavItems","fetchFooterSections","fetchFooterLogos","fetchSocialLinks","allItems","itemsWithChildren","child","sections","handleSaveNavItem","handleDeleteNavItem","n","handleSaveFooterSection","section","handleDeleteFooterSection","handleSaveFooterLink","link","handleDeleteFooterLink","handleSaveLogo","logo","handleSaveSocial","social","existingRefex","l","existingAdonis","getLogoImageUrl","getLinkIconImageUrl","NavItemModal","SectionModal","LinkModal","LogoModal","SocialModal","isSubMenu","AboutPageManagement","content","setContent","highlights","setHighlights","editingHighlight","setEditingHighlight","overviewParagraphs","setOverviewParagraphs","globalReachCards","setGlobalReachCards","editingGlobalReachCard","setEditingGlobalReachCard","fetchContent","fetchHighlights","fetchOverviewParagraphs","fetchGlobalReachCards","handleAddParagraph","position","handleSave","handleAddHighlight","handleSaveHighlight","handleDeleteHighlight","handleReorderHighlights","reorderedHighlights","h","handleAddGlobalReachCard","handleSaveGlobalReachCard","handleDeleteGlobalReachCard","handleReorderGlobalReachCards","SectionEditor","val","highlight","fields","imageSelector","previewImage","field","defaultPermissions","pageLabels","UserManagement","view","setView","selectedUser","setSelectedUser","users","setUsers","customPermissions","setCustomPermissions","fetchUsers","mappedUsers","user","handleCreateUser","handleEditUser","fullUser","handleCancel","handleRoleChange","role","getCurrentPermissions","handlePermissionChange","page","permission","current","updated","resetToRoleDefaults","handleDeleteUser","userId","getRoleBadgeColor","getStatusBadgeColor","status","permissions","perms","pageInfo","HfMobilePageManagement","activeTab","setActiveTab","pageContent","setPageContent","images","setImages","features","setFeatures","variants","setVariants","hospitals","setHospitals","showImageModal","setShowImageModal","showFeatureModal","setShowFeatureModal","showVariantModal","setShowVariantModal","showHospitalModal","setShowHospitalModal","editingImage","setEditingImage","editingFeature","setEditingFeature","editingVariant","setEditingVariant","editingHospital","setEditingHospital","fetchPageContent","fetchImages","fetchFeatures","fetchVariants","fetchHospitals","handleSavePageContent","handleReorderImages","reordered","handleSaveImage","handleDeleteImage","handleReorderFeatures","handleSaveFeature","feature","handleDeleteFeature","f","handleReorderVariants","handleSaveVariant","variant","handleDeleteVariant","v","img","ImageModal","FeatureModal","VariantModal","HfFixedPageManagement","handleReorderHospitals","handleSaveHospital","hospital","handleDeleteHospital","HospitalModal","FpdCArmPageManagement","HfCArm1kPageManagement","LineFrequencyPageManagement","DigitalRadiographyPageManagement","showHighlightModal","setShowHighlightModal","HighlightModal","DreamSeriesPageManagement","ProductsPageManagement","AwardsPageManagement","awards","setAwards","showAwardModal","setShowAwardModal","editingAward","setEditingAward","viewingAward","setViewingAward","fetchAwards","handleReorder","reorderedAwards","handleSaveAward","award","handleDeleteAward","PageContentEditor","AwardModal","AwardViewModal","CareersPageManagement","jobs","setJobs","showJobModal","setShowJobModal","editingJob","setEditingJob","viewingJob","setViewingJob","fetchJobs","handleSaveJob","job","handleDeleteJob","j","JobsListEditor","JobModal","JobViewModal","onView","ContactPageManagement","SMTPConfiguration","isEditing","setIsEditing","isTesting","setIsTesting","testResult","setTestResult","smtpConfig","setSmtpConfig","testEmail","setTestEmail","handleTestConnection","commonSMTPProviders","applyProvider","provider","SpecialtiesPageManagement","specialties","setSpecialties","showSpecialtyModal","setShowSpecialtyModal","editingSpecialty","setEditingSpecialty","viewingSpecialty","setViewingSpecialty","pageCards","setPageCards","showCardModal","setShowCardModal","editingCard","setEditingCard","fetchPageCards","fetchSpecialties","handleSaveCard","handleDeleteCard","handleReorderCards","reorderedSpecialties","handleSaveSpecialty","specialty","handleDeleteSpecialty","CardsEditor","CardModal","SpecialtyModal","SpecialtyViewModal","name","InvestorRelationsPageManagement","documents","setDocuments","showDocumentModal","setShowDocumentModal","editingDocument","setEditingDocument","fetchDocuments","reorderedDocs","handleSaveDocument","doc","handleDeleteDocument","d","DocumentModal","document","formDataObj","ClientsPageManagement","clients","setClients","showClientModal","setShowClientModal","editingClient","setEditingClient","viewingClient","setViewingClient","fetchClients","getClientDisplayName","client","reorderedClients","handleSaveClient","errorMessage","handleDeleteClient","ClientModal","ClientViewModal","ManagementPageManagement","leaders","setLeaders","showLeaderModal","setShowLeaderModal","editingLeader","setEditingLeader","viewingLeader","setViewingLeader","fetchLeaders","reorderedLeaders","handleSaveLeader","leader","handleDeleteLeader","LeaderModal","LeaderViewModal","OurPresencePageManagement","locations","setLocations","showLocationModal","setShowLocationModal","editingLocation","setEditingLocation","fetchLocations","handleSaveLocation","loc","handleDeleteLocation","LocationModal","location","ProductionFacilityPageManagement","reorderedFeatures","QualityAssurancePageManagement","certifications","setCertifications","showCertModal","setShowCertModal","editingCert","setEditingCert","fetchCertifications","reorderedCerts","handleSaveCert","cert","handleDeleteCert","CertModal","RequestDemoPageManagement","setParagraphs","getFeatureIconUrl","OurProductsPageManagement","ReactPropTypesSecret","ReactPropTypesSecret_1","require$$0","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","props","propName","componentName","propFullName","secret","err","getShim","ReactPropTypes","propTypesModule","__assign","t","eventPropTypes","PropTypes.func","EditorPropTypes","PropTypes.string","PropTypes.bool","PropTypes.object","PropTypes.number","PropTypes.oneOfType","PropTypes.array","PropTypes.arrayOf","PropTypes.shape","PropTypes.oneOf","getTinymce","global","isFunction","x","isEventProp","eventAttrToEventName","attrName","configHandlers2","handlerLookup","on","off","adapter","prevProps","boundHandlers","prevEventKeys","currEventKeys","removedKeys","key","addedKeys","eventName","wrappedHandler","configHandlers","editor","lookup","_a","unique","uuid","prefix","time","random","isTextareaOrInput","element","normalizePluginArray","plugins","mergePlugins","initPlugins","inputPlugins","isBeforeInputEventAvailable","isInDoc","elem","parent_1","setMode","mode","getTinymceOrError","tinymce","isDisabledOptionSupported","injectScriptTag","handler","_b","scriptTag","loadHandler","errorHandler","createDocumentScriptLoader","scriptLoadOrErrorHandler","src","_i","loadScripts","success","failure","failureOrLog","successCount","failed","loaded","_src","items_1","existing","deleteScripts","getDocument","createScriptLoader","cache","getDocumentScriptLoader","loader","loadList","delay","doLoad","reinitialize","ScriptLoader","__extends","extendStatics","__","changeEvents","Editor","_super","_c","_this","_evt","evt","newContent","attempts","target","finalInit","initialValue","React.createRef","localEditor_1","cursor","valueCursor","bookmark","readonly","_d","_f","successHandler","tagName","React.createElement","async","defer","channel","apiKey","cloudTinyJs","isValueControlled","wasControlled","nowControlled","React.Component","WordLikeEditor","placeholder","height","editorRef","isMounted","setIsMounted","editorValue","handleEditorChange","TermsAndConditionsManagement","PrivacyPolicyManagement","FaqsManagement","setPage","setItems","showItemModal","setShowItemModal","editingItem","setEditingItem","fetchData","pageRes","itemsRes","handleSavePage","handleSaveItem","itemData","handleDeleteItem","handleReorderItems","itemsToUpdate","FaqItemModal","ContactInfoManagement","contactInfo","setContactInfo","fetchContactInfo","GlobalSettingsManagement","settings","setSettings","showModal","setShowModal","editingSetting","setEditingSetting","fetchSettings","setting","handleDelete","SettingModal","SocialLinksManagement","links","setLinks","fetchLinks","reorderedLinks","TestimonialsManagement","testimonials","setTestimonials","editingTestimonial","setEditingTestimonial","viewingTestimonial","setViewingTestimonial","fetchTestimonials","allTestimonials","testimonial","TestimonialModal","TestimonialViewModal","_","ReusableContactManagement","ActivityLogsPage","filterAction","setFilterAction","filterPage","setFilterPage","searchQuery","setSearchQuery","dateRange","setDateRange","logs","actionColors","actionIcons","filteredLogs","log","matchesAction","matchesPage","matchesSearch","exportLogs","csv","row","blob","url","RecycleBinPage","selectedItems","setSelectedItems","filterType","setFilterType","deletedItems","setDeletedItems","typeIcons","typeColors","filteredItems","handleSelectAll","handleSelectItem","prev","itemId","handleRestore","handleRestoreSelected","handlePermanentDelete","handleEmptyBin","getDaysAgo","date","days","VersionHistoryPage","selectedPage","setSelectedPage","selectedSection","setSelectedSection","compareMode","setCompareMode","compareVersions","setCompareVersions","versions","pages","filteredVersions","matchesSection","handleCompareToggle","versionId","version","handleCompare","change","idx","AdminDashboardPage","useNavigate","logout","useAuth","activeMainTab","setActiveMainTab","AOS","handleLogout","mainTabs"],"mappings":"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","x_google_ignoreList":[29,30,31,32,33,34,35,36]}