import{r as o,j as e,a as u,u as he,c as pe,A as be}from"./index-BuDEgKCk.js";import{g as oe,a as de}from"./imageUrl-BzcOWJ-M.js";function B({isOpen:a,onClose:c,title:d,children:i,size:s="lg",showCloseButton:r=!0}){if(o.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]),!a)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:x=>{x.target===x.currentTarget&&c()},children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity bg-black bg-opacity-50","aria-hidden":"true"}),e.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${l[s]}`,children:[e.jsxs("div",{className:"bg-white px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d}),r&&e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-500 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsx("div",{className:"bg-white px-6 py-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:i})]})]})})}function g({label:a,required:c=!1,error:d,hint:i,children:s}){return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a,c&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s,i&&e.jsx("p",{className:"text-xs text-gray-500",children:i}),d&&e.jsx("p",{className:"text-xs text-red-500",children:d})]})}function z({items:a,onReorder:c,renderItem:d,keyExtractor:i,emptyMessage:s="No items yet. Add your first item!"}){const[r,l]=o.useState(null),[x,m]=o.useState(null),S=b=>{l(b)},C=(b,k)=>{b.preventDefault(),!(r===null||r===k)&&m(k)},N=(b,k)=>{if(b.preventDefault(),r===null)return;const h=[...a],[A]=h.splice(r,1);h.splice(k,0,A);const p=h.map((T,I)=>({...T,orderIndex:I}));c(p),l(null),m(null)},y=()=>{l(null),m(null)};return a.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-inbox-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:s})]}):e.jsx("div",{className:"space-y-3",children:a.map((b,k)=>e.jsx("div",{draggable:!0,onDragStart:()=>S(k),onDragOver:h=>C(h,k),onDrop:h=>N(h,k),onDragEnd:y,className:`
            transition-all duration-200 cursor-move
            ${r===k?"opacity-50":""}
            ${x===k?"transform translate-y-2 border-blue-400":""}
          `,children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center space-x-4 hover:shadow-md",children:[e.jsx("div",{className:"text-gray-400 cursor-grab active:cursor-grabbing",children:e.jsx("i",{className:"ri-drag-move-2-line text-2xl"})}),e.jsx("div",{className:"flex-1",children:d(b,k)}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["#",k+1]})]})},i(b)))})}function R({value:a,onChange:c,label:d="Image",required:i=!1,aspectRatio:s="16/9",currentImage:r=null}){const[l,x]=o.useState(!1),[m,S]=o.useState(null),[C,N]=o.useState(null),[y,b]=o.useState(""),[k,h]=o.useState([]),[A,p]=o.useState(!1),[T,I]=o.useState(1),[v,f]=o.useState(null),D=typeof a=="number",F=typeof a=="string"&&(a.startsWith("http")||a.startsWith("/uploads"));o.useEffect(()=>{C==="gallery"&&L()},[C,T]),o.useEffect(()=>{if(r&&r.filePath&&D&&a){const q="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";S(`${q}${r.filePath}`),f({id:a,fileName:r.fileName||"",filePath:r.filePath})}else D&&a?M(a):F&&a?S(a.startsWith("http")?a:oe(a.replace("/uploads/",""))):(S(null),f(null))},[a,r]);const M=async q=>{try{const G=await u.get(`/media/${q}`);if(G.success&&G.data){const P="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";S(`${P}${G.data.filePath}`),f(G.data)}}catch(G){console.error("Error fetching media:",G)}},L=async()=>{p(!0);try{const q=await u.get(`/media?fileType=image&page=${T}&limit=20`);q.success&&q.data&&h(q.data.media||[])}catch(q){console.error("Error fetching gallery:",q),alert("Failed to load gallery. Please try again.")}finally{p(!1)}},w=async q=>{const G=q.target.files?.[0];if(G){x(!0);try{const P=new FormData;P.append("image",G);const V=localStorage.getItem("auth_token"),_=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/image`,{method:"POST",headers:{Authorization:`Bearer ${V||""}`},body:P})).json();if(_.success&&_.mediaId){c(_.mediaId);const W="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";S(`${W}${_.imageUrl}`),N(null)}}catch(P){console.error("Upload error:",P),alert("Failed to upload image. Please try again.")}finally{x(!1)}}},E=q=>{c(q.id);const G="http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002";S(`${G}${q.filePath}`),f(q),N(null)},U=()=>{y.trim()&&(c(y.trim()),S(y.startsWith("http")?y:oe(y.replace("/uploads/",""))),b(""),N(null))},O=()=>{c(null),S(null),f(null),N(null)},J=()=>m||(D&&a?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}/placeholder`:null);return e.jsxs("div",{className:"space-y-3",children:[d&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[d,i&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),J()&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:J()||"",alt:"Preview",className:`w-full rounded-lg object-cover ${s==="16/9"?"aspect-video":s==="1/1"?"aspect-square":""}`,style:{maxHeight:"300px"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[e.jsxs("button",{onClick:()=>N(null),className:"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change"]}),e.jsxs("button",{onClick:O,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 cursor-pointer",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Remove"]})]})})]}),v&&e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:v.fileName})]}),!J()||C!==null?e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:C?C==="upload"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Upload New Image"}),e.jsx("button",{onClick:()=>N(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:w,disabled:l,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer"}),l&&e.jsxs("div",{className:"text-sm text-blue-600",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Uploading..."]})]}):C==="gallery"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose from Gallery"}),e.jsx("button",{onClick:()=>N(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),A?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-2xl text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading gallery..."})]}):k.length===0?e.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"No images in gallery"}):e.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto",children:k.map(q=>{const P=`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${q.filePath}`;return e.jsx("div",{onClick:()=>E(q),className:`relative aspect-square cursor-pointer rounded-lg overflow-hidden border-2 ${v?.id===q.id?"border-blue-500":"border-gray-200"} hover:border-blue-300`,children:e.jsx("img",{src:P,alt:q.fileName,className:"w-full h-full object-cover"})},q.id)})})]}):C==="url"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Enter Image URL"}),e.jsx("button",{onClick:()=>N(null),className:"text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:y,onChange:q=>b(q.target.value),placeholder:"https://example.com/image.jpg or /uploads/2025/05/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:q=>q.key==="Enter"&&U()}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:U,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer",children:"Use URL"}),y&&e.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg p-2",children:e.jsx("img",{src:y.startsWith("http")?y:oe(y.replace("/uploads/","")),alt:"Preview",className:"w-full h-20 object-cover rounded",onError:q=>{q.target.style.display="none"}})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports local paths (/uploads/YYYY/MM/filename.jpg) or external URLs (https://...)"})]})]}):null:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Select image source:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>N("upload"),className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-upload-2-line mr-2"}),"Upload"]}),e.jsxs("button",{onClick:()=>N("gallery"),className:"px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-image-line mr-2"}),"Gallery"]}),e.jsxs("button",{onClick:()=>N("url"),className:"px-4 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer flex items-center justify-center",children:[e.jsx("i",{className:"ri-links-line mr-2"}),"URL"]})]}),e.jsx("button",{onClick:()=>N(null),className:"mt-4 text-sm text-gray-500 hover:text-gray-700 cursor-pointer",children:"Cancel"})]})}):e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>N(null),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Change Image"]})})]})}function fe(){const[a,c]=o.useState("hero"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:"",subtitle:"",backgroundImageId:null,titleColor:"#FFFFFF",subtitleColor:"#FFFFFF",overlayOpacity:40}),[m,S]=o.useState({title:null,subtitle:null,introText:null,mainImageId:null,ctaText:null,ctaUrl:null}),[C,N]=o.useState([]),[y,b]=o.useState(!1),[k,h]=o.useState(null),[A,p]=o.useState([]),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState({title:"",content:"",imageId:null}),[M,L]=o.useState({heading:"",description:"",ctaText:"",ctaUrl:""}),[w,E]=o.useState({heading:"",description:"",imageId:null,ctaText:"",ctaUrl:""}),[U,O]=o.useState({subtitle:"",heading:""}),[J,q]=o.useState({heading:"",companyName:"",address:"",phone:"",email:"",imageId:null}),G=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"about",label:"About Section",icon:"ri-information-line"},{id:"stats",label:"Statistics",icon:"ri-bar-chart-line"},{id:"products",label:"Products Section",icon:"ri-shopping-bag-line"},{id:"quality",label:"Quality Section",icon:"ri-shield-check-line"},{id:"specialties",label:"Specialties Section",icon:"ri-medicine-bottle-line"},{id:"testimonials",label:"Testimonials Section",icon:"ri-quote-text-line"},{id:"contact",label:"Contact Section",icon:"ri-phone-line"}];o.useEffect(()=>{P()},[a]);const P=async()=>{i(!0);try{switch(a){case"hero":const j=await u.get("/home-hero-section");j.success&&j.data&&x(j.data);break;case"about":const $=await u.get("/home-about-section");if($.success&&$.data){const ee=$.data;S({id:ee.id,title:ee.title||null,subtitle:ee.subtitle||null,introText:ee.introText||null,mainImageId:ee.mainImageId||null,ctaText:ee.ctaText||null,ctaUrl:ee.ctaUrl||null,mainImage:ee.mainImage}),N(ee.paragraphs||[])}else S({title:null,subtitle:null,introText:null,mainImageId:null,ctaText:null,ctaUrl:null}),N([]);break;case"stats":const Y=await u.get("/home-stats");Y.success&&Y.data&&p(Y.data.sort((ee,me)=>ee.orderIndex-me.orderIndex));break;case"products":const re=await u.get("/home-products-section");re.success&&re.data&&L(re.data);break;case"quality":const te=await u.get("/home-quality-section");te.success&&te.data&&F(te.data);break;case"specialties":const ae=await u.get("/home-specialties-section");ae.success&&ae.data&&E(ae.data);break;case"testimonials":const le=await u.get("/home-testimonials-section");le.success&&le.data&&O(le.data);break;case"contact":const ie=await u.get("/home-contact-section");ie.success&&ie.data&&q(ie.data);break}}catch(j){console.error("Error fetching data:",j),alert(j.message||"Failed to load data")}finally{i(!1)}},V=async()=>{r(!0);try{(await u.put("/home-hero-section",l)).success&&alert("Hero section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},Q=async()=>{r(!0);try{if((await u.put("/home-about-section",{...m,paragraphs:C})).success){alert("About section saved successfully!");const $=await u.get("/home-about-section");if($.success&&$.data){const Y=$.data;S({id:Y.id,title:Y.title||null,subtitle:Y.subtitle||null,introText:Y.introText||null,mainImageId:Y.mainImageId||null,ctaText:Y.ctaText||null,ctaUrl:Y.ctaUrl||null,mainImage:Y.mainImage}),N(Y.paragraphs||[])}}}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},_=async j=>{r(!0);try{j.id?await u.put(`/home-about-paragraphs/${j.id}`,j):await u.post("/home-about-paragraphs",{...j,orderIndex:C.length}),b(!1),h(null),P(),alert("Paragraph saved successfully!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},W=async j=>{if(confirm("Are you sure you want to delete this paragraph?")){r(!0);try{await u.delete(`/home-about-paragraphs/${j}`),N(C.filter($=>$.id!==j)),alert("Paragraph deleted successfully!")}catch($){alert($.message||"Failed to delete")}finally{r(!1)}}},K=async j=>{r(!0);try{for(let $=0;$<j.length;$++)await u.put(`/home-about-paragraphs/${j[$].id}`,{...j[$],orderIndex:$});N(j),alert("Paragraphs order updated successfully!")}catch($){alert($.message||"Failed to update order")}finally{r(!1)}},X=async j=>{r(!0);try{for(let $=0;$<j.length;$++)await u.put(`/home-stats/${j[$].id}`,{...j[$],orderIndex:$});p(j),alert("Statistics order updated successfully!")}catch($){alert($.message||"Failed to update order")}finally{r(!1)}},Z=async j=>{r(!0);try{j.id?await u.put(`/home-stats/${j.id}`,j):await u.post("/home-stats",{...j,orderIndex:A.length}),I(!1),f(null),P(),alert("Stat saved successfully!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},t=async j=>{if(confirm("Are you sure you want to delete this statistic?")){r(!0);try{await u.delete(`/home-stats/${j}`),p(A.filter($=>$.id!==j)),alert("Stat deleted successfully!")}catch($){alert($.message||"Failed to delete")}finally{r(!1)}}},n=async()=>{r(!0);try{(await u.put("/home-quality-section",D)).success&&alert("Quality section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},H=async()=>{r(!0);try{(await u.put("/home-products-section",M)).success&&alert("Products section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},ce=async()=>{r(!0);try{(await u.put("/home-specialties-section",w)).success&&alert("Specialties section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},ue=async()=>{r(!0);try{(await u.put("/home-testimonials-section",U)).success&&alert("Testimonials section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},xe=async()=>{r(!0);try{(await u.put("/home-contact-section",J)).success&&alert("Contact section saved successfully!")}catch(j){alert(j.message||"Failed to save")}finally{r(!1)}},se=j=>j?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${j.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Home Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of your home page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:G.map(j=>e.jsxs("button",{onClick:()=>c(j.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${a===j.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:j.icon}),e.jsx("span",{children:j.label})]},j.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[a==="hero"&&e.jsx(ye,{data:l,onChange:x,onSave:V,saving:s,getImageUrl:se}),a==="about"&&e.jsx(je,{data:m,onChange:S,onSave:Q,saving:s,getImageUrl:se,paragraphs:C,onAddParagraph:()=>{h({id:0,content:"",orderIndex:C.length}),b(!0)},onEditParagraph:j=>{h(j),b(!0)},onDeleteParagraph:W,onReorderParagraphs:K}),a==="stats"&&e.jsx(Ne,{stats:A,onReorder:X,onEdit:j=>{f(j),I(!0)},onDelete:t,onAdd:()=>{f({id:0,iconClass:"",imageId:null,number:"",label:"",orderIndex:A.length}),I(!0)},getImageUrl:se}),a==="products"&&e.jsx(Ce,{data:M,onChange:L,onSave:H,saving:s}),a==="quality"&&e.jsx(we,{data:D,onChange:F,onSave:n,saving:s,getImageUrl:se}),a==="specialties"&&e.jsx(Se,{data:w,onChange:E,onSave:ce,saving:s,getImageUrl:se}),a==="testimonials"&&e.jsx(Ie,{data:U,onChange:O,onSave:ue,saving:s}),a==="contact"&&e.jsx(Fe,{data:J,onChange:q,onSave:xe,saving:s,getImageUrl:se})]})})]}),T&&v&&e.jsx(ke,{stat:v,onSave:Z,onClose:()=>{I(!1),f(null)},saving:s,getImageUrl:se}),y&&k&&e.jsx(ve,{paragraph:k,onSave:_,onClose:()=>{b(!1),h(null)},saving:s})]})}function ye({data:a,onChange:c,onSave:d,saving:i,getImageUrl:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hero Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:a.title,onChange:r=>c({...a,title:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title"})}),e.jsx(g,{label:"Subtitle",children:e.jsx("input",{type:"text",value:a.subtitle||"",onChange:r=>c({...a,subtitle:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter subtitle"})}),e.jsx(R,{value:a.backgroundImageId,onChange:r=>c({...a,backgroundImageId:r}),label:"Background Image"}),e.jsx(g,{label:"Title Color",children:e.jsx("input",{type:"color",value:a.titleColor,onChange:r=>c({...a,titleColor:r.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(g,{label:"Subtitle Color",children:e.jsx("input",{type:"color",value:a.subtitleColor,onChange:r=>c({...a,subtitleColor:r.target.value}),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})}),e.jsx(g,{label:"Overlay Opacity",hint:"0-100",children:e.jsx("input",{type:"number",min:"0",max:"100",value:a.overlayOpacity,onChange:r=>c({...a,overlayOpacity:parseInt(r.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),a.backgroundImage&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview:"}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden",style:{height:"300px"},children:[e.jsx("img",{src:s(a.backgroundImage),alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center px-8",style:{backgroundColor:`rgba(0,0,0,${a.overlayOpacity/100})`},children:e.jsxs("div",{children:[e.jsx("h1",{style:{color:a.titleColor},className:"text-3xl font-bold mb-2",children:a.title}),e.jsx("p",{style:{color:a.subtitleColor},className:"text-lg",children:a.subtitle})]})})]})]})]})}function je({data:a,onChange:c,onSave:d,saving:i,getImageUrl:s,paragraphs:r=[],onAddParagraph:l,onEditParagraph:x,onDeleteParagraph:m,onReorderParagraphs:S}){const C=a||{},N=Array.isArray(r)?r:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"About Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Title",children:e.jsx("input",{type:"text",value:C.title||"",onChange:y=>c({...C,title:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Title (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Subtitle",children:e.jsx("input",{type:"text",value:C.subtitle||"",onChange:y=>c({...C,subtitle:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Section Subtitle (optional)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text (Fallback if no paragraphs)",children:e.jsx("textarea",{value:C.introText||"",onChange:y=>c({...C,introText:y.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter intro text (used if no paragraphs are added)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:C.mainImageId||null,onChange:y=>c({...C,mainImageId:y}),label:"Section Image"})}),e.jsx(g,{label:"CTA Text",children:e.jsx("input",{type:"text",value:C.ctaText||"",onChange:y=>c({...C,ctaText:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"More About Us"})}),e.jsx(g,{label:"CTA URL",children:e.jsx("input",{type:"text",value:C.ctaUrl||"",onChange:y=>c({...C,ctaUrl:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about"})})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>l&&l(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder. If paragraphs are added, they will be displayed instead of the intro text."]}),e.jsx(z,{items:N,onReorder:S||(()=>{}),keyExtractor:y=>y.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:y=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:y.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x&&x(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>m&&m(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}function ve({paragraph:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a||{id:0,content:"",orderIndex:0});return o.useEffect(()=>{a&&r(a)},[a]),e.jsx(B,{isOpen:!0,onClose:d,title:a?.id?"Edit Paragraph":"Add Paragraph",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Content",required:!0,children:e.jsx("textarea",{value:s?.content||"",onChange:l=>r({...s,content:l.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s?.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ne({stats:a,onReorder:c,onEdit:d,onDelete:i,onAdd:s,getImageUrl:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Statistics"}),e.jsxs("button",{onClick:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Statistic"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Drag and drop items to reorder them. Changes are saved automatically."]}),e.jsx(z,{items:a,onReorder:c,keyExtractor:l=>l.id,emptyMessage:"No statistics yet. Click 'Add Statistic' to get started!",renderItem:l=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[l.image&&l.image.filePath?e.jsx("img",{src:r(l.image),alt:l.image.altText||l.label,className:"h-10 w-10 object-contain"}):l.iconClass?e.jsx("i",{className:`${l.iconClass} text-2xl text-blue-600`}):e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded flex items-center justify-center",children:e.jsx("i",{className:"ri-image-line text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:l.number}),e.jsx("p",{className:"text-sm text-gray-600",children:l.label})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>i(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})}function we({data:a,onChange:c,onSave:d,saving:i,getImageUrl:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quality Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:a.title||"",onChange:r=>c({...a,title:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Content",required:!0,children:e.jsx("textarea",{value:a.content||"",onChange:r=>c({...a,content:r.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.imageId,onChange:r=>c({...a,imageId:r}),label:"Section Image"})})]})]})}function Ce({data:a,onChange:c,onSave:d,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Heading",children:e.jsx("input",{type:"text",value:a.heading||"",onChange:s=>c({...a,heading:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Products"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:a.description||"",onChange:s=>c({...a,description:s.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter products section description"})})}),e.jsx(g,{label:"CTA Text",children:e.jsx("input",{type:"text",value:a.ctaText||"",onChange:s=>c({...a,ctaText:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"View All Products"})}),e.jsx(g,{label:"CTA URL",children:e.jsx("input",{type:"text",value:a.ctaUrl||"",onChange:s=>c({...a,ctaUrl:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]})]})}function Se({data:a,onChange:c,onSave:d,saving:i,getImageUrl:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Specialties Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Heading",children:e.jsx("input",{type:"text",value:a.heading||"",onChange:r=>c({...a,heading:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Our Specialties"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:a.description||"",onChange:r=>c({...a,description:r.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialties section description"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.imageId,onChange:r=>c({...a,imageId:r}),label:"Section Image"})}),e.jsx(g,{label:"CTA Text",children:e.jsx("input",{type:"text",value:a.ctaText||"",onChange:r=>c({...a,ctaText:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Explore Products"})}),e.jsx(g,{label:"CTA URL",children:e.jsx("input",{type:"text",value:a.ctaUrl||"",onChange:r=>c({...a,ctaUrl:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})})]})]})}function Ie({data:a,onChange:c,onSave:d,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Testimonials Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Subtitle",children:e.jsx("input",{type:"text",value:a.subtitle||"",onChange:s=>c({...a,subtitle:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Testimonial"})}),e.jsx(g,{label:"Heading",children:e.jsx("input",{type:"text",value:a.heading||"",onChange:s=>c({...a,heading:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Client Stories & Experiences"})})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Note: Testimonials content is managed separately. This section only controls the header."]})})]})}function Fe({data:a,onChange:c,onSave:d,saving:i,getImageUrl:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Heading",children:e.jsx("input",{type:"text",value:a.heading||"",onChange:r=>c({...a,heading:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Company Name",children:e.jsx("input",{type:"text",value:a.companyName||"",onChange:r=>c({...a,companyName:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ADONIS MEDICAL SYSTEMS PVT LTD"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Address",children:e.jsx("textarea",{value:a.address||"",onChange:r=>c({...a,address:r.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-70, PHASE- VIII, INDUSTRIAL AREA, MOHALI, 160071."})})}),e.jsx(g,{label:"Phone",children:e.jsx("input",{type:"text",value:a.phone||"",onChange:r=>c({...a,phone:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9872003273"})}),e.jsx(g,{label:"Email",children:e.jsx("input",{type:"email",value:a.email||"",onChange:r=>c({...a,email:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"support@adonismedical.com"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.imageId,onChange:r=>c({...a,imageId:r}),label:"Section Image"})})]})]})}function ke({stat:a,onSave:c,onClose:d,saving:i,getImageUrl:s}){const[r,l]=o.useState(a),x=r.number&&r.label&&(r.iconClass||r.imageId);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id?"Edit Statistic":"Add Statistic",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(g,{label:"Icon Class",hint:"Use RemixIcon class names (e.g., ri-user-line) or upload an image below",children:[e.jsx("input",{type:"text",value:r.iconClass||"",onChange:m=>l({...r,iconClass:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-number-1"}),r.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:r.iconClass})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"OR"}),e.jsx(R,{value:r.imageId||null,onChange:m=>l({...r,imageId:m}),label:"Upload Icon Image (JPG, PNG, SVG, etc.)"}),r.image&&r.image.filePath&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Image:"}),e.jsx("img",{src:s(r.image),alt:r.image.altText||"Stat icon",className:"h-12 w-12 object-contain border border-gray-200 rounded"})]})]}),e.jsx(g,{label:"Number/Value",required:!0,children:e.jsx("input",{type:"text",value:r.number||"",onChange:m=>l({...r,number:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"100+"})}),e.jsx(g,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:r.label||"",onChange:m=>l({...r,label:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Happy Clients"})}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"You can use either an icon class or upload an image. If both are provided, the image will take priority."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(r),disabled:i||!x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ae(){const[a,c]=o.useState("header"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState([]),[m,S]=o.useState(!1),[C,N]=o.useState(null),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(null),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState([]),[w,E]=o.useState(!1),[U,O]=o.useState(null),[J,q]=o.useState([]),[G,P]=o.useState(!1),[V,Q]=o.useState(null);o.useEffect(()=>{a==="header"?_():(W(),K(),X())},[a]);const _=async()=>{i(!0);try{const j=await u.get("/navigation");if(j.success&&j.data){const $=j.data,re=$.filter(te=>!te.parentId).sort((te,ae)=>te.orderIndex-ae.orderIndex).map(te=>{const ae=$.filter(le=>le.parentId===te.id).sort((le,ie)=>le.orderIndex-ie.orderIndex);return{...te,children:ae.length>0?ae:void 0}});x(re)}}catch(j){alert(j.message||"Failed to load")}finally{i(!1)}},W=async()=>{i(!0);try{const j=await u.get("/footer/sections");if(j.success&&j.data){const $=j.data.sort((Y,re)=>Y.orderIndex-re.orderIndex);b($)}}catch(j){alert(j.message||"Failed to load")}finally{i(!1)}},K=async()=>{try{const j=await u.get("/footer/logos");j.success&&j.data&&L(j.data.sort(($,Y)=>$.orderIndex-Y.orderIndex))}catch(j){console.error("Error fetching footer logos:",j)}},X=async()=>{try{const j=await u.get("/social-links");j.success&&j.data&&q(j.data.sort(($,Y)=>$.orderIndex-Y.orderIndex))}catch(j){console.error("Error fetching social links:",j)}},Z=async j=>{r(!0);try{j.id&&j.id>0?await u.put(`/navigation/${j.id}`,j):await u.post("/navigation",{...j,orderIndex:l.length}),S(!1),N(null),_(),alert("Navigation item saved!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},t=async j=>{if(confirm("Delete this navigation item?")){r(!0);try{await u.delete(`/navigation/${j}`),x(l.filter($=>$.id!==j)),alert("Navigation item deleted!")}catch($){alert($.message||"Failed to delete")}finally{r(!1)}}},n=async j=>{r(!0);try{j.id&&j.id>0?await u.put(`/footer/sections/${j.id}`,j):await u.post("/footer/sections",{...j,orderIndex:y.length}),h(!1),I(null),W(),alert("Footer section saved!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},H=async j=>{if(confirm("Are you sure you want to delete this footer section? This will also delete all links within this section.")){r(!0);try{await u.delete(`/footer/sections/${j}`),b(y.filter($=>$.id!==j)),alert("Footer section deleted successfully!")}catch($){alert($.message||"Failed to delete")}finally{r(!1)}}},ce=async j=>{r(!0);try{if(j.id&&j.id>0)await u.put(`/footer/links/${j.id}`,j);else{const $=y.find(Y=>Y.id===D);await u.post("/footer/links",{...j,footerSectionId:D,iconSvg:j.iconSvg||null,iconImageId:j.iconImageId||null,orderIndex:$?.links?.length||0})}p(!1),f(null),W(),alert("Footer link saved!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},ue=async j=>{if(confirm("Are you sure you want to delete this link?")){r(!0);try{await u.delete(`/footer/links/${j}`),W(),alert("Footer link deleted successfully!")}catch($){alert($.message||"Failed to delete")}finally{r(!1)}}},xe=async j=>{r(!0);try{j.id&&j.id>0?await u.put(`/footer/logos/${j.id}`,j):await u.post("/footer/logos",j),E(!1),O(null),K(),alert("Logo saved!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}},se=async j=>{r(!0);try{j.id&&j.id>0?await u.put(`/social-links/${j.id}`,j):await u.post("/social-links",j),P(!1),Q(null),X(),alert("Social link saved!")}catch($){alert($.message||"Failed to save")}finally{r(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Header & Footer Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage navigation menu and footer content"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("header"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="header"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Navigation"}),e.jsx("button",{onClick:()=>c("footer"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="footer"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Footer"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="header"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Navigation Menu"}),e.jsxs("button",{onClick:()=>{N({id:0,label:"",url:null,parentId:null,orderIndex:l.length,isActive:!0,openInNewTab:!1}),S(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Item"]})]}),l.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-menu-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No navigation items yet"})]}):e.jsx("div",{className:"space-y-3",children:l.map(j=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:j.label}),j.children&&j.children.length>0&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[j.children.length," sub-menu",j.children.length!==1?"s":""]})]}),j.url&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.isActive?"Active":"Inactive"}),e.jsxs("button",{onClick:()=>{N({id:0,label:"",url:null,parentId:j.id,orderIndex:j.children?.length||0,isActive:!0,openInNewTab:!1}),S(!0)},className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",title:"Add Sub-menu",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Sub-menu"]}),e.jsx("button",{onClick:()=>{N(j),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>t(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),j.children&&j.children.length>0&&e.jsx("div",{className:"ml-4 mt-3 space-y-2 border-l-2 border-gray-300 pl-4",children:j.children.map($=>e.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded p-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:$.label}),$.url&&e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:$.url})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${$.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{N($),S(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>t($.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},$.id))})]},j.id))})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b pb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logo and Social Media Icons"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Logos"}),e.jsxs("button",{onClick:()=>{const j=M.find(Y=>Y.name==="refex"),$=M.find(Y=>Y.name==="adonis");j?$||(O({id:0,name:"adonis",logoImageId:null,orderIndex:1,isActive:!0}),E(!0)):(O({id:0,name:"refex",logoImageId:null,orderIndex:0,isActive:!0}),E(!0))},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Logo"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:M.map(j=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium capitalize",children:[j.name," Logo"]}),e.jsx("button",{onClick:()=>{O(j),E(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]}),j.logoImage&&e.jsx("img",{src:De(j),alt:`${j.name} logo`,className:"h-12 w-auto object-contain"})]},j.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700",children:"Social Media Icons"}),e.jsxs("button",{onClick:()=>{Q({id:0,platform:"",url:"",iconClass:null,orderIndex:J.length,isActive:!0}),P(!0)},className:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Social Link"]})]}),J.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No social links yet"}):e.jsx("div",{className:"space-y-2",children:J.map(j=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[j.iconClass&&e.jsx("i",{className:`${j.iconClass} text-xl text-[#FF6B35]`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.platform}),e.jsx("p",{className:"text-sm text-gray-600",children:j.url})]})]}),e.jsx("button",{onClick:()=>{Q(j),P(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})})]},j.id))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"}),' Create sections like "Quick Links", "Our Products", and "Contact Information". For Contact Information, upload icon images (JPG, PNG, SVG) for Phone, Email, and Location.']})})]})}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Footer Sections"}),e.jsxs("button",{onClick:()=>{I({id:0,title:"",orderIndex:y.length}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Section"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-layout-bottom-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No footer sections yet"})]}):e.jsx("div",{className:"space-y-4",children:y.map(j=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:j.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{F(j.id),f({id:0,footerSectionId:j.id,label:"",url:"",iconImageId:null,orderIndex:j.links?.length||0}),p(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer text-sm",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Add Link"]}),e.jsx("button",{onClick:()=>{I(j),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit Section",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>H(j.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete Section",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),j.links&&j.links.length>0&&e.jsx("div",{className:"space-y-2",children:j.links.map($=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[$.iconImage&&e.jsx("img",{src:Ee($),alt:$.label,className:"w-5 h-5 object-contain"}),!$.iconImage&&$.iconSvg&&e.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-[#FF6B35]",dangerouslySetInnerHTML:{__html:$.iconSvg}}),e.jsxs("span",{className:"text-sm text-gray-700",children:[$.label," - ",$.url]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>{f($),p(!0)},className:"p-1 text-green-600 hover:bg-green-50 rounded cursor-pointer",title:"Edit Link",children:e.jsx("i",{className:"ri-edit-line text-sm"})}),e.jsx("button",{onClick:()=>ue($.id),className:"p-1 text-red-600 hover:bg-red-50 rounded cursor-pointer",title:"Delete Link",children:e.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},$.id))})]},j.id))})]})]})})]}),m&&C&&e.jsx($e,{item:C,onSave:Z,onClose:()=>{S(!1),N(null)},saving:s}),k&&T&&e.jsx(Me,{section:T,onSave:n,onClose:()=>{h(!1),I(null)},saving:s}),A&&v&&e.jsx(Le,{link:v,onSave:ce,onClose:()=>{p(!1),f(null)},saving:s}),w&&U&&e.jsx(Pe,{logo:U,onSave:xe,onClose:()=>{E(!1),O(null)},saving:s}),G&&V&&e.jsx(Te,{social:V,onSave:se,onClose:()=>{P(!1),Q(null)},saving:s})]})}function De(a){return a.logoImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${a.logoImage.filePath}`:""}function Ee(a){return a.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${a.iconImage.filePath}`:""}function Pe({logo:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Logo":"Add Logo",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Logo Name",required:!0,children:e.jsxs("select",{value:s.name,onChange:l=>r({...s,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:a.id>0,children:[e.jsx("option",{value:"refex",children:"Refex"}),e.jsx("option",{value:"adonis",children:"Adonis"})]})}),e.jsx(R,{value:s.logoImageId,onChange:l=>r({...s,logoImageId:l}),label:"Logo Image"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Te({social:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:s.platform,onChange:l=>r({...s,platform:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook, Twitter, Instagram, LinkedIn"})}),e.jsx(g,{label:"URL",required:!0,children:e.jsx("input",{type:"text",value:s.url,onChange:l=>r({...s,url:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsx(g,{label:"Icon Class (Optional)",children:e.jsx("input",{type:"text",value:s.iconClass||"",onChange:l=>r({...s,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-fill"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.platform||!s.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function $e({item:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a),l=a.parentId!==null&&a.parentId!==void 0;return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?l?"Edit Sub-menu Item":"Edit Navigation Item":l?"Add Sub-menu Item":"Add Navigation Item",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[l&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"This will be added as a sub-menu item under its parent."]})}),e.jsx(g,{label:"Label",required:!0,children:e.jsx("input",{type:"text",value:s.label,onChange:x=>r({...s,label:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Home, About Us, Products"})}),e.jsxs(g,{label:"URL",children:[e.jsx("input",{type:"text",value:s.url||"",onChange:x=>r({...s,url:x.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/about or /products (optional for parent with sub-menus)"}),!l&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Parent items can have both a URL and sub-menus. Leave empty if this is only a dropdown parent."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:x=>r({...s,isActive:x.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx(g,{label:"Open in New Tab",children:e.jsxs("select",{value:s.openInNewTab?"yes":"no",onChange:x=>r({...s,openInNewTab:x.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.label,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Me({section:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Footer Section":"Add Footer Section",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Section Title",required:!0,children:e.jsx("input",{type:"text",value:s.title,onChange:l=>r({...s,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Le({link:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState({...a,iconSvg:a.iconSvg||"",iconImageId:a.iconImageId||null}),l=x=>x?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${x.filePath}`:"";return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Footer Link":"Add Footer Link",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Link Label (Title)",required:!0,children:e.jsx("input",{type:"text",value:s.label,onChange:x=>r({...s,label:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Phone, Email, Location"})}),e.jsxs(g,{label:"Data (URL or Content)",required:!0,children:[e.jsx("input",{type:"text",value:s.url,onChange:x=>r({...s,url:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"tel:+1234567890, mailto:email@example.com, or /about"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"For Contact Info: Use tel: for phone, mailto: for email, or plain text for address"]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Icon (Choose one method)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon Image Upload (JPG, PNG, SVG)"}),e.jsx(R,{value:s.iconImageId,onChange:x=>r({...s,iconImageId:x,iconSvg:null}),label:""}),s.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:l(s.iconImage),alt:"Icon preview",className:"w-8 h-8 object-contain"})})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"OR"}),e.jsxs(g,{label:"SVG Icon Code (Alternative)",children:[e.jsx("textarea",{value:s.iconSvg||"",onChange:x=>r({...s,iconSvg:x.target.value||null,iconImageId:null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'Paste SVG code here, e.g., <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M..."/></svg>'}),s.iconSvg&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview:"}),e.jsx("div",{className:"w-8 h-8 text-[#FF6B35]",dangerouslySetInnerHTML:{__html:s.iconSvg}})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.label||!s.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ue(){const[a,c]=o.useState("hero"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,overviewHeading:null,overviewContent:null,overviewImageId:null,safetyHeading:null,safetyContent:null,safetyImageId:null,excellenceHeading:null,excellenceContent:null,excellenceImageId:null}),m=[{id:"hero",label:"Hero Section",icon:"ri-image-line"},{id:"overview",label:"Company Overview",icon:"ri-file-text-line"},{id:"safety",label:"Safety & Innovation",icon:"ri-shield-check-line"},{id:"excellence",label:"Excellence",icon:"ri-award-line"}];o.useEffect(()=>{S()},[]);const S=async()=>{i(!0);try{const y=await u.get("/about");y.success&&y.data&&x(y.data)}catch(y){console.error("Error fetching content:",y),alert(y.message||"Failed to load content")}finally{i(!1)}},C=async()=>{r(!0);try{(await u.put("/about",l)).success&&(alert("About page saved successfully!"),S())}catch(y){alert(y.message||"Failed to save")}finally{r(!1)}},N=y=>y?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${y.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"About Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage all sections of the about page"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:m.map(y=>e.jsxs("button",{onClick:()=>c(y.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${a===y.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:y.icon}),e.jsx("span",{children:y.label})]},y.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[a==="hero"&&e.jsx(ne,{title:"Hero Section",fields:[{label:"Hero Title",value:l.heroTitle||"",onChange:y=>x({...l,heroTitle:y||null}),type:"text"},{label:"Hero Subtitle",value:l.heroSubtitle||"",onChange:y=>x({...l,heroSubtitle:y||null}),type:"textarea"}],imageSelector:e.jsx(R,{value:l.heroImageId,onChange:y=>x({...l,heroImageId:y}),label:"Hero Image"}),previewImage:l.heroImage?N(l.heroImage):null,onSave:C,saving:s}),a==="overview"&&e.jsx(ne,{title:"Company Overview Section",fields:[{label:"Heading",value:l.overviewHeading||"",onChange:y=>x({...l,overviewHeading:y||null}),type:"text"},{label:"Content",value:l.overviewContent||"",onChange:y=>x({...l,overviewContent:y||null}),type:"textarea",rows:6}],imageSelector:e.jsx(R,{value:l.overviewImageId,onChange:y=>x({...l,overviewImageId:y}),label:"Overview Image"}),previewImage:l.overviewImage?N(l.overviewImage):null,onSave:C,saving:s}),a==="safety"&&e.jsx(ne,{title:"Safety & Innovation Section",fields:[{label:"Heading",value:l.safetyHeading||"",onChange:y=>x({...l,safetyHeading:y||null}),type:"text"},{label:"Content",value:l.safetyContent||"",onChange:y=>x({...l,safetyContent:y||null}),type:"textarea",rows:6}],imageSelector:e.jsx(R,{value:l.safetyImageId,onChange:y=>x({...l,safetyImageId:y}),label:"Safety Image"}),previewImage:l.safetyImage?N(l.safetyImage):null,onSave:C,saving:s}),a==="excellence"&&e.jsx(ne,{title:"Excellence Section",fields:[{label:"Heading",value:l.excellenceHeading||"",onChange:y=>x({...l,excellenceHeading:y||null}),type:"text"},{label:"Content",value:l.excellenceContent||"",onChange:y=>x({...l,excellenceContent:y||null}),type:"textarea",rows:6}],imageSelector:e.jsx(R,{value:l.excellenceImageId,onChange:y=>x({...l,excellenceImageId:y}),label:"Excellence Image"}),previewImage:l.excellenceImage?N(l.excellenceImage):null,onSave:C,saving:s})]})})]})]})}function ne({title:a,fields:c,imageSelector:d,previewImage:i,onSave:s,saving:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),e.jsx("button",{onClick:s,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:r?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.map((l,x)=>e.jsx("div",{className:l.type==="textarea"?"md:col-span-2":"",children:e.jsx(g,{label:l.label,children:l.type==="textarea"?e.jsx("textarea",{value:l.value,onChange:m=>l.onChange(m.target.value),rows:l.rows||4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}):e.jsx("input",{type:l.type||"text",value:l.value,onChange:m=>l.onChange(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})},x)),e.jsx("div",{className:"md:col-span-2",children:d}),i&&e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Preview",children:e.jsx("img",{src:i,alt:"Preview",className:"w-full rounded-lg max-h-64 object-cover"})})})]})]})}const ge={super_admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!0},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!0},"global-settings":{view:!0,edit:!0,delete:!0},"social-links":{view:!0,edit:!0,delete:!0},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!0},smtp:{view:!0,edit:!0,delete:!0},logs:{view:!0,edit:!0,delete:!0},bin:{view:!0,edit:!0,delete:!0},versions:{view:!0,edit:!0,delete:!0}},admin:{home:{view:!0,edit:!0,delete:!0},"header-footer":{view:!0,edit:!0,delete:!1},about:{view:!0,edit:!0,delete:!0},products:{view:!0,edit:!0,delete:!0},awards:{view:!0,edit:!0,delete:!0},careers:{view:!0,edit:!0,delete:!0},specialties:{view:!0,edit:!0,delete:!0},investors:{view:!0,edit:!0,delete:!0},clients:{view:!0,edit:!0,delete:!0},management:{view:!0,edit:!0,delete:!0},presence:{view:!0,edit:!0,delete:!0},production:{view:!0,edit:!0,delete:!0},quality:{view:!0,edit:!0,delete:!0},demo:{view:!0,edit:!0,delete:!0},contact:{view:!0,edit:!0,delete:!0},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!0,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!0},users:{view:!0,edit:!0,delete:!1},smtp:{view:!0,edit:!1,delete:!1},logs:{view:!0,edit:!1,delete:!1},bin:{view:!0,edit:!1,delete:!1},versions:{view:!0,edit:!1,delete:!1}},editor:{home:{view:!0,edit:!0,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!0,delete:!1},products:{view:!0,edit:!0,delete:!1},awards:{view:!0,edit:!0,delete:!1},careers:{view:!0,edit:!0,delete:!1},specialties:{view:!0,edit:!0,delete:!1},investors:{view:!0,edit:!0,delete:!1},clients:{view:!0,edit:!0,delete:!1},management:{view:!0,edit:!0,delete:!1},presence:{view:!0,edit:!0,delete:!1},production:{view:!0,edit:!0,delete:!1},quality:{view:!0,edit:!0,delete:!1},demo:{view:!0,edit:!0,delete:!1},contact:{view:!0,edit:!0,delete:!1},"contact-info":{view:!0,edit:!0,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!0,delete:!1},testimonials:{view:!0,edit:!0,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}},viewer:{home:{view:!0,edit:!1,delete:!1},"header-footer":{view:!0,edit:!1,delete:!1},about:{view:!0,edit:!1,delete:!1},products:{view:!0,edit:!1,delete:!1},awards:{view:!0,edit:!1,delete:!1},careers:{view:!0,edit:!1,delete:!1},specialties:{view:!0,edit:!1,delete:!1},investors:{view:!0,edit:!1,delete:!1},clients:{view:!0,edit:!1,delete:!1},management:{view:!0,edit:!1,delete:!1},presence:{view:!0,edit:!1,delete:!1},production:{view:!0,edit:!1,delete:!1},quality:{view:!0,edit:!1,delete:!1},demo:{view:!0,edit:!1,delete:!1},contact:{view:!0,edit:!1,delete:!1},"contact-info":{view:!0,edit:!1,delete:!1},"global-settings":{view:!1,edit:!1,delete:!1},"social-links":{view:!0,edit:!1,delete:!1},testimonials:{view:!0,edit:!1,delete:!1},users:{view:!1,edit:!1,delete:!1},smtp:{view:!1,edit:!1,delete:!1},logs:{view:!1,edit:!1,delete:!1},bin:{view:!1,edit:!1,delete:!1},versions:{view:!1,edit:!1,delete:!1}}},Ve={home:{label:"Home",icon:"ri-home-line"},"header-footer":{label:"Header & Footer",icon:"ri-layout-line"},about:{label:"About",icon:"ri-information-line"},products:{label:"Products",icon:"ri-product-hunt-line"},awards:{label:"Awards",icon:"ri-award-line"},careers:{label:"Careers",icon:"ri-briefcase-line"},specialties:{label:"Specialties",icon:"ri-stethoscope-line"},investors:{label:"Investors",icon:"ri-line-chart-line"},clients:{label:"Clients",icon:"ri-user-heart-line"},management:{label:"Management",icon:"ri-team-line"},presence:{label:"Our Presence",icon:"ri-map-2-line"},production:{label:"Production",icon:"ri-factory-line"},quality:{label:"Quality",icon:"ri-shield-check-line"},demo:{label:"Request Demo",icon:"ri-calendar-check-line"},contact:{label:"Contact",icon:"ri-mail-line"},"contact-info":{label:"Contact Info",icon:"ri-contacts-line"},"global-settings":{label:"Global Settings",icon:"ri-settings-3-line"},"social-links":{label:"Social Links",icon:"ri-share-line"},testimonials:{label:"Testimonials",icon:"ri-chat-quote-line"},users:{label:"Users",icon:"ri-user-settings-line"},smtp:{label:"SMTP",icon:"ri-mail-settings-line"},logs:{label:"Activity Logs",icon:"ri-file-list-3-line"},bin:{label:"Recycle Bin",icon:"ri-delete-bin-line"},versions:{label:"Version History",icon:"ri-history-line"}};function Re(){const[a,c]=o.useState("list"),[d,i]=o.useState(null),[s,r]=o.useState([]),[l,x]=o.useState(!1),[m,S]=o.useState(!1),[C,N]=o.useState({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),[y,b]=o.useState(null);o.useEffect(()=>{k()},[]);const k=async()=>{x(!0);try{const w=await u.get("/users");if(w.success&&w.data){const E=w.data.map(U=>({id:U.id,username:U.username,name:U.fullName||U.username,email:U.email,role:U.role,status:U.isActive?"active":"inactive",createdAt:new Date(U.createdAt).toLocaleDateString(),lastLogin:U.lastLoginAt?new Date(U.lastLoginAt).toLocaleString():"Never"}));r(E)}}catch(w){console.error("Error fetching users:",w),alert(w.message||"Failed to load users")}finally{x(!1)}},h=()=>{N({username:"",name:"",email:"",password:"",role:"editor",status:"active"}),i(null),c("create")},A=async w=>{i(w),N({username:w.username,name:w.name,email:w.email,password:"",role:w.role,status:w.status});try{const E=await u.get(`/users/${w.id}`);if(E.success&&E.data){const U=E.data;U.permissions&&Object.keys(U.permissions).length>0?b(U.permissions):b(null)}}catch(E){console.error("Error fetching user details:",E),b(null)}c("edit")},p=async()=>{if(!C.email||!C.username){alert("Email and username are required");return}if(a==="create"&&!C.password){alert("Password is required when creating a new user");return}S(!0);try{const w={username:C.username,email:C.email,fullName:C.name,role:C.role,permissions:y||null};if(a==="create"){w.password=C.password;const E=await u.post("/users",w);if(E.success)alert("User created successfully!"),k(),c("list"),i(null),b(null);else throw new Error(E.message||"Failed to create user")}else{if(!d)return;w.isActive=C.status==="active",C.password&&(w.password=C.password);const E=await u.put(`/users/${d.id}`,w);if(E.success)alert("User updated successfully!"),k(),c("list"),i(null),b(null);else throw new Error(E.message||"Failed to update user")}}catch(w){console.error("Error saving user:",w),alert(w.message||"Failed to save user")}finally{S(!1)}},T=()=>{c("list"),i(null)},I=w=>{N({...C,role:w}),b(null)},v=()=>y||ge[C.role]||ge.editor,f=(w,E,U)=>{const O=v(),J={...O,[w]:{...O[w],[E]:U}};b(J)},D=()=>{b(null)},F=async w=>{if(window.confirm("Are you sure you want to delete this user?")){S(!0);try{const E=await u.delete(`/users/${w}`);if(E.success)alert("User deleted successfully!"),k();else throw new Error(E.message||"Failed to delete user")}catch(E){console.error("Error deleting user:",E),alert(E.message||"Failed to delete user")}finally{S(!1)}}},M=w=>{switch(w){case"super_admin":return"bg-[#7C3AED] text-white";case"admin":return"bg-[#2563EB] text-white";case"editor":return"bg-[#10B981] text-white";case"viewer":return"bg-[#6B7280] text-white";default:return"bg-[#6B7280] text-white"}},L=w=>w==="active"?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]";return l&&s.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2563EB]"})})}):e.jsxs("div",{children:[a==="list"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"User Management"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Manage admin users and their permissions"})]}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-add-line"}),e.jsx("span",{children:"Add New User"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-[#E5E7EB]",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Last Login"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#6B7280]",children:"Actions"})]})}),e.jsxs("tbody",{children:[s.map(w=>{const E=ge[w.role];return Object.values(E).some(U=>U.view),Object.values(E).some(U=>U.edit),Object.values(E).some(U=>U.delete),e.jsxs("tr",{className:"border-b border-[#F3F4F6] hover:bg-[#F9FAFB] transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#1F2937]",children:w.name}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:w.email})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${M(w.role)}`,children:w.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${L(w.status)}`,children:w.status.toUpperCase()})}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:w.createdAt}),e.jsx("td",{className:"py-4 px-4 text-sm text-[#6B7280]",children:w.lastLogin}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>A(w),className:"p-2 text-[#2563EB] hover:bg-[#EFF6FF] rounded-lg transition-all duration-300 cursor-pointer",title:"Edit User",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>F(w.id),className:"p-2 text-[#EF4444] hover:bg-[#FEF2F2] rounded-lg transition-all duration-300 cursor-pointer",title:"Delete User",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})})]},w.id)}),s.length===0&&!l&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-[#6B7280]",children:'No users found. Click "Add New User" to create one.'})})]})]})})]}),(a==="create"||a==="edit")&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:a==="create"?"Create New User":`Edit User: ${d?.name}`}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:T,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",disabled:m,children:"Cancel"}),e.jsx("button",{onClick:p,disabled:m,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":a==="create"?"Create User":"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username *"}),e.jsx("input",{type:"text",value:C.username,onChange:w=>N({...C,username:w.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:C.name,onChange:w=>N({...C,name:w.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:C.email,onChange:w=>N({...C,email:w.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"user@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:a==="create"?"Password *":"New Password (leave blank to keep current)"}),e.jsx("input",{type:"password",value:C.password,onChange:w=>N({...C,password:w.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Enter password",required:a==="create"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Role"}),e.jsxs("select",{value:C.role,onChange:w=>I(w.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"super_admin",children:"Super Admin - Full access to everything"}),e.jsx("option",{value:"admin",children:"Admin - Manage content and users"}),e.jsx("option",{value:"editor",children:"Editor - Edit content only"}),e.jsx("option",{value:"viewer",children:"Viewer - View only access"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Status"}),e.jsxs("select",{value:C.status,onChange:w=>N({...C,status:w.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2 flex-1",children:"Permissions"}),y&&e.jsxs("button",{onClick:D,className:"text-sm text-[#2563EB] hover:text-[#1D4ED8] cursor-pointer",title:"Reset to role defaults",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Reset to Defaults"]})]}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-[#6B7280] mb-4",children:y?"Custom permissions (overriding role defaults)":"Permissions are automatically set based on the selected role. You can customize them below:"}),e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:Object.entries(v()).map(([w,E])=>{const U=Ve[w]||{label:w,icon:"ri-file-line"};return e.jsxs("div",{className:"bg-white rounded-lg border border-[#E5E7EB] p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("span",{className:"text-sm font-medium text-[#1F2937] flex items-center space-x-2",children:[e.jsx("i",{className:`${U.icon} text-[#6B7280]`}),e.jsx("span",{children:U.label})]})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E.view,onChange:O=>f(w,"view",O.target.checked),className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${E.view?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["View ",E.view?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E.edit,onChange:O=>f(w,"edit",O.target.checked),disabled:!E.view,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${E.edit?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Edit ",E.edit?"":""]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E.delete,onChange:O=>f(w,"delete",O.target.checked),disabled:!E.edit,className:"w-4 h-4 text-[#10B981] border-gray-300 rounded focus:ring-[#10B981] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded ${E.delete?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:["Delete ",E.delete?"":""]})]})]})]},w)})})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1E40AF] mb-1",children:"Permission Guidelines"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"View:"})," User can see the page/section content"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edit:"})," User can modify existing content (requires View)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Delete:"})," User can remove content (requires Edit)"]})]}),e.jsx("p",{className:"text-xs text-[#1E40AF] mt-2",children:"You can customize permissions by checking/unchecking the boxes above. Changes will override the role defaults."})]})]})})]})]})]})]})}function Be(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/hf-mobile");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/hf-mobile/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/hf-mobile/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/hf-mobile/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/hf-mobile",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-mobile/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-mobile/images/${t.id}`,t):await u.post("/products/hf-mobile/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/hf-mobile/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-mobile/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-mobile/features/${t.id}`,t):await u.post("/products/hf-mobile/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/hf-mobile/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-mobile/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-mobile/variants/${t.id}`,t):await u.post("/products/hf-mobile/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/hf-mobile/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HF Mobile Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(qe,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(He,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(Oe,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function qe({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function He({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Oe({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ze(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/hf-fixed");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/hf-fixed/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/hf-fixed/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/hf-fixed/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/hf-fixed",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-fixed/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-fixed/images/${t.id}`,t):await u.post("/products/hf-fixed/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/hf-fixed/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-fixed/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-fixed/features/${t.id}`,t):await u.post("/products/hf-fixed/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/hf-fixed/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-fixed/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-fixed/variants/${t.id}`,t):await u.post("/products/hf-fixed/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/hf-fixed/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"HF Fixed Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(Ge,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(Je,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(Ye,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function Ge({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Je({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ye({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Qe(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/fpd-c-arm");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/fpd-c-arm/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/fpd-c-arm/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/fpd-c-arm/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/fpd-c-arm",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/fpd-c-arm/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/fpd-c-arm/images/${t.id}`,t):await u.post("/products/fpd-c-arm/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/fpd-c-arm/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/fpd-c-arm/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/fpd-c-arm/features/${t.id}`,t):await u.post("/products/fpd-c-arm/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/fpd-c-arm/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/fpd-c-arm/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/fpd-c-arm/variants/${t.id}`,t):await u.post("/products/fpd-c-arm/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/fpd-c-arm/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FPD C-Arm Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(_e,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(We,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(Ke,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function _e({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function We({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Ke({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Xe(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/hf-c-arm-1k");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/hf-c-arm-1k/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/hf-c-arm-1k/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/hf-c-arm-1k/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/hf-c-arm-1k",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-c-arm-1k/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-c-arm-1k/images/${t.id}`,t):await u.post("/products/hf-c-arm-1k/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/hf-c-arm-1k/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-c-arm-1k/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-c-arm-1k/features/${t.id}`,t):await u.post("/products/hf-c-arm-1k/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/hf-c-arm-1k/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/hf-c-arm-1k/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/hf-c-arm-1k/variants/${t.id}`,t):await u.post("/products/hf-c-arm-1k/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/hf-c-arm-1k/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"1K*1K High End HF C-ARM Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(Ze,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(et,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(tt,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function Ze({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function et({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function tt({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function st(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/line-frequency");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/line-frequency/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/line-frequency/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/line-frequency/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/line-frequency",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/line-frequency/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/line-frequency/images/${t.id}`,t):await u.post("/products/line-frequency/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/line-frequency/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/line-frequency/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/line-frequency/features/${t.id}`,t):await u.post("/products/line-frequency/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/line-frequency/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/line-frequency/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/line-frequency/variants/${t.id}`,t):await u.post("/products/line-frequency/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/line-frequency/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Line Frequency Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(at,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(rt,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(lt,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function at({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function rt({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function lt({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function it(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/digital-radiography");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/digital-radiography/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/digital-radiography/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/digital-radiography/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/digital-radiography",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/digital-radiography/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/digital-radiography/images/${t.id}`,t):await u.post("/products/digital-radiography/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/digital-radiography/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/digital-radiography/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/digital-radiography/features/${t.id}`,t):await u.post("/products/digital-radiography/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/digital-radiography/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/digital-radiography/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/digital-radiography/variants/${t.id}`,t):await u.post("/products/digital-radiography/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/digital-radiography/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Digital Radiography Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(nt,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(ot,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(dt,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function nt({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ot({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function dt({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ct(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({title:null,mainImageId:null,deploymentInfo:null,shortDescription:null,fullDescription:null}),[m,S]=o.useState([]),[C,N]=o.useState([]),[y,b]=o.useState([]),[k,h]=o.useState(!1),[A,p]=o.useState(!1),[T,I]=o.useState(!1),[v,f]=o.useState(null),[D,F]=o.useState(null),[M,L]=o.useState(null);o.useEffect(()=>{a==="content"?w():a==="images"?E():a==="features"?U():O()},[a]);const w=async()=>{i(!0);try{const t=await u.get("/products/dream-series");t.success&&t.data&&x(t.data)}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},E=async()=>{i(!0);try{const t=await u.get("/products/dream-series/images");t.success&&t.data&&S(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},U=async()=>{i(!0);try{const t=await u.get("/products/dream-series/features");t.success&&t.data&&N(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},O=async()=>{i(!0);try{const t=await u.get("/products/dream-series/variants");t.success&&t.data&&b(t.data.sort((n,H)=>n.orderIndex-H.orderIndex))}catch(t){alert(t.message||"Failed to load")}finally{i(!1)}},J=async()=>{r(!0);try{await u.put("/products/dream-series",l),alert("Page content saved!")}catch(t){alert(t.message||"Failed to save")}finally{r(!1)}},q=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/dream-series/images/${t[n].id}`,{...t[n],orderIndex:n});S(t),alert("Images order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},G=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/dream-series/images/${t.id}`,t):await u.post("/products/dream-series/images",{...t,orderIndex:m.length}),h(!1),f(null),E(),alert("Image saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},P=async t=>{if(confirm("Delete this image?")){r(!0);try{await u.delete(`/products/dream-series/images/${t}`),S(m.filter(n=>n.id!==t)),alert("Image deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},V=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/dream-series/features/${t[n].id}`,{...t[n],orderIndex:n});N(t),alert("Features order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},Q=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/dream-series/features/${t.id}`,t):await u.post("/products/dream-series/features",{...t,orderIndex:C.length}),p(!1),F(null),U(),alert("Feature saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},_=async t=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/products/dream-series/features/${t}`),N(C.filter(n=>n.id!==t)),alert("Feature deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},W=async t=>{r(!0);try{for(let n=0;n<t.length;n++)await u.put(`/products/dream-series/variants/${t[n].id}`,{...t[n],orderIndex:n});b(t),alert("Variants order updated!")}catch(n){alert(n.message||"Failed to update")}finally{r(!1)}},K=async t=>{r(!0);try{t.id&&t.id>0?await u.put(`/products/dream-series/variants/${t.id}`,t):await u.post("/products/dream-series/variants",{...t,orderIndex:y.length}),I(!1),L(null),O(),alert("Variant saved!")}catch(n){alert(n.message||"Failed to save")}finally{r(!1)}},X=async t=>{if(confirm("Delete this variant?")){r(!0);try{await u.delete(`/products/dream-series/variants/${t}`),b(y.filter(n=>n.id!==t)),alert("Variant deleted!")}catch(n){alert(n.message||"Failed to delete")}finally{r(!1)}}},Z=t=>t?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${t.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dream Series Product Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage product content, images, features, and variants"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex space-x-2",children:[{id:"content",label:"Content",icon:"ri-file-text-line"},{id:"images",label:"Images",icon:"ri-image-line"},{id:"features",label:"Features",icon:"ri-star-line"},{id:"variants",label:"Variants",icon:"ri-list-check"}].map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer flex items-center space-x-2 ${a===t.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:t.icon}),e.jsx("span",{children:t.label})]},t.id))})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:J,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Product Title",children:e.jsx("input",{type:"text",value:l.title||"",onChange:t=>x({...l,title:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Deployment Info",children:e.jsx("input",{type:"text",value:l.deploymentInfo||"",onChange:t=>x({...l,deploymentInfo:t.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:t=>x({...l,mainImageId:t}),label:"Main Product Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Short Description",children:e.jsx("textarea",{value:l.shortDescription||"",onChange:t=>x({...l,shortDescription:t.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Full Description",children:e.jsx("textarea",{value:l.fullDescription||"",onChange:t=>x({...l,fullDescription:t.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):a==="images"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Images"}),e.jsxs("button",{onClick:()=>{f({id:0,imageId:0,orderIndex:m.length,isPrimary:!1}),h(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Image"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No images yet"})]}):e.jsx(z,{items:m,onReorder:q,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[t.image&&e.jsx("img",{src:Z(t.image),alt:"Product",className:"w-20 h-20 object-cover rounded-lg"}),e.jsx("div",{className:"flex-1",children:t.isPrimary&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full mb-1 inline-block",children:"Primary"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{f(t),h(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>P(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):a==="features"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Features"}),e.jsxs("button",{onClick:()=>{F({id:0,featureText:"",orderIndex:C.length}),p(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),C.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-star-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:C,onReorder:V,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("p",{className:"text-gray-700",children:t.featureText}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{F(t),p(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>_(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Product Variants"}),e.jsxs("button",{onClick:()=>{L({id:0,variantName:"",orderIndex:y.length,isActive:!0}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Variant"]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-list-check text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No variants yet"})]}):e.jsx(z,{items:y,onReorder:W,keyExtractor:t=>t.id,renderItem:t=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900",children:t.variantName})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{L(t),I(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>X(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),k&&v&&e.jsx(ut,{image:v,onSave:G,onClose:()=>{h(!1),f(null)},saving:s}),A&&D&&e.jsx(xt,{feature:D,onSave:Q,onClose:()=>{p(!1),F(null)},saving:s}),T&&M&&e.jsx(gt,{variant:M,onSave:K,onClose:()=>{I(!1),L(null)},saving:s})]})}function ut({image:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Image":"Add Image",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Product Image",required:!0}),e.jsx(g,{label:"Set as Primary Image",children:e.jsxs("select",{value:s.isPrimary?"yes":"no",onChange:l=>r({...s,isPrimary:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.imageId,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function xt({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Feature Text",required:!0,children:e.jsx("textarea",{value:s.featureText,onChange:l=>r({...s,featureText:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.featureText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function gt({variant:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Variant":"Add Variant",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Variant Name",required:!0,children:e.jsx("input",{type:"text",value:s.variantName,onChange:l=>r({...s,variantName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.variantName,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function mt(){const[a,c]=o.useState("hf-mobile"),d=[{id:"hf-mobile",label:"HF Mobile",icon:"ri-truck-line"},{id:"hf-fixed",label:"HF Fixed",icon:"ri-hospital-line"},{id:"fpd-c-arm",label:"FPD C-Arm",icon:"ri-scan-line"},{id:"hf-c-arm-1k",label:"1K*1K High End HF C-ARM",icon:"ri-vip-crown-line"},{id:"line-frequency",label:"Line Frequency",icon:"ri-pulse-line"},{id:"digital-radiography",label:"Digital Radiography",icon:"ri-image-line"},{id:"dream-series",label:"Dream Series",icon:"ri-star-line"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:d.map(i=>e.jsxs("button",{onClick:()=>c(i.id),className:`flex items-center space-x-2 px-4 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${a===i.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:[e.jsx("i",{className:i.icon}),e.jsx("span",{children:i.label})]},i.id))})})}),e.jsxs("div",{children:[a==="hf-mobile"&&e.jsx(Be,{}),a==="hf-fixed"&&e.jsx(ze,{}),a==="fpd-c-arm"&&e.jsx(Qe,{}),a==="hf-c-arm-1k"&&e.jsx(Xe,{}),a==="line-frequency"&&e.jsx(st,{}),a==="digital-radiography"&&e.jsx(it,{}),a==="dream-series"&&e.jsx(ct,{})]})]})}function ht(){const[a,c]=o.useState("content"),[d,i]=o.useState([]),[s,r]=o.useState(null),[l,x]=o.useState(!1),[m,S]=o.useState(!1),[C,N]=o.useState(!1),[y,b]=o.useState(null),[k,h]=o.useState(null);o.useEffect(()=>{a==="content"?A():p()},[a]);const A=async()=>{x(!0);try{const D=await u.get("/awards/page-content");D.success&&D.data?r(D.data):r({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null})}catch(D){D.message&&D.message.includes("not found")?r({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}):(console.error("Error fetching page content:",D),alert(D.message||"Failed to load page content"))}finally{x(!1)}},p=async()=>{x(!0);try{const D=await u.get("/awards");D.success&&D.data&&i(D.data.sort((F,M)=>F.orderIndex-M.orderIndex))}catch(D){console.error("Error fetching awards:",D),alert(D.message||"Failed to load awards")}finally{x(!1)}},T=async()=>{if(s){S(!0);try{const D={heroTitle:s.heroTitle||null,heroSubtitle:s.heroSubtitle||null,heroImageId:s.heroImageId||null,introText:s.introText||null};(await u.put("/awards/page-content",D)).success&&(alert("Page content saved successfully!"),A())}catch(D){alert(D.message||"Failed to save page content")}finally{S(!1)}}},I=async D=>{S(!0);try{for(let F=0;F<D.length;F++)await u.put(`/awards/${D[F].id}`,{...D[F],orderIndex:F});i(D),alert("Awards order updated successfully!")}catch(F){alert(F.message||"Failed to update order")}finally{S(!1)}},v=async D=>{S(!0);try{D.id&&D.id>0?await u.put(`/awards/${D.id}`,D):await u.post("/awards",{...D,orderIndex:d.length}),N(!1),b(null),p(),alert("Award saved successfully!")}catch(F){alert(F.message||"Failed to save award")}finally{S(!1)}},f=async D=>{if(confirm("Are you sure you want to delete this award?")){S(!0);try{await u.delete(`/awards/${D}`),i(d.filter(F=>F.id!==D)),alert("Award deleted successfully!")}catch(F){alert(F.message||"Failed to delete award")}finally{S(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Awards Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage awards page content and awards list"})]})}),e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>c("content"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>c("awards"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="awards"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-award-line mr-2"}),"Awards List"]})]})})]}),a==="content"&&e.jsx(pt,{content:s,setContent:r,onSave:T,saving:m,loading:l}),a==="awards"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Awards List"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage individual awards and certifications"})]}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:d.length,isActive:!0}),N(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop awards to reorder them. The order shown here will appear on the website. Only award images are shown on the frontend (no titles)."]})})]})}),l?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading awards..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-award-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No awards yet. Add your first award!"}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:"",imageId:null,awardDate:null,orderIndex:0,isActive:!0}),N(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Award"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(z,{items:d,onReorder:I,keyExtractor:D=>D.id,emptyMessage:"No awards yet. Click 'Add Award' to get started!",renderItem:D=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[D.image&&e.jsx("img",{src:de(D.image),alt:D.title,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:D.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description}),D.awardDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("i",{className:"ri-calendar-line mr-1"}),new Date(D.awardDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>h(D),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{b(D),N(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>f(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),C&&y&&e.jsx(bt,{award:y,onSave:v,onClose:()=>{N(!1),b(null)},saving:m}),k&&e.jsx(ft,{award:k,onClose:()=>h(null),onEdit:()=>{b(k),h(null),N(!0)},getImageUrl:de})]})}function pt({content:a,setContent:c,onSave:d,saving:i,loading:s}){return s?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading page content..."})]}):a?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:a.heroTitle||"",onChange:r=>c({...a,heroTitle:r.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero title (e.g., Awards & Recognition)"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("textarea",{value:a.heroSubtitle||"",onChange:r=>c({...a,heroSubtitle:r.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter hero subtitle (optional)"})}),e.jsx(R,{value:a.heroImageId,onChange:r=>c({...a,heroImageId:r||null}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:a.heroImage}),e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:a.introText||"",onChange:r=>c({...a,introText:r.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text (optional)"})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:d,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Page Content"})})]})]}):e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("p",{className:"text-gray-600",children:"No page content found."})})}function bt({award:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Award":"Add New Award",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Award Title",required:!0,children:e.jsx("input",{type:"text",value:s.title,onChange:l=>r({...s,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award title"})}),e.jsx(g,{label:"Description",required:!0,children:e.jsx("textarea",{value:s.description,onChange:l=>r({...s,description:l.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter award description"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Award Date",children:e.jsx("input",{type:"date",value:s.awardDate?new Date(s.awardDate).toISOString().split("T")[0]:"",onChange:l=>r({...s,awardDate:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Award Image",aspectRatio:"1/1"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.title||!s.description,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Award":"Create Award"})]})]})})}function ft({award:a,onClose:c,onEdit:d,getImageUrl:i}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Award Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[a.image&&e.jsx("div",{className:"rounded-lg overflow-hidden",children:e.jsx("img",{src:i(a.image),alt:a.title,className:"w-full h-64 object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),a.awardDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"Awarded on: ",new Date(a.awardDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Award"]})]})]})})}function yt(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,introImageId:null,lifeAtAdonisTitle:null,lifeAtAdonisBackgroundImageId:null,lifeAtAdonisImageId:null}),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(null),[k,h]=o.useState(null);o.useEffect(()=>{a==="content"?A():p()},[a]);const A=async()=>{i(!0);try{const f=await u.get("/careers");f.success&&f.data&&x(f.data)}catch(f){alert(f.message||"Failed to load content")}finally{i(!1)}},p=async()=>{i(!0);try{const f=await u.get("/careers/jobs");f.success&&f.data&&S(f.data)}catch(f){alert(f.message||"Failed to load jobs")}finally{i(!1)}},T=async()=>{r(!0);try{(await u.put("/careers",l)).success&&alert("Page content saved successfully!")}catch(f){alert(f.message||"Failed to save")}finally{r(!1)}},I=async f=>{r(!0);try{f.id&&f.id>0?await u.put(`/careers/jobs/${f.id}`,f):await u.post("/careers/jobs",{...f,postedDate:new Date().toISOString()}),N(!1),b(null),p(),alert("Job saved successfully!")}catch(D){alert(D.message||"Failed to save job")}finally{r(!1)}},v=async f=>{if(confirm("Are you sure you want to delete this job?")){r(!0);try{await u.delete(`/careers/jobs/${f}`),S(m.filter(D=>D.id!==f)),alert("Job deleted successfully!")}catch(D){alert(D.message||"Failed to delete")}finally{r(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Careers Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage careers page content and job listings"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("jobs"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="jobs"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Job Listings"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):a==="content"?e.jsx(jt,{content:l,onChange:x,onSave:T,saving:s}):e.jsx(vt,{jobs:m,onAdd:()=>{b({id:0,title:"",department:null,location:null,employmentType:null,description:null,requirements:null,responsibilities:null,salaryRange:null,isActive:!0,postedDate:null}),N(!0)},onEdit:f=>{b(f),N(!0)},onView:h,onDelete:v})})]}),C&&y&&e.jsx(Nt,{job:y,onSave:I,onClose:()=>{N(!1),b(null)},saving:s}),k&&e.jsx(wt,{job:k,onClose:()=>h(null),onEdit:()=>{b(k),h(null),N(!0)}})]})}function jt({content:a,onChange:c,onSave:d,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:a.heroTitle||"",onChange:s=>c({...a,heroTitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:a.heroSubtitle||"",onChange:s=>c({...a,heroSubtitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.heroImageId,onChange:s=>c({...a,heroImageId:s}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:a.introText||"",onChange:s=>c({...a,introText:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(R,{value:a.introImageId,onChange:s=>c({...a,introImageId:s}),label:"Intro Image"})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Life at Adonis Medical Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Title",children:e.jsx("input",{type:"text",value:a.lifeAtAdonisTitle||"",onChange:s=>c({...a,lifeAtAdonisTitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Life at Adonis Medical"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.lifeAtAdonisBackgroundImageId,onChange:s=>c({...a,lifeAtAdonisBackgroundImageId:s}),label:"Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.lifeAtAdonisImageId,onChange:s=>c({...a,lifeAtAdonisImageId:s}),label:"Section Image"})})]})]})]})}function vt({jobs:a,onAdd:c,onEdit:d,onView:i,onDelete:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Job Listings"}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Job"]})]}),a.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-briefcase-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No jobs yet. Add your first job!"})]}):e.jsx("div",{className:"space-y-3",children:a.map(r=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:r.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[r.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),r.department]}),r.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),r.location]}),r.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),r.employmentType]})]}),r.postedDate&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Posted: ",new Date(r.postedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>i(r),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>d(r),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>s(r.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},r.id))})]})}function Nt({job:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Job":"Add New Job",size:"xl",children:e.jsxs("div",{className:"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Job Title",required:!0,children:e.jsx("input",{type:"text",value:s.title,onChange:l=>r({...s,title:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Department",children:e.jsx("input",{type:"text",value:s.department||"",onChange:l=>r({...s,department:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Location",children:e.jsx("input",{type:"text",value:s.location||"",onChange:l=>r({...s,location:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Employment Type",children:e.jsxs("select",{value:s.employmentType||"",onChange:l=>r({...s,employmentType:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Internship",children:"Internship"})]})}),e.jsx(g,{label:"Salary Range",children:e.jsx("input",{type:"text",value:s.salaryRange||"",onChange:l=>r({...s,salaryRange:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., $50,000 - $70,000"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),e.jsx(g,{label:"Job Description",children:e.jsx("textarea",{value:s.description||"",onChange:l=>r({...s,description:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Requirements",children:e.jsx("textarea",{value:s.requirements||"",onChange:l=>r({...s,requirements:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Responsibilities",children:e.jsx("textarea",{value:s.responsibilities||"",onChange:l=>r({...s,responsibilities:l.target.value||null}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Job":"Create Job"})]})]})})}function wt({job:a,onClose:c,onEdit:d}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Job Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:a.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[a.department&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-building-line mr-1"}),a.department]}),a.location&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-map-pin-line mr-1"}),a.location]}),a.employmentType&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),a.employmentType]}),a.salaryRange&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-money-dollar-circle-line mr-1"}),a.salaryRange]})]}),a.postedDate&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Posted: ",new Date(a.postedDate).toLocaleDateString()]})]}),a.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:a.description})]}),a.requirements&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Requirements"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:a.requirements})]}),a.responsibilities&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Responsibilities"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:a.responsibilities})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Job"]})]})]})})}function Ct(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState({heroTitle:null,heroSubtitle:null,introText:null});o.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const m=await u.get("/contact-us");m.success&&m.data&&r(m.data)}catch(m){console.error("Error fetching content:",m),alert(m.message||"Failed to load content")}finally{c(!1)}},x=async()=>{i(!0);try{(await u.put("/contact-us",s)).success&&(alert("Contact page saved successfully!"),l())}catch(m){alert(m.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Us Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage contact page content"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),a?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:m=>r({...s,heroTitle:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Contact Us"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:s.heroSubtitle||"",onChange:m=>r({...s,heroSubtitle:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Get in touch with us"})}),e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:m=>r({...s,introText:m.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text for the contact page"})})]})})]})}function St(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState(null),[l,x]=o.useState({host:"smtp.gmail.com",port:"587",username:"your-email@gmail.com",password:"",fromEmail:"noreply@adonismedical.com",fromName:"Adonis Medical",encryption:"tls",enabled:!0}),[m,S]=o.useState(""),C=()=>{console.log("Saving SMTP configuration:",l),c(!1),r({success:!0,message:"SMTP configuration saved successfully!"}),setTimeout(()=>r(null),5e3)},N=()=>{c(!1)},y=async()=>{if(!m){r({success:!1,message:"Please enter a test email address"});return}i(!0),r(null),setTimeout(()=>{i(!1),r({success:!0,message:`Test email sent successfully to ${m}! Please check your inbox.`})},2e3)},b=[{name:"Gmail",host:"smtp.gmail.com",port:"587",encryption:"tls",note:"Use App Password for Gmail accounts with 2FA enabled"},{name:"Outlook/Office 365",host:"smtp.office365.com",port:"587",encryption:"tls",note:"Use your Microsoft account credentials"},{name:"Yahoo Mail",host:"smtp.mail.yahoo.com",port:"587",encryption:"tls",note:"Generate an app password in Yahoo account settings"},{name:"SendGrid",host:"smtp.sendgrid.net",port:"587",encryption:"tls",note:'Use "apikey" as username and your API key as password'},{name:"Mailgun",host:"smtp.mailgun.org",port:"587",encryption:"tls",note:"Use your Mailgun SMTP credentials"}],k=h=>{x({...l,host:h.host,port:h.port,encryption:h.encryption}),c(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937]",children:"SMTP Configuration"}),e.jsx("p",{className:"text-sm text-[#6B7280] mt-1",children:"Configure email server settings for sending emails"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:a?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N,className:"px-4 py-2 bg-[#F3F4F6] text-[#6B7280] rounded-lg hover:bg-[#E5E7EB] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Cancel"}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:"Save Configuration"})]}):e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-[#2563EB] text-white rounded-lg hover:bg-[#1D4ED8] transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Configuration"]})})]}),s&&e.jsx("div",{className:`mb-6 p-4 rounded-lg border ${s.success?"bg-[#D1FAE5] border-[#6EE7B7] text-[#065F46]":"bg-[#FEE2E2] border-[#FCA5A5] text-[#991B1B]"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:`${s.success?"ri-checkbox-circle-line":"ri-error-warning-line"} text-xl`}),e.jsx("p",{className:"text-sm font-medium",children:s.message})]})}),a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Enable SMTP"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Turn on/off email sending functionality"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enabled,onChange:h=>x({...l,enabled:h.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-[#D1D5DB] peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#BFDBFE] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-[#D1D5DB] after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#2563EB]"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Server Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Host"}),e.jsx("input",{type:"text",value:l.host,onChange:h=>x({...l,host:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"smtp.example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"SMTP Port"}),e.jsx("input",{type:"text",value:l.port,onChange:h=>x({...l,port:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Encryption"}),e.jsxs("select",{value:l.encryption,onChange:h=>x({...l,encryption:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all cursor-pointer",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"ssl",children:"SSL"}),e.jsx("option",{value:"tls",children:"TLS (Recommended)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Username"}),e.jsx("input",{type:"text",value:l.username,onChange:h=>x({...l,username:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"your-email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"Password"}),e.jsx("input",{type:"password",value:l.password,onChange:h=>x({...l,password:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1F2937] border-b pb-2",children:"Sender Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Email"}),e.jsx("input",{type:"email",value:l.fromEmail,onChange:h=>x({...l,fromEmail:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"noreply@example.com"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Email address that will appear as sender"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#374151] mb-2",children:"From Name"}),e.jsx("input",{type:"text",value:l.fromName,onChange:h=>x({...l,fromName:h.target.value}),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"Your Company Name"}),e.jsx("p",{className:"text-xs text-[#6B7280] mt-1",children:"Name that will appear as sender"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Test Email Connection"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"email",value:m,onChange:h=>S(h.target.value),className:"w-full px-4 py-2 border border-[#D1D5DB] rounded-lg focus:ring-2 focus:ring-[#2563EB] focus:border-transparent transition-all",placeholder:"test@example.com"}),e.jsx("button",{onClick:y,disabled:d,className:"w-full px-4 py-2 bg-[#10B981] text-white rounded-lg hover:bg-[#059669] transition-all duration-300 cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending Test Email..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-mail-send-line mr-2"}),"Send Test Email"]})})]})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.enabled?"bg-[#D1FAE5] text-[#065F46]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:l.enabled?"Enabled":"Disabled"})]})}),e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Server Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Host:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.host})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Port:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.port})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Encryption:"}),e.jsx("span",{className:"text-[#1F2937] font-medium uppercase",children:l.encryption})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"Username:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.username})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-[#F9FAFB] border border-[#E5E7EB] rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937] mb-3",children:"Sender Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Email:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.fromEmail})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-[#6B7280]",children:"From Name:"}),e.jsx("span",{className:"text-[#1F2937] font-medium",children:l.fromName})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#1F2937] mb-4",children:"Common SMTP Providers"}),e.jsx("p",{className:"text-sm text-[#6B7280] mb-6",children:"Quick setup with popular email service providers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(h=>e.jsxs("div",{className:"border border-[#E5E7EB] rounded-lg p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1F2937]",children:h.name}),e.jsx("button",{onClick:()=>k(h),className:"px-3 py-1 bg-[#2563EB] text-white text-xs rounded-lg hover:bg-[#1D4ED8] transition-all cursor-pointer whitespace-nowrap",children:"Use This"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-[#6B7280] mb-3",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Host:"})," ",h.host]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Port:"})," ",h.port]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Encryption:"})," ",h.encryption.toUpperCase()]})]}),e.jsxs("p",{className:"text-xs text-[#6B7280] bg-[#F9FAFB] p-2 rounded",children:[e.jsx("i",{className:"ri-information-line mr-1"}),h.note]})]},h.name))})]}),e.jsx("div",{className:"bg-[#EFF6FF] border border-[#BFDBFE] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-[#2563EB] text-2xl mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-[#1E40AF] mb-2",children:"SMTP Configuration Help"}),e.jsxs("ul",{className:"text-sm text-[#1E40AF] space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Port 587 (TLS):"})," Recommended for most providers, uses STARTTLS encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 465 (SSL):"})," Uses SSL encryption, supported by some providers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port 25:"})," Standard SMTP port, often blocked by ISPs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gmail Users:"}),' Enable "Less secure app access" or use App Passwords with 2FA']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Testing:"})," Always send a test email after configuration to verify settings"]})]})]})]})})]})}function It(){const[a,c]=o.useState("page"),[d,i]=o.useState([]),[s,r]=o.useState(!1),[l,x]=o.useState(!1),[m,S]=o.useState(!1),[C,N]=o.useState(null),[y,b]=o.useState(null),[k,h]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[A,p]=o.useState([]),[T,I]=o.useState(!1),[v,f]=o.useState(null);o.useEffect(()=>{a==="page"?(D(),F()):M()},[a]);const D=async()=>{r(!0);try{const P=await u.get("/specialties/page/content");P.success&&P.data&&h(P.data)}catch(P){console.error("Error fetching page content:",P)}finally{r(!1)}},F=async()=>{r(!0);try{const P=await u.get("/specialties/page/cards");P.success&&P.data&&p(P.data.sort((V,Q)=>V.orderIndex-Q.orderIndex))}catch(P){console.error("Error fetching page cards:",P)}finally{r(!1)}},M=async()=>{r(!0);try{const P=await u.get("/specialties");P.success&&P.data&&i(P.data.sort((V,Q)=>V.orderIndex-Q.orderIndex))}catch(P){console.error("Error fetching specialties:",P),alert(P.message||"Failed to load specialties")}finally{r(!1)}},L=async()=>{x(!0);try{(await u.put("/specialties/page/content",k)).success&&alert("Page content saved successfully!")}catch(P){alert(P.message||"Failed to save")}finally{x(!1)}},w=async P=>{x(!0);try{P.id&&P.id>0?await u.put(`/specialties/page/cards/${P.id}`,P):await u.post("/specialties/page/cards",{...P,orderIndex:A.length}),I(!1),f(null),F(),alert("Card saved successfully!")}catch(V){alert(V.message||"Failed to save card")}finally{x(!1)}},E=async P=>{if(confirm("Are you sure you want to delete this card?")){x(!0);try{await u.delete(`/specialties/page/cards/${P}`),p(A.filter(V=>V.id!==P)),alert("Card deleted successfully!")}catch(V){alert(V.message||"Failed to delete")}finally{x(!1)}}},U=async P=>{x(!0);try{for(let V=0;V<P.length;V++)await u.put(`/specialties/page/cards/${P[V].id}`,{...P[V],orderIndex:V});p(P),alert("Cards order updated successfully!")}catch(V){alert(V.message||"Failed to update order")}finally{x(!1)}},O=async P=>{x(!0);try{for(let V=0;V<P.length;V++)await u.put(`/specialties/${P[V].id}`,{...P[V],orderIndex:V});i(P),alert("Specialties order updated successfully!")}catch(V){alert(V.message||"Failed to update order")}finally{x(!1)}},J=async P=>{x(!0);try{!P.slug&&P.name&&(P.slug=P.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")),P.id&&P.id>0?await u.put(`/specialties/${P.id}`,P):await u.post("/specialties",{...P,orderIndex:d.length}),S(!1),N(null),M(),alert("Specialty saved successfully!")}catch(V){alert(V.message||"Failed to save specialty")}finally{x(!1)}},q=async P=>{if(confirm("Are you sure you want to delete this specialty?")){x(!0);try{await u.delete(`/specialties/${P}`),i(d.filter(V=>V.id!==P)),alert("Specialty deleted successfully!")}catch(V){alert(V.message||"Failed to delete specialty")}finally{x(!1)}}},G=P=>P.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${P.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Specialties Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage specialties page content and cards"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("page"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="page"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content & Cards"}),e.jsx("button",{onClick:()=>c("specialties"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="specialties"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"General Specialties"})]})}),e.jsx("div",{className:"p-6",children:s?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):a==="page"?e.jsxs(e.Fragment,{children:[e.jsx(Ft,{content:k,onChange:h,onSave:L,saving:l}),e.jsx("div",{className:"border-t mt-8 pt-8",children:e.jsx(kt,{cards:A,onAdd:()=>{f({id:0,name:"",backgroundImageId:null,cardImageId:null,internalLink:null,orderIndex:A.length,isActive:!0}),I(!0)},onEdit:P=>{f(P),I(!0)},onDelete:E,onReorder:U,saving:l})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"General Specialties"}),e.jsxs("button",{onClick:()=>{N({id:0,name:"",slug:"",description:null,imageId:null,iconClass:null,orderIndex:d.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Specialty"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop specialties to reorder them."]})})]})}),d.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-stethoscope-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No specialties yet. Add your first specialty!"})]}):e.jsx(z,{items:d,onReorder:O,keyExtractor:P=>P.id,emptyMessage:"No specialties yet. Click 'Add Specialty' to get started!",renderItem:P=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[P.iconClass&&e.jsx("i",{className:`${P.iconClass} text-3xl text-blue-600`}),P.image&&!P.iconClass&&e.jsx("img",{src:G(P),alt:P.name,className:"w-12 h-12 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:P.name}),P.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:P.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>b(P),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{N(P),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>q(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),T&&v&&e.jsx(Dt,{card:v,onSave:w,onClose:()=>{I(!1),f(null)},saving:l}),m&&C&&e.jsx(Et,{specialty:C,onSave:J,onClose:()=>{S(!1),N(null)},saving:l}),y&&e.jsx(Pt,{specialty:y,onClose:()=>b(null),onEdit:()=>{N(y),b(null),S(!0)},getImageUrl:G})]})}function Ft({content:a,onChange:c,onSave:d,saving:i}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hero Section"}),e.jsx("button",{onClick:d,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:a.heroTitle||"",onChange:s=>c({...a,heroTitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:a.heroSubtitle||"",onChange:s=>c({...a,heroSubtitle:s.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:a.heroImageId,onChange:s=>c({...a,heroImageId:s}),label:"Hero Background Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:a.introText||"",onChange:s=>c({...a,introText:s.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]})}function kt({cards:a,onAdd:c,onEdit:d,onDelete:i,onReorder:s,saving:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Specialties Cards"}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Card"]})]}),a.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No cards yet. Add your first card!"})]}):e.jsx(z,{items:a,onReorder:s,keyExtractor:l=>l.id,emptyMessage:"No cards yet. Click 'Add Card' to get started!",renderItem:l=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.cardImage&&e.jsx("img",{src:At(l),alt:l.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:l.name}),l.internalLink&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Link: ",l.internalLink]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>d(l),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>i(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})}function At(a){return a.cardImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${a.cardImage.filePath}`:""}function Dt({card:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return o.useEffect(()=>{r(a)},[a]),e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Card":"Add New Card",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Card Name",required:!0,children:e.jsx("input",{type:"text",value:s.name,onChange:l=>r({...s,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Radiology"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(R,{value:s.backgroundImageId,onChange:l=>r({...s,backgroundImageId:l}),label:"Background Image"}),e.jsx(R,{value:s.cardImageId,onChange:l=>r({...s,cardImageId:l}),label:"Card Image"})]}),e.jsx(g,{label:"Internal Link",hint:"Page URL to redirect to (e.g., /products, /about)",children:e.jsx("input",{type:"text",value:s.internalLink||"",onChange:l=>r({...s,internalLink:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"/products"})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Card":"Create Card"})]})]})})}function Et({specialty:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Specialty":"Add New Specialty",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Specialty Name",required:!0,children:e.jsx("input",{type:"text",value:s.name,onChange:l=>{const x=l.target.value;r({...s,name:x,slug:x.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Cardiology"})}),e.jsx(g,{label:"Slug",hint:"Auto-generated from name, or customize",children:e.jsx("input",{type:"text",value:s.slug,onChange:l=>r({...s,slug:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"cardiology"})}),e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:s.description||"",onChange:l=>r({...s,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter specialty description"})}),e.jsxs(g,{label:"Icon Class",hint:"Use RemixIcon class (e.g., ri-heart-line)",children:[e.jsx("input",{type:"text",value:s.iconClass||"",onChange:l=>r({...s,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-heart-line"}),s.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:s.iconClass})]})]}),e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Specialty Image",aspectRatio:"1/1"}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.name||!s.slug,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Specialty":"Create Specialty"})]})]})})}function Pt({specialty:a,onClose:c,onEdit:d,getImageUrl:i}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Specialty Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[a.iconClass&&e.jsx("i",{className:`${a.iconClass} text-5xl text-blue-600`}),a.image&&!a.iconClass&&e.jsx("img",{src:i(a),alt:a.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Slug: ",a.slug]})]})]}),a.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:a.description})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Specialty"]})]})]})})}function Tt(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null}),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(null);o.useEffect(()=>{a==="content"?k():h()},[a]);const k=async()=>{i(!0);try{const v=await u.get("/investor-relations");v.success&&v.data&&x(v.data)}catch(v){alert(v.message||"Failed to load content")}finally{i(!1)}},h=async()=>{i(!0);try{const v=await u.get("/investor-relations/documents");v.success&&v.data&&S(v.data.sort((f,D)=>f.orderIndex-D.orderIndex))}catch(v){alert(v.message||"Failed to load documents")}finally{i(!1)}},A=async()=>{r(!0);try{await u.put("/investor-relations",l),alert("Page content saved successfully!")}catch(v){alert(v.message||"Failed to save")}finally{r(!1)}},p=async v=>{r(!0);try{for(let f=0;f<v.length;f++)await u.put(`/investor-relations/documents/${v[f].id}`,{...v[f],orderIndex:f});S(v),alert("Documents order updated!")}catch(f){alert(f.message||"Failed to update order")}finally{r(!1)}},T=async v=>{r(!0);try{v.id&&v.id>0?await u.put(`/investor-relations/documents/${v.id}`,v):await u.post("/investor-relations/documents",{...v,orderIndex:m.length}),N(!1),b(null),h(),alert("Document saved successfully!")}catch(f){alert(f.message||"Failed to save")}finally{r(!1)}},I=async v=>{if(confirm("Delete this document?")){r(!0);try{await u.delete(`/investor-relations/documents/${v}`),S(m.filter(f=>f.id!==v)),alert("Document deleted!")}catch(f){alert(f.message||"Failed to delete")}finally{r(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Investor Relations"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and investor documents"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("documents"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="documents"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Documents"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:v=>x({...l,heroTitle:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:v=>x({...l,heroSubtitle:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.heroImageId,onChange:v=>x({...l,heroImageId:v}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:v=>x({...l,introText:v.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Investor Documents"}),e.jsxs("button",{onClick:()=>{b({id:0,title:"",description:null,fileId:null,documentType:null,publishDate:null,orderIndex:m.length,isActive:!0}),N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Document"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-file-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No documents yet"})]}):e.jsx(z,{items:m,onReorder:p,keyExtractor:v=>v.id,renderItem:v=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:v.title}),v.documentType&&e.jsx("p",{className:"text-sm text-gray-600",children:v.documentType})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(v),N(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>I(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),C&&y&&e.jsx($t,{document:y,onSave:T,onClose:()=>{N(!1),b(null)},saving:s})]})}function $t({document:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a),[l,x]=o.useState(!1),m=async S=>{const C=S.target.files?.[0];if(C){x(!0);try{const N=new FormData;N.append("file",C);const y=localStorage.getItem("auth_token"),k=await(await fetch(`${"http://localhost:3002/api/v1".replace("/api/v1","")}/api/v1/upload/file`,{method:"POST",headers:{Authorization:`Bearer ${y||""}`},body:N})).json();k.success&&k.mediaId&&r({...s,fileId:k.mediaId})}catch{alert("Upload failed")}finally{x(!1)}}};return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Document":"Add Document",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:s.title,onChange:S=>r({...s,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:s.description||"",onChange:S=>r({...s,description:S.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Document Type",children:e.jsxs("select",{value:s.documentType||"",onChange:S=>r({...s,documentType:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"Annual Report",children:"Annual Report"}),e.jsx("option",{value:"Quarterly Report",children:"Quarterly Report"}),e.jsx("option",{value:"Press Release",children:"Press Release"}),e.jsx("option",{value:"Other",children:"Other"})]})}),e.jsx(g,{label:"Publish Date",children:e.jsx("input",{type:"date",value:s.publishDate?new Date(s.publishDate).toISOString().split("T")[0]:"",onChange:S=>r({...s,publishDate:S.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs(g,{label:"Document File",children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:m,disabled:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),l&&e.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Uploading..."})]}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:S=>r({...s,isActive:S.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.title,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Mt(){const[a,c]=o.useState("content"),[d,i]=o.useState([]),[s,r]=o.useState(!1),[l,x]=o.useState(!1),[m,S]=o.useState(!1),[C,N]=o.useState(null),[y,b]=o.useState(null),[k,h]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null});o.useEffect(()=>{a==="content"?A():p()},[a]);const A=async()=>{r(!0);try{const F=await u.get("/clients/page-content");if(F.success&&F.data){const M=F.data;h({id:M.id||void 0,heroTitle:M.heroTitle||null,heroSubtitle:M.heroSubtitle||null,heroImageId:M.heroImageId||null,introText:M.introText||null,heroImage:M.heroImage})}}catch(F){console.error("Error fetching page content:",F),F.message?.includes("not found")||alert(F.message||"Failed to load page content")}finally{r(!1)}},p=async()=>{r(!0);try{const F=await u.get("/clients");F.success&&F.data&&i(F.data.sort((M,L)=>M.orderIndex-L.orderIndex))}catch(F){console.error("Error fetching clients:",F),alert(F.message||"Failed to load clients")}finally{r(!1)}},T=async()=>{x(!0);try{const F={heroTitle:k.heroTitle||null,heroSubtitle:k.heroSubtitle||null,heroImageId:k.heroImageId||null,introText:k.introText||null},M=await u.put("/clients/page-content",F);if(M.success)alert("Page content saved successfully!"),A();else throw new Error(M.message||"Failed to save page content")}catch(F){console.error("Error saving page content:",F),alert(F.message||"Failed to save page content")}finally{x(!1)}},I=F=>{if(F.name&&!F.name.match(/^Client\s+\d+$/i))return F.name;if(F.logo?.altText)return F.logo.altText;if(F.logo?.fileName){const M=F.logo.fileName.replace(/\.[^/.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,L=>L.toUpperCase());if(M&&M!=="Logo")return M}return F.name||"Unnamed Client"},v=async F=>{x(!0);try{for(let M=0;M<F.length;M++)await u.put(`/clients/${F[M].id}`,{...F[M],orderIndex:M});i(F),alert("Clients order updated successfully!")}catch(M){alert(M.message||"Failed to update order")}finally{x(!1)}},f=async F=>{x(!0);try{if(F.id&&F.id>0){const M=await u.put(`/clients/${F.id}`,F);if(!M.success)throw new Error(M.message||"Failed to update client")}else{const M=await u.post("/clients",{...F,orderIndex:d.length});if(!M.success)throw new Error(M.message||"Failed to create client")}S(!1),N(null),p(),alert("Client saved successfully!")}catch(M){const L=M.message||"Failed to save client";L.includes("not found")?(alert("This client no longer exists. Please refresh the page and try again."),p()):alert(L)}finally{x(!1)}},D=async F=>{if(confirm("Are you sure you want to delete this client?")){x(!0);try{const M=await u.delete(`/clients/${F}`);if(!M.success)throw new Error(M.message||"Failed to delete client");i(d.filter(L=>L.id!==F)),alert("Client deleted successfully!")}catch(M){const L=M.message||"Failed to delete client";L.includes("not found")?(alert("This client no longer exists. The list will be refreshed."),p()):alert(L)}finally{x(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Clients Page Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage clients page content and client list"})]})}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>c("content"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="content"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-file-text-line mr-2"}),"Page Content"]}),e.jsxs("button",{onClick:()=>c("clients"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="clients"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-group-line mr-2"}),"Clients List"]})]})})]}),a==="content"?e.jsx(Lt,{content:k,onChange:h,onSave:T,saving:l}):e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clients"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage client logos and information"})]}),e.jsxs("button",{onClick:()=>{N({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:d.length,isActive:!0}),S(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop clients to reorder them. The order will appear on your clients page."]})})]})}),s?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading clients..."})]}):d.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-user-heart-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No clients yet. Add your first client!"}),e.jsxs("button",{onClick:()=>{N({id:0,name:"",logoId:null,websiteUrl:"",orderIndex:0,isActive:!0}),S(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Client"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(z,{items:d,onReorder:v,keyExtractor:F=>F.id,emptyMessage:"No clients yet. Click 'Add Client' to get started!",renderItem:F=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[F.logo&&e.jsx("img",{src:de(F.logo),alt:I(F),className:"w-20 h-20 object-contain bg-gray-50 rounded-lg p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:I(F)}),F.websiteUrl&&e.jsxs("a",{href:F.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-1"}),F.websiteUrl]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>b(F),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{N(F),S(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>D(F.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})})]}),m&&C&&e.jsx(Ut,{client:C,onSave:f,onClose:()=>{S(!1),N(null)},saving:l}),y&&e.jsx(Vt,{client:y,onClose:()=>b(null),onEdit:()=>{N(y),b(null),S(!0)},getImageUrl:F=>de(F),getClientDisplayName:I})]})}function Lt({content:a,onChange:c,onSave:d,saving:i}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Hero Section"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:a.heroTitle||"",onChange:s=>c({...a,heroTitle:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Clients"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("textarea",{value:a.heroSubtitle||"",onChange:s=>c({...a,heroSubtitle:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Unlock Your Potential"})}),e.jsx(R,{value:a.heroImageId,onChange:s=>c({...a,heroImageId:s}),label:"Hero Background Image",aspectRatio:"16/9",currentImage:a.heroImage}),e.jsx(g,{label:"Intro Text",hint:"Optional text below hero section",children:e.jsx("textarea",{value:a.introText||"",onChange:s=>c({...a,introText:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Add introduction text here..."})}),e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:e.jsx("button",{onClick:d,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save Changes"})})]})]})}function Ut({client:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Client":"Add New Client",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:s.name,onChange:l=>r({...s,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})}),e.jsx(g,{label:"Website URL",hint:"Optional - Include https://",children:e.jsx("input",{type:"url",value:s.websiteUrl||"",onChange:l=>r({...s,websiteUrl:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})}),e.jsx(R,{value:s.logoId,onChange:l=>r({...s,logoId:l}),label:"Client Logo",aspectRatio:"3/2"}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Client":"Create Client"})]})]})})}function Vt({client:a,onClose:c,onEdit:d,getImageUrl:i,getClientDisplayName:s}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Client Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[a.logo&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(a.logo),alt:s(a),className:"max-w-xs max-h-48 object-contain bg-gray-50 rounded-lg p-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:s(a)}),a.websiteUrl&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsxs("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:[e.jsx("i",{className:"ri-external-link-line mr-2"}),a.websiteUrl]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Client"]})]})]})})}function Rt(){const[a,c]=o.useState([]),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState(!1),[m,S]=o.useState(null),[C,N]=o.useState(null);o.useEffect(()=>{y()},[]);const y=async()=>{i(!0);try{const p=await u.get("/leaders");p.success&&p.data&&c(p.data.sort((T,I)=>T.orderIndex-I.orderIndex))}catch(p){console.error("Error fetching leaders:",p),alert(p.message||"Failed to load leaders")}finally{i(!1)}},b=async p=>{r(!0);try{for(let T=0;T<p.length;T++)await u.put(`/leaders/${p[T].id}`,{...p[T],orderIndex:T});c(p),alert("Leaders order updated successfully!")}catch(T){alert(T.message||"Failed to update order")}finally{r(!1)}},k=async p=>{r(!0);try{p.id&&p.id>0?await u.put(`/leaders/${p.id}`,p):await u.post("/leaders",{...p,orderIndex:a.length}),x(!1),S(null),y(),alert("Leader saved successfully!")}catch(T){alert(T.message||"Failed to save leader")}finally{r(!1)}},h=async p=>{if(confirm("Are you sure you want to delete this leader?")){r(!0);try{await u.delete(`/leaders/${p}`),c(a.filter(T=>T.id!==p)),alert("Leader deleted successfully!")}catch(T){alert(T.message||"Failed to delete leader")}finally{r(!1)}}},A=p=>p.image?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${p.image.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Management Team"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage leadership team members"})]}),e.jsxs("button",{onClick:()=>{S({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:a.length,isActive:!0}),x(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-xl mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Drag and drop leaders to reorder them on the management page."]})})]})}),d?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading leaders..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-team-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No leaders yet. Add your first team member!"}),e.jsxs("button",{onClick:()=>{S({id:0,fullName:"",position:"",department:null,bio:null,imageId:null,email:null,linkedinUrl:null,orderIndex:0,isActive:!0}),x(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Leader"]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(z,{items:a,onReorder:b,keyExtractor:p=>p.id,emptyMessage:"No leaders yet. Click 'Add Leader' to get started!",renderItem:p=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[p.image&&e.jsx("img",{src:A(p),alt:p.fullName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:p.fullName}),e.jsx("p",{className:"text-sm text-gray-600",children:p.position}),p.department&&e.jsx("p",{className:"text-xs text-gray-500",children:p.department})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>N(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",title:"View",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{S(p),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",title:"Edit",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>h(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",title:"Delete",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),l&&m&&e.jsx(Bt,{leader:m,onSave:k,onClose:()=>{x(!1),S(null)},saving:s}),C&&e.jsx(qt,{leader:C,onClose:()=>N(null),onEdit:()=>{S(C),N(null),x(!0)},getImageUrl:A})]})}function Bt({leader:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id&&a.id>0?"Edit Leader":"Add New Leader",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Full Name",required:!0,children:e.jsx("input",{type:"text",value:s.fullName,onChange:l=>r({...s,fullName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})}),e.jsx(g,{label:"Position",required:!0,children:e.jsx("input",{type:"text",value:s.position,onChange:l=>r({...s,position:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CEO"})})]}),e.jsx(g,{label:"Department",children:e.jsx("input",{type:"text",value:s.department||"",onChange:l=>r({...s,department:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Executive"})}),e.jsx(g,{label:"Bio",children:e.jsx("textarea",{value:s.bio||"",onChange:l=>r({...s,bio:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter leader's biography"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Email",children:e.jsx("input",{type:"email",value:s.email||"",onChange:l=>r({...s,email:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"john@example.com"})}),e.jsx(g,{label:"LinkedIn URL",children:e.jsx("input",{type:"url",value:s.linkedinUrl||"",onChange:l=>r({...s,linkedinUrl:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/johndoe"})})]}),e.jsx(R,{value:s.imageId,onChange:l=>r({...s,imageId:l}),label:"Profile Photo",aspectRatio:"1/1"}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.fullName||!s.position,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a.id&&a.id>0?"Update Leader":"Create Leader"})]})]})})}function qt({leader:a,onClose:c,onEdit:d,getImageUrl:i}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Leader Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[a.image&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(a),alt:a.fullName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.fullName}),e.jsx("p",{className:"text-lg text-gray-700 mb-1",children:a.position}),a.department&&e.jsx("p",{className:"text-blue-600 font-medium",children:a.department})]}),a.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Biography"}),e.jsx("p",{className:"text-gray-600",children:a.bio})]}),e.jsxs("div",{className:"space-y-2",children:[a.email&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-mail-line mr-2 text-gray-500"}),e.jsx("a",{href:`mailto:${a.email}`,className:"text-blue-600 hover:underline",children:a.email})]}),a.linkedinUrl&&e.jsxs("div",{children:[e.jsx("i",{className:"ri-linkedin-line mr-2 text-gray-500"}),e.jsx("a",{href:a.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn Profile"})]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-sm rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Leader"]})]})]})})}function Ht(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,mapImageId:null,salesServiceHeading:null,salesServiceContent:null,salesServiceImageId:null}),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(null);o.useEffect(()=>{a==="content"?k():h()},[a]);const k=async()=>{i(!0);try{const I=await u.get("/our-presence");I.success&&I.data&&x(I.data)}catch(I){alert(I.message||"Failed to load")}finally{i(!1)}},h=async()=>{i(!0);try{const I=await u.get("/our-presence/locations");I.success&&I.data&&S(I.data)}catch(I){alert(I.message||"Failed to load")}finally{i(!1)}},A=async()=>{r(!0);try{await u.put("/our-presence",l),alert("Saved successfully!")}catch(I){alert(I.message||"Failed to save")}finally{r(!1)}},p=async I=>{r(!0);try{I.id&&I.id>0?await u.put(`/our-presence/locations/${I.id}`,I):await u.post("/our-presence/locations",I),N(!1),b(null),h(),alert("Location saved!")}catch(v){alert(v.message||"Failed to save")}finally{r(!1)}},T=async I=>{if(confirm("Delete this location?")){r(!0);try{await u.delete(`/our-presence/locations/${I}`),S(m.filter(v=>v.id!==I)),alert("Location deleted!")}catch(v){alert(v.message||"Failed to delete")}finally{r(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Presence"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and office locations"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("locations"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="locations"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Office Locations"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:I=>x({...l,heroTitle:I.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:I=>x({...l,heroSubtitle:I.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.heroImageId,onChange:I=>x({...l,heroImageId:I}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:I=>x({...l,introText:I.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mapImageId,onChange:I=>x({...l,mapImageId:I}),label:"Map Image"})}),e.jsx(g,{label:"Sales & Service Heading",children:e.jsx("input",{type:"text",value:l.salesServiceHeading||"",onChange:I=>x({...l,salesServiceHeading:I.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Sales & Service Content",children:e.jsx("textarea",{value:l.salesServiceContent||"",onChange:I=>x({...l,salesServiceContent:I.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.salesServiceImageId,onChange:I=>x({...l,salesServiceImageId:I}),label:"Sales & Service Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Office Locations"}),e.jsxs("button",{onClick:()=>{b({id:0,officeType:null,city:null,state:null,country:null,address:null,phone:null,email:null,latitude:null,longitude:null,isActive:!0}),N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Location"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-map-pin-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No locations yet"})]}):e.jsx("div",{className:"space-y-3",children:m.map(I=>e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[I.city,", ",I.state||I.country]}),I.officeType&&e.jsx("p",{className:"text-sm text-gray-600",children:I.officeType}),I.address&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.address}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm text-gray-600",children:[I.phone&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-phone-line mr-1"}),I.phone]}),I.email&&e.jsxs("span",{children:[e.jsx("i",{className:"ri-mail-line mr-1"}),I.email]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(I),N(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>T(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},I.id))})]})})]}),C&&y&&e.jsx(Ot,{location:y,onSave:p,onClose:()=>{N(!1),b(null)},saving:s})]})}function Ot({location:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Location":"Add Location",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Office Type",children:e.jsx("input",{type:"text",value:s.officeType||"",onChange:l=>r({...s,officeType:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Headquarters"})}),e.jsx(g,{label:"City",children:e.jsx("input",{type:"text",value:s.city||"",onChange:l=>r({...s,city:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"State",children:e.jsx("input",{type:"text",value:s.state||"",onChange:l=>r({...s,state:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Country",children:e.jsx("input",{type:"text",value:s.country||"",onChange:l=>r({...s,country:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(g,{label:"Address",children:e.jsx("textarea",{value:s.address||"",onChange:l=>r({...s,address:l.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Phone",children:e.jsx("input",{type:"text",value:s.phone||"",onChange:l=>r({...s,phone:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Email",children:e.jsx("input",{type:"email",value:s.email||"",onChange:l=>r({...s,email:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Latitude",children:e.jsx("input",{type:"number",step:"any",value:s.latitude||"",onChange:l=>r({...s,latitude:l.target.value?parseFloat(l.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Longitude",children:e.jsx("input",{type:"number",step:"any",value:s.longitude||"",onChange:l=>r({...s,longitude:l.target.value?parseFloat(l.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function zt(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,flexibilityHeading:null,flexibilityContent:null,flexibilityImageId:null,qualityHeading:null,qualityContent:null,qualityImageId:null}),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(null);o.useEffect(()=>{a==="content"?k():h()},[a]);const k=async()=>{i(!0);try{const v=await u.get("/production-facility");v.success&&v.data&&x(v.data)}catch(v){alert(v.message||"Failed to load")}finally{i(!1)}},h=async()=>{i(!0);try{const v=await u.get("/production-facility/features");v.success&&v.data&&S(v.data.sort((f,D)=>f.orderIndex-D.orderIndex))}catch(v){alert(v.message||"Failed to load")}finally{i(!1)}},A=async()=>{r(!0);try{await u.put("/production-facility",l),alert("Saved successfully!")}catch(v){alert(v.message||"Failed to save")}finally{r(!1)}},p=async v=>{r(!0);try{for(let f=0;f<v.length;f++)await u.put(`/production-facility/features/${v[f].id}`,{...v[f],orderIndex:f});S(v),alert("Order updated!")}catch(f){alert(f.message||"Failed to update")}finally{r(!1)}},T=async v=>{r(!0);try{v.id&&v.id>0?await u.put(`/production-facility/features/${v.id}`,v):await u.post("/production-facility/features",{...v,orderIndex:m.length}),N(!1),b(null),h(),alert("Feature saved!")}catch(f){alert(f.message||"Failed to save")}finally{r(!1)}},I=async v=>{if(confirm("Delete this feature?")){r(!0);try{await u.delete(`/production-facility/features/${v}`),S(m.filter(f=>f.id!==v)),alert("Feature deleted!")}catch(f){alert(f.message||"Failed to delete")}finally{r(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Production Facility"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and facility features"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("features"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="features"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Features"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:v=>x({...l,heroTitle:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:v=>x({...l,heroSubtitle:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.heroImageId,onChange:v=>x({...l,heroImageId:v}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:v=>x({...l,introText:v.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(g,{label:"Flexibility Heading",children:e.jsx("input",{type:"text",value:l.flexibilityHeading||"",onChange:v=>x({...l,flexibilityHeading:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Flexibility Content",children:e.jsx("textarea",{value:l.flexibilityContent||"",onChange:v=>x({...l,flexibilityContent:v.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.flexibilityImageId,onChange:v=>x({...l,flexibilityImageId:v}),label:"Flexibility Image"})}),e.jsx(g,{label:"Quality Heading",children:e.jsx("input",{type:"text",value:l.qualityHeading||"",onChange:v=>x({...l,qualityHeading:v.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Quality Content",children:e.jsx("textarea",{value:l.qualityContent||"",onChange:v=>x({...l,qualityContent:v.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.qualityImageId,onChange:v=>x({...l,qualityImageId:v}),label:"Quality Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Facility Features"}),e.jsxs("button",{onClick:()=>{b({id:0,iconClass:null,heading:null,description:null,orderIndex:m.length}),N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-settings-3-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No features yet"})]}):e.jsx(z,{items:m,onReorder:p,keyExtractor:v=>v.id,renderItem:v=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[v.iconClass&&e.jsx("i",{className:`${v.iconClass} text-2xl text-blue-600`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:v.heading}),v.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:v.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{b(v),N(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>I(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),C&&y&&e.jsx(Gt,{feature:y,onSave:T,onClose:()=>{N(!1),b(null)},saving:s})]})}function Gt({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Feature":"Add Feature",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(g,{label:"Icon Class",hint:"RemixIcon class",children:[e.jsx("input",{type:"text",value:s.iconClass||"",onChange:l=>r({...s,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-settings-3-line"}),s.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:s.iconClass})]})]}),e.jsx(g,{label:"Heading",children:e.jsx("input",{type:"text",value:s.heading||"",onChange:l=>r({...s,heading:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:s.description||"",onChange:l=>r({...s,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Jt(){const[a,c]=o.useState("content"),[d,i]=o.useState(!1),[s,r]=o.useState(!1),[l,x]=o.useState({heroTitle:null,heroSubtitle:null,heroImageId:null,introText:null,mainHeading:null,mainContent:null,mainImageId:null}),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(null);o.useEffect(()=>{a==="content"?k():h()},[a]);const k=async()=>{i(!0);try{const f=await u.get("/quality-assurance");f.success&&f.data&&x(f.data)}catch(f){alert(f.message||"Failed to load")}finally{i(!1)}},h=async()=>{i(!0);try{const f=await u.get("/quality-assurance/certifications");f.success&&f.data&&S(f.data.sort((D,F)=>D.orderIndex-F.orderIndex))}catch(f){alert(f.message||"Failed to load")}finally{i(!1)}},A=async()=>{r(!0);try{await u.put("/quality-assurance",l),alert("Saved successfully!")}catch(f){alert(f.message||"Failed to save")}finally{r(!1)}},p=async f=>{r(!0);try{for(let D=0;D<f.length;D++)await u.put(`/quality-assurance/certifications/${f[D].id}`,{...f[D],orderIndex:D});S(f),alert("Order updated!")}catch(D){alert(D.message||"Failed to update")}finally{r(!1)}},T=async f=>{r(!0);try{f.id&&f.id>0?await u.put(`/quality-assurance/certifications/${f.id}`,f):await u.post("/quality-assurance/certifications",{...f,orderIndex:m.length}),N(!1),b(null),h(),alert("Certification saved!")}catch(D){alert(D.message||"Failed to save")}finally{r(!1)}},I=async f=>{if(confirm("Delete this certification?")){r(!0);try{await u.delete(`/quality-assurance/certifications/${f}`),S(m.filter(D=>D.id!==f)),alert("Certification deleted!")}catch(D){alert(D.message||"Failed to delete")}finally{r(!1)}}},v=f=>f.logo?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${f.logo.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quality Assurance"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage page content and certifications"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("content"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="content"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Page Content"}),e.jsx("button",{onClick:()=>c("certifications"),className:`px-4 py-3 font-medium text-sm border-b-2 cursor-pointer ${a==="certifications"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-blue-600"}`,children:"Certifications"})]})}),e.jsx("div",{className:"p-6",children:d?e.jsx("div",{className:"text-center py-12",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):a==="content"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Content"}),e.jsx("button",{onClick:A,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:s?"Saving...":"Save"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:l.heroTitle||"",onChange:f=>x({...l,heroTitle:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Hero Subtitle",children:e.jsx("input",{type:"text",value:l.heroSubtitle||"",onChange:f=>x({...l,heroSubtitle:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.heroImageId,onChange:f=>x({...l,heroImageId:f}),label:"Hero Image"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:l.introText||"",onChange:f=>x({...l,introText:f.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx(g,{label:"Main Heading",children:e.jsx("input",{type:"text",value:l.mainHeading||"",onChange:f=>x({...l,mainHeading:f.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Main Content",children:e.jsx("textarea",{value:l.mainContent||"",onChange:f=>x({...l,mainContent:f.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(R,{value:l.mainImageId,onChange:f=>x({...l,mainImageId:f}),label:"Main Image"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Certifications"}),e.jsxs("button",{onClick:()=>{b({id:0,name:"",abbreviation:null,logoId:null,description:null,orderIndex:m.length,isActive:!0}),N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Certification"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("i",{className:"ri-shield-check-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No certifications yet"})]}):e.jsx(z,{items:m,onReorder:p,keyExtractor:f=>f.id,renderItem:f=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[f.logo&&e.jsx("img",{src:v(f),alt:f.name,className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:f.name}),f.abbreviation&&e.jsx("p",{className:"text-sm text-gray-600",children:f.abbreviation})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{b(f),N(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>I(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})})]}),C&&y&&e.jsx(Yt,{cert:y,onSave:T,onClose:()=>{N(!1),b(null)},saving:s})]})}function Yt({cert:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Certification":"Add Certification",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Certification Name",required:!0,children:e.jsx("input",{type:"text",value:s.name,onChange:l=>r({...s,name:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Abbreviation",children:e.jsx("input",{type:"text",value:s.abbreviation||"",onChange:l=>r({...s,abbreviation:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISO 13485"})}),e.jsx(g,{label:"Description",children:e.jsx("textarea",{value:s.description||"",onChange:l=>r({...s,description:l.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(R,{value:s.logoId,onChange:l=>r({...s,logoId:l}),label:"Certification Logo",aspectRatio:"1/1"}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.name,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function Qt(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState({heroTitle:null,introText:null,backgroundImageId:null}),[l,x]=o.useState([]),[m,S]=o.useState([]),[C,N]=o.useState(!1),[y,b]=o.useState(!1),[k,h]=o.useState(null),[A,p]=o.useState(null);o.useEffect(()=>{T()},[]);const T=async()=>{c(!0);try{const w=await u.get("/request-demo");if(w.success&&w.data){const E=w.data;r({id:E.id,heroTitle:E.heroTitle,introText:E.introText,backgroundImageId:E.backgroundImageId,backgroundImage:E.backgroundImage}),x(E.paragraphs||[]),S(E.features||[])}}catch(w){console.error("Error fetching content:",w),alert(w.message||"Failed to load content")}finally{c(!1)}},I=async()=>{i(!0);try{(await u.put("/request-demo",s)).success&&(alert("Request Demo page saved successfully!"),T())}catch(w){alert(w.message||"Failed to save")}finally{i(!1)}},v=async w=>{i(!0);try{w.id&&w.id>0?await u.put(`/request-demo/paragraphs/${w.id}`,w):await u.post("/request-demo/paragraphs",{...w,orderIndex:l.length}),N(!1),h(null),T(),alert("Paragraph saved successfully!")}catch(E){alert(E.message||"Failed to save")}finally{i(!1)}},f=async w=>{if(confirm("Are you sure you want to delete this paragraph?")){i(!0);try{await u.delete(`/request-demo/paragraphs/${w}`),x(l.filter(E=>E.id!==w)),alert("Paragraph deleted successfully!")}catch(E){alert(E.message||"Failed to delete")}finally{i(!1)}}},D=async w=>{i(!0);try{for(let E=0;E<w.length;E++)await u.put(`/request-demo/paragraphs/${w[E].id}`,{...w[E],orderIndex:E});x(w),alert("Paragraphs order updated successfully!")}catch(E){alert(E.message||"Failed to update order")}finally{i(!1)}},F=async w=>{i(!0);try{w.id&&w.id>0?await u.put(`/request-demo/features/${w.id}`,w):await u.post("/request-demo/features",{...w,orderIndex:m.length}),b(!1),p(null),T(),alert("Feature saved successfully!")}catch(E){alert(E.message||"Failed to save")}finally{i(!1)}},M=async w=>{if(confirm("Are you sure you want to delete this feature?")){i(!0);try{await u.delete(`/request-demo/features/${w}`),S(m.filter(E=>E.id!==w)),alert("Feature deleted successfully!")}catch(E){alert(E.message||"Failed to delete")}finally{i(!1)}}},L=async w=>{i(!0);try{for(let E=0;E<w.length;E++)await u.put(`/request-demo/features/${w[E].id}`,{...w[E],orderIndex:E});S(w),alert("Features order updated successfully!")}catch(E){alert(E.message||"Failed to update order")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Request Demo Page"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage request demo page content"})]}),e.jsx("button",{onClick:I,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),a?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Loading..."})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Hero Title",children:e.jsx("input",{type:"text",value:s.heroTitle||"",onChange:w=>r({...s,heroTitle:w.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Request a Demo"})}),e.jsx(g,{label:"Intro Text",children:e.jsx("textarea",{value:s.introText||"",onChange:w=>r({...s,introText:w.target.value||null}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter introduction text"})}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Background Image"}),e.jsx(R,{value:s.backgroundImageId,onChange:w=>r({...s,backgroundImageId:w}),label:"Page Background Image"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"Upload a background image (e.g., Frame-75-1.png). This will replace the default gradient background."]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paragraphs"}),e.jsxs("button",{onClick:()=>{h({id:0,content:"",orderIndex:l.length}),N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Paragraph"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add multiple paragraphs. Drag and drop to reorder."]}),e.jsx(z,{items:l,onReorder:D,keyExtractor:w=>w.id,emptyMessage:"No paragraphs yet. Click 'Add Paragraph' to get started!",renderItem:w=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:w.content})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{h(w),N(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>f(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Features"}),e.jsxs("button",{onClick:()=>{p({id:0,title:"",content:"",iconImageId:null,orderIndex:m.length}),b(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Feature"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"Add feature blocks with icon, title, and content. Drag and drop to reorder."]}),e.jsx(z,{items:m,onReorder:L,keyExtractor:w=>w.id,emptyMessage:"No features yet. Click 'Add Feature' to get started!",renderItem:w=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[w.iconImage&&e.jsx("img",{src:_t(w),alt:w.iconImage.altText||w.title,className:"w-10 h-10 object-contain"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:w.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:w.content})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{p(w),b(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>M(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})]})]})]})}),C&&e.jsx(Wt,{paragraph:k,onSave:v,onClose:()=>{N(!1),h(null)},saving:d}),y&&e.jsx(Kt,{feature:A,onSave:F,onClose:()=>{b(!1),p(null)},saving:d})]})}function _t(a){return a.iconImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${a.iconImage.filePath}`:""}function Wt({paragraph:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a||{id:0,content:"",orderIndex:0});return o.useEffect(()=>{r(a||{id:0,content:"",orderIndex:0})},[a]),e.jsx(B,{isOpen:!0,onClose:d,title:a?.id&&a.id>0?"Edit Paragraph":"Add Paragraph",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Content",required:!0,children:e.jsx("textarea",{value:s.content,onChange:l=>r({...s,content:l.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter paragraph content"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a?.id&&a.id>0?"Update Paragraph":"Create Paragraph"})]})]})})}function Kt({feature:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a||{id:0,title:"",content:"",iconImageId:null,orderIndex:0}),l=x=>x?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${x.filePath}`:"";return o.useEffect(()=>{r(a||{id:0,title:"",content:"",iconImageId:null,orderIndex:0})},[a]),e.jsx(B,{isOpen:!0,onClose:d,title:a?.id&&a.id>0?"Edit Feature":"Add Feature",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Title",required:!0,children:e.jsx("input",{type:"text",value:s.title,onChange:x=>r({...s,title:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., System Variety"})}),e.jsx(g,{label:"Content",required:!0,children:e.jsx("textarea",{value:s.content,onChange:x=>r({...s,content:x.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., We offer 15+ models ranging from portable to high-powered fixed machines..."})}),e.jsx(R,{value:s.iconImageId,onChange:x=>r({...s,iconImageId:x}),label:"Icon Image (JPG, PNG, SVG)"}),s.iconImage&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:l(s.iconImage),alt:"Icon preview",className:"w-16 h-16 object-contain"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.title||!s.content,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":a?.id&&a.id>0?"Update Feature":"Create Feature"})]})]})})}function Xt(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState({companyName:"",addressLine1:null,addressLine2:null,city:null,state:null,postalCode:null,country:null,phone:null,email:null,supportEmail:null,googleMapsEmbedUrl:null});o.useEffect(()=>{l()},[]);const l=async()=>{c(!0);try{const m=await u.get("/contact-info");m.success&&m.data&&r(m.data)}catch(m){alert(m.message||"Failed to load")}finally{c(!1)}},x=async()=>{i(!0);try{await u.put("/contact-info",s),alert("Contact info saved successfully!")}catch(m){alert(m.message||"Failed to save")}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage company contact details"})]}),e.jsx("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:d?"Saving...":"Save Changes"})]})}),a?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{label:"Company Name",required:!0,children:e.jsx("input",{type:"text",value:s.companyName,onChange:m=>r({...s,companyName:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Phone",children:e.jsx("input",{type:"tel",value:s.phone||"",onChange:m=>r({...s,phone:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Email",children:e.jsx("input",{type:"email",value:s.email||"",onChange:m=>r({...s,email:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Support Email",children:e.jsx("input",{type:"email",value:s.supportEmail||"",onChange:m=>r({...s,supportEmail:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Address Line 1",children:e.jsx("input",{type:"text",value:s.addressLine1||"",onChange:m=>r({...s,addressLine1:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Address Line 2",children:e.jsx("input",{type:"text",value:s.addressLine2||"",onChange:m=>r({...s,addressLine2:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"City",children:e.jsx("input",{type:"text",value:s.city||"",onChange:m=>r({...s,city:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"State",children:e.jsx("input",{type:"text",value:s.state||"",onChange:m=>r({...s,state:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Postal Code",children:e.jsx("input",{type:"text",value:s.postalCode||"",onChange:m=>r({...s,postalCode:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Country",children:e.jsx("input",{type:"text",value:s.country||"",onChange:m=>r({...s,country:m.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(g,{label:"Google Maps Embed URL",children:e.jsx("textarea",{value:s.googleMapsEmbedUrl||"",onChange:m=>r({...s,googleMapsEmbedUrl:m.target.value||null}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Paste Google Maps embed iframe code here"})})})]})})]})}function Zt(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState([]),[l,x]=o.useState(!1),[m,S]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{c(!0);try{const b=await u.get("/global-settings");b.success&&b.data&&r(b.data)}catch(b){alert(b.message||"Failed to load")}finally{c(!1)}},N=async b=>{i(!0);try{b.id&&b.id>0?await u.put(`/global-settings/${b.id}`,b):await u.post("/global-settings",b),x(!1),S(null),C(),alert("Setting saved!")}catch(k){alert(k.message||"Failed to save")}finally{i(!1)}},y=async b=>{if(confirm("Delete this setting?")){i(!0);try{await u.delete(`/global-settings/${b}`),r(s.filter(k=>k.id!==b)),alert("Setting deleted!")}catch(k){alert(k.message||"Failed to delete")}finally{i(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Global Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage site-wide settings"})]}),e.jsxs("button",{onClick:()=>{S({id:0,settingKey:"",settingValue:null,settingType:"text",description:null}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Setting"]})]})}),a?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-settings-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No settings yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx("div",{className:"space-y-3",children:s.map(b=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:b.settingKey}),b.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 bg-gray-50 p-2 rounded",children:b.settingValue||"(empty)"}),e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:b.settingType})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{S(b),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>y(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})},b.id))})}),l&&m&&e.jsx(es,{setting:m,onSave:N,onClose:()=>{x(!1),S(null)},saving:d})]})}function es({setting:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Setting":"Add Setting",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Setting Key",required:!0,hint:"Unique identifier (e.g., site_name)",children:e.jsx("input",{type:"text",value:s.settingKey,onChange:l=>r({...s,settingKey:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Setting Type",children:e.jsxs("select",{value:s.settingType,onChange:l=>r({...s,settingType:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"boolean",children:"Boolean"}),e.jsx("option",{value:"json",children:"JSON"})]})}),e.jsx(g,{label:"Setting Value",children:s.settingType==="boolean"?e.jsxs("select",{value:s.settingValue||"false",onChange:l=>r({...s,settingValue:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"true",children:"True"}),e.jsx("option",{value:"false",children:"False"})]}):s.settingType==="json"?e.jsx("textarea",{value:s.settingValue||"",onChange:l=>r({...s,settingValue:l.target.value||null}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:'{"key": "value"}'}):e.jsx("input",{type:s.settingType==="number"?"number":"text",value:s.settingValue||"",onChange:l=>r({...s,settingValue:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Description",children:e.jsx("input",{type:"text",value:s.description||"",onChange:l=>r({...s,description:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.settingKey,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ts(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState([]),[l,x]=o.useState(!1),[m,S]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{c(!0);try{const k=await u.get("/social-links");k.success&&k.data&&r(k.data.sort((h,A)=>h.orderIndex-A.orderIndex))}catch(k){alert(k.message||"Failed to load")}finally{c(!1)}},N=async k=>{i(!0);try{for(let h=0;h<k.length;h++)await u.put(`/social-links/${k[h].id}`,{...k[h],orderIndex:h});r(k),alert("Order updated!")}catch(h){alert(h.message||"Failed to update")}finally{i(!1)}},y=async k=>{i(!0);try{k.id&&k.id>0?await u.put(`/social-links/${k.id}`,k):await u.post("/social-links",{...k,orderIndex:s.length}),x(!1),S(null),C(),alert("Social link saved!")}catch(h){alert(h.message||"Failed to save")}finally{i(!1)}},b=async k=>{if(confirm("Delete this social link?")){i(!0);try{await u.delete(`/social-links/${k}`),r(s.filter(h=>h.id!==k)),alert("Social link deleted!")}catch(h){alert(h.message||"Failed to delete")}finally{i(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Links"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage social media links"})]}),e.jsxs("button",{onClick:()=>{S({id:0,platform:"",url:"",iconClass:null,orderIndex:s.length,isActive:!0}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Link"]})]})}),a?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-share-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No social links yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(z,{items:s,onReorder:N,keyExtractor:k=>k.id,renderItem:k=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[k.iconClass&&e.jsx("i",{className:`${k.iconClass} text-2xl text-blue-600`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:k.platform}),e.jsx("p",{className:"text-sm text-gray-600",children:k.url})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>{S(k),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>b(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),l&&m&&e.jsx(ss,{link:m,onSave:y,onClose:()=>{x(!1),S(null)},saving:d})]})}function ss({link:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Social Link":"Add Social Link",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{label:"Platform",required:!0,children:e.jsx("input",{type:"text",value:s.platform,onChange:l=>r({...s,platform:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Facebook"})}),e.jsx(g,{label:"URL",required:!0,children:e.jsx("input",{type:"url",value:s.url,onChange:l=>r({...s,url:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://facebook.com/..."})}),e.jsxs(g,{label:"Icon Class",hint:"RemixIcon class",children:[e.jsx("input",{type:"text",value:s.iconClass||"",onChange:l=>r({...s,iconClass:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ri-facebook-line"}),s.iconClass&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Preview: ",e.jsx("i",{className:s.iconClass})]})]}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.platform||!s.url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function as(){const[a,c]=o.useState(!1),[d,i]=o.useState(!1),[s,r]=o.useState([]),[l,x]=o.useState(!1),[m,S]=o.useState(null),[C,N]=o.useState(null);o.useEffect(()=>{y()},[]);const y=async()=>{c(!0);try{const p=await u.get("/testimonials");p.success&&p.data&&r(p.data.sort((T,I)=>T.orderIndex-I.orderIndex))}catch(p){alert(p.message||"Failed to load")}finally{c(!1)}},b=async p=>{i(!0);try{for(let T=0;T<p.length;T++)await u.put(`/testimonials/${p[T].id}`,{...p[T],orderIndex:T});r(p),alert("Order updated!")}catch(T){alert(T.message||"Failed to update")}finally{i(!1)}},k=async p=>{i(!0);try{p.id&&p.id>0?await u.put(`/testimonials/${p.id}`,p):await u.post("/testimonials",{...p,orderIndex:s.length}),x(!1),S(null),y(),alert("Testimonial saved!")}catch(T){alert(T.message||"Failed to save")}finally{i(!1)}},h=async p=>{if(confirm("Delete this testimonial?")){i(!0);try{await u.delete(`/testimonials/${p}`),r(s.filter(T=>T.id!==p)),alert("Testimonial deleted!")}catch(T){alert(T.message||"Failed to delete")}finally{i(!1)}}},A=p=>p.clientImage?`${"http://localhost:3002/api/v1".replace("/api/v1","")||"http://localhost:3002"}${p.clientImage.filePath}`:"";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Testimonials"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer testimonials"})]}),e.jsxs("button",{onClick:()=>{S({id:0,clientName:"",clientPosition:null,clientCompany:null,clientImageId:null,testimonialText:"",rating:null,orderIndex:s.length,isFeatured:!1,isActive:!0}),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Testimonial"]})]})}),a?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:e.jsx("i",{className:"ri-loader-4-line animate-spin text-4xl text-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("i",{className:"ri-chat-quote-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No testimonials yet"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsx(z,{items:s,onReorder:b,keyExtractor:p=>p.id,renderItem:p=>e.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[p.clientImage&&e.jsx("img",{src:A(p),alt:p.clientName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:p.clientName}),p.clientCompany&&e.jsx("p",{className:"text-sm text-gray-600",children:p.clientCompany}),e.jsxs("p",{className:"text-sm text-gray-500 line-clamp-2 mt-1",children:['"',p.testimonialText,'"']})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p.isFeatured&&e.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Featured"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>N(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-eye-line"})}),e.jsx("button",{onClick:()=>{S(p),x(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>h(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]})})}),l&&m&&e.jsx(rs,{testimonial:m,onSave:k,onClose:()=>{x(!1),S(null)},saving:d}),C&&e.jsx(ls,{testimonial:C,onClose:()=>N(null),onEdit:()=>{S(C),N(null),x(!0)},getImageUrl:A})]})}function rs({testimonial:a,onSave:c,onClose:d,saving:i}){const[s,r]=o.useState(a);return e.jsx(B,{isOpen:!0,onClose:d,title:a.id>0?"Edit Testimonial":"Add Testimonial",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Client Name",required:!0,children:e.jsx("input",{type:"text",value:s.clientName,onChange:l=>r({...s,clientName:l.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Client Position",children:e.jsx("input",{type:"text",value:s.clientPosition||"",onChange:l=>r({...s,clientPosition:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})})]}),e.jsx(g,{label:"Client Company",children:e.jsx("input",{type:"text",value:s.clientCompany||"",onChange:l=>r({...s,clientCompany:l.target.value||null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsx(g,{label:"Testimonial Text",required:!0,children:e.jsx("textarea",{value:s.testimonialText,onChange:l=>r({...s,testimonialText:l.target.value}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(g,{label:"Rating (1-5)",children:e.jsx("input",{type:"number",min:"1",max:"5",value:s.rating||"",onChange:l=>r({...s,rating:l.target.value?parseInt(l.target.value):null}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Featured",children:e.jsxs("select",{value:s.isFeatured?"yes":"no",onChange:l=>r({...s,isFeatured:l.target.value==="yes"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"yes",children:"Yes"})]})}),e.jsx(g,{label:"Status",children:e.jsxs("select",{value:s.isActive?"active":"inactive",onChange:l=>r({...s,isActive:l.target.value==="active"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]})]}),e.jsx(R,{value:s.clientImageId,onChange:l=>r({...s,clientImageId:l}),label:"Client Photo",aspectRatio:"1/1"}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:()=>c(s),disabled:i||!s.clientName||!s.testimonialText,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 cursor-pointer",children:i?"Saving...":"Save"})]})]})})}function ls({testimonial:a,onClose:c,onEdit:d,getImageUrl:i}){return e.jsx(B,{isOpen:!0,onClose:c,title:"Testimonial Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[a.clientImage&&e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i(a),alt:a.clientName,className:"w-32 h-32 rounded-full object-cover"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.clientName}),a.clientPosition&&e.jsx("p",{className:"text-gray-700",children:a.clientPosition}),a.clientCompany&&e.jsx("p",{className:"text-blue-600",children:a.clientCompany})]}),e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsxs("p",{className:"text-gray-700 italic text-lg",children:['"',a.testimonialText,'"']})}),a.rating&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Rating:"}),e.jsx("div",{className:"flex",children:[...Array(5)].map((s,r)=>e.jsx("i",{className:`ri-star-${r<a.rating?"fill":"line"} text-yellow-400`},r))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:"Close"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]})]})]})})}function is(){const[a,c]=o.useState("all"),[d,i]=o.useState("all"),[s,r]=o.useState(""),[l,x]=o.useState({start:"",end:""}),[m]=o.useState([{id:"1",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"update",page:"Home",section:"Hero Section",field:"Title",oldValue:"Welcome to Adonis Medical",newValue:"Affordable Diagnostic Imaging Solutions",timestamp:new Date("2025-01-15T10:30:00"),ipAddress:"192.168.1.100"},{id:"2",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"login",page:"Admin",section:"Authentication",timestamp:new Date("2025-01-15T09:00:00"),ipAddress:"192.168.1.100"},{id:"3",user:"Editor User",userEmail:"editor@adonismedical.com",action:"create",page:"Products",section:"Product List",field:"New Product",newValue:"HF Mobile X-Ray System",timestamp:new Date("2025-01-14T15:45:00"),ipAddress:"192.168.1.101"},{id:"4",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"delete",page:"Awards",section:"Awards List",field:"Award Item",oldValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:20:00"),ipAddress:"192.168.1.100"},{id:"5",user:"Admin User",userEmail:"raghul.je@refex.co.in",action:"restore",page:"Awards",section:"Awards List",field:"Award Item",newValue:"Best Innovation Award 2023",timestamp:new Date("2025-01-14T14:25:00"),ipAddress:"192.168.1.100"},{id:"6",user:"Editor User",userEmail:"editor@adonismedical.com",action:"update",page:"About",section:"Company Overview",field:"Description",oldValue:"We are a leading manufacturer...",newValue:"Adonis Medical Systems, a professionally managed...",timestamp:new Date("2025-01-13T11:30:00"),ipAddress:"192.168.1.101"}]),S={create:"bg-green-100 text-green-800",update:"bg-blue-100 text-blue-800",delete:"bg-red-100 text-red-800",restore:"bg-purple-100 text-purple-800",login:"bg-gray-100 text-gray-800",logout:"bg-gray-100 text-gray-800"},C={create:"ri-add-circle-line",update:"ri-edit-line",delete:"ri-delete-bin-line",restore:"ri-restart-line",login:"ri-login-box-line",logout:"ri-logout-box-line"},N=m.filter(b=>{const k=a==="all"||b.action===a,h=d==="all"||b.page===d,A=s===""||b.user.toLowerCase().includes(s.toLowerCase())||b.userEmail.toLowerCase().includes(s.toLowerCase())||b.page.toLowerCase().includes(s.toLowerCase())||b.section.toLowerCase().includes(s.toLowerCase());return k&&h&&A}),y=()=>{const b=[["Timestamp","User","Email","Action","Page","Section","Field","Old Value","New Value","IP Address"],...N.map(p=>[p.timestamp.toISOString(),p.user,p.userEmail,p.action,p.page,p.section,p.field||"",p.oldValue||"",p.newValue||"",p.ipAddress])].map(p=>p.join(",")).join("\\n"),k=new Blob([b],{type:"text/csv"}),h=window.URL.createObjectURL(k),A=document.createElement("a");A.href=h,A.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,A.click()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Logs"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track all user actions and changes"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-download-line"}),e.jsx("span",{children:"Export Logs"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:b=>r(b.target.value),placeholder:"Search user, email, page...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),e.jsxs("select",{value:a,onChange:b=>c(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Actions"}),e.jsx("option",{value:"create",children:"Create"}),e.jsx("option",{value:"update",children:"Update"}),e.jsx("option",{value:"delete",children:"Delete"}),e.jsx("option",{value:"restore",children:"Restore"}),e.jsx("option",{value:"login",children:"Login"}),e.jsx("option",{value:"logout",children:"Logout"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsxs("select",{value:d,onChange:b=>i(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Pages"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"About",children:"About"}),e.jsx("option",{value:"Products",children:"Products"}),e.jsx("option",{value:"Awards",children:"Awards"}),e.jsx("option",{value:"Careers",children:"Careers"}),e.jsx("option",{value:"Contact",children:"Contact"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:l.start,onChange:b=>x({...l,start:b.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx("input",{type:"date",value:l.end,onChange:b=>x({...l,end:b.target.value}),className:"flex-1 px-2 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.timestamp.toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.user}),e.jsx("div",{className:"text-xs text-gray-500",children:b.userEmail})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S[b.action]}`,children:[e.jsx("i",{className:`${C[b.action]} mr-1`}),b.action.charAt(0).toUpperCase()+b.action.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.page}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.section}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b.field&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:b.field}),b.oldValue&&e.jsxs("div",{className:"text-xs text-red-600",children:[e.jsx("span",{className:"font-medium",children:"From:"})," ",b.oldValue.substring(0,50),b.oldValue.length>50?"...":""]}),b.newValue&&e.jsxs("div",{className:"text-xs text-green-600",children:[e.jsx("span",{className:"font-medium",children:"To:"})," ",b.newValue.substring(0,50),b.newValue.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.ipAddress})]},b.id))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-file-list-3-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No activity logs found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Actions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:m.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-bar-chart-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Updates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:m.filter(b=>b.action==="update").length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-edit-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Deletions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:m.filter(b=>b.action==="delete").length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Logins"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:m.filter(b=>b.action==="login").length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-login-box-line text-2xl text-purple-600"})})]})})]})]})}function ns(){const[a,c]=o.useState([]),[d,i]=o.useState("all"),[s,r]=o.useState([{id:"1",type:"award",page:"Awards",section:"Awards List",title:"Best Innovation Award 2023",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-14T14:20:00"),data:{year:"2023",category:"Innovation",organization:"Healthcare Excellence Awards",description:"Recognized for breakthrough innovations in medical imaging technology"}},{id:"2",type:"product",page:"Products",section:"Product List",title:"Legacy X-Ray System",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-13T10:15:00"),data:{category:"X-Ray Systems",description:"Discontinued product line"}},{id:"3",type:"job",page:"Careers",section:"Job Openings",title:"Senior Software Engineer",deletedBy:"raghul.je@refex.co.in",deletedAt:new Date("2025-01-12T16:30:00"),data:{department:"Engineering",location:"Mohali, India",type:"Full-time"}},{id:"4",type:"page-section",page:"Home",section:"Testimonials",title:"Customer Testimonial - Dr. Smith",deletedBy:"editor@adonismedical.com",deletedAt:new Date("2025-01-11T09:45:00"),data:{author:"Dr. John Smith",content:"Excellent equipment and service..."}}]),l={"page-section":"ri-file-text-line",product:"ri-product-hunt-line",award:"ri-award-line",job:"ri-briefcase-line",client:"ri-user-heart-line",document:"ri-file-line"},x={"page-section":"bg-blue-100 text-blue-800",product:"bg-green-100 text-green-800",award:"bg-yellow-100 text-yellow-800",job:"bg-purple-100 text-purple-800",client:"bg-pink-100 text-pink-800",document:"bg-gray-100 text-gray-800"},m=d==="all"?s:s.filter(A=>A.type===d),S=()=>{a.length===m.length?c([]):c(m.map(A=>A.id))},C=A=>{c(p=>p.includes(A)?p.filter(T=>T!==A):[...p,A])},N=A=>{const p=s.find(T=>T.id===A);p&&(alert(`Restored: ${p.title}`),r(T=>T.filter(I=>I.id!==A)),c(T=>T.filter(I=>I!==A)))},y=()=>{a.length!==0&&confirm(`Restore ${a.length} selected item(s)?`)&&(r(A=>A.filter(p=>!a.includes(p.id))),c([]),alert(`${a.length} item(s) restored successfully!`))},b=A=>{const p=s.find(T=>T.id===A);p&&confirm(`Permanently delete "${p.title}"? This action cannot be undone.`)&&(r(T=>T.filter(I=>I.id!==A)),c(T=>T.filter(I=>I!==A)),alert("Item permanently deleted"))},k=()=>{s.length!==0&&confirm(`Permanently delete all ${s.length} item(s)? This action cannot be undone.`)&&(r([]),c([]),alert("Recycle bin emptied successfully"))},h=A=>{const p=Math.floor((new Date().getTime()-A.getTime())/864e5);return p===0?"Today":p===1?"Yesterday":`${p} days ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recycle Bin"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.length," deleted item(s)  Items are kept for 30 days"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[a.length>0&&e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsxs("span",{children:["Restore Selected (",a.length,")"]})]}),e.jsxs("button",{onClick:k,disabled:s.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Empty Bin"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="all"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Items (",s.length,")"]}),e.jsxs("button",{onClick:()=>i("page-section"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="page-section"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Page Sections (",s.filter(A=>A.type==="page-section").length,")"]}),e.jsxs("button",{onClick:()=>i("product"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="product"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Products (",s.filter(A=>A.type==="product").length,")"]}),e.jsxs("button",{onClick:()=>i("award"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="award"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Awards (",s.filter(A=>A.type==="award").length,")"]}),e.jsxs("button",{onClick:()=>i("job"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer whitespace-nowrap ${d==="job"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Jobs (",s.filter(A=>A.type==="job").length,")"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:m.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.length===m.length,onChange:S,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Select All"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:m.map(A=>e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("input",{type:"checkbox",checked:a.includes(A.id),onChange:()=>C(A.id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x[A.type]}`,children:e.jsx("i",{className:`${l[A.type]} text-xl`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:A.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${x[A.type]}`,children:A.type.replace("-"," ")}),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:[A.page," / ",A.section]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Deleted by ",A.deletedBy,"  ",h(A.deletedAt)]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>N(A.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>b(A.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-delete-bin-line"}),e.jsx("span",{children:"Delete"})]})]})]})})]})},A.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-delete-bin-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Recycle bin is empty"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Deleted items will appear here"})]})})]})}function os(){const[a,c]=o.useState("all"),[d,i]=o.useState("all"),[s,r]=o.useState(!1),[l,x]=o.useState([]),[m]=o.useState([{id:"1",page:"Home",section:"Hero Section",versionNumber:5,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-15T10:30:00"),changes:["Updated title text","Changed background image","Modified button color"],data:{title:"Affordable Diagnostic Imaging Solutions",subtitle:"Leading manufacturer of high-quality X-ray systems",backgroundImage:"https://example.com/hero-bg.jpg"}},{id:"2",page:"Home",section:"Hero Section",versionNumber:4,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-14T15:20:00"),changes:["Updated subtitle","Changed overlay opacity"],data:{title:"Welcome to Adonis Medical",subtitle:"Quality medical imaging solutions",backgroundImage:"https://example.com/hero-bg-old.jpg"}},{id:"3",page:"About",section:"Company Overview",versionNumber:3,createdBy:"raghul.je@refex.co.in",createdAt:new Date("2025-01-13T11:45:00"),changes:["Added new paragraph","Updated bullet points"],data:{paragraphs:["Updated company description..."],bulletPoints:["Innovation","Quality","Service"]}},{id:"4",page:"Products",section:"Product List",versionNumber:8,createdBy:"editor@adonismedical.com",createdAt:new Date("2025-01-12T09:15:00"),changes:["Added new product","Updated product images"],data:{products:["HF Mobile","C-ARM","Digital Radiography"]}}]),S=["all",...Array.from(new Set(m.map(h=>h.page)))],C=a==="all"?["all"]:["all",...Array.from(new Set(m.filter(h=>h.page===a).map(h=>h.section)))],N=m.filter(h=>{const A=a==="all"||h.page===a,p=d==="all"||h.section===d;return A&&p}),y=h=>{l.includes(h)?x(A=>A.filter(p=>p!==h)):l.length<2&&x(A=>[...A,h])},b=h=>{confirm(`Restore ${h.page} - ${h.section} to version ${h.versionNumber}?`)&&alert(`Restored to version ${h.versionNumber}`)},k=()=>{l.length===2&&alert("Opening comparison view...")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Version History"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and restore previous versions of your content"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:h=>{r(h.target.checked),h.target.checked||x([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compare Mode"})]}),s&&l.length===2&&e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-git-compare-line"}),e.jsx("span",{children:"Compare Versions"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page"}),e.jsx("select",{value:a,onChange:h=>{c(h.target.value),i("all")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:S.map(h=>e.jsx("option",{value:h,children:h==="all"?"All Pages":h},h))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),e.jsx("select",{value:d,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:C.map(h=>e.jsx("option",{value:h,children:h==="all"?"All Sections":h},h))})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Version Timeline"}),N.length>0?e.jsx("div",{className:"space-y-6",children:N.map((h,A)=>e.jsxs("div",{className:"relative",children:[A!==N.length-1&&e.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"flex items-start space-x-4",children:[s&&e.jsx("input",{type:"checkbox",checked:l.includes(h.id),onChange:()=>y(h.id),disabled:!l.includes(h.id)&&l.length>=2,className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("div",{className:"relative z-10 flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:["v",h.versionNumber]}),e.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900",children:[h.page," - ",h.section]}),e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:["Version ",h.versionNumber]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[h.createdAt.toLocaleString(),"  by ",h.createdBy]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Changes:"}),e.jsx("ul",{className:"space-y-1",children:h.changes.map((p,T)=>e.jsxs("li",{className:"text-xs text-gray-600 flex items-start",children:[e.jsx("i",{className:"ri-arrow-right-s-line text-blue-500 mt-0.5"}),e.jsx("span",{children:p})]},T))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs("button",{onClick:()=>alert("Opening preview..."),className:"flex items-center space-x-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-eye-line"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>b(h),className:"flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer whitespace-nowrap text-sm",children:[e.jsx("i",{className:"ri-restart-line"}),e.jsx("span",{children:"Restore"})]})]})]})})]})]},h.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-history-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No version history found"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Versions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:m.length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-git-branch-line text-2xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pages Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:new Set(m.map(h=>h.page)).size})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-file-list-line text-2xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Latest Update"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 mt-1",children:m[0]?.createdAt.toLocaleDateString()})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-time-line text-2xl text-purple-600"})})]})})]})]})}function us(){he();const{user:a,logout:c}=pe(),[d,i]=o.useState("home");o.useEffect(()=>{window.scrollTo(0,0),be.init({duration:600,once:!0,easing:"ease-out-cubic"})},[]);const s=()=>{c()},r=[{id:"home",label:"Home",icon:"ri-home-line"},{id:"header-footer",label:"Header & Footer",icon:"ri-layout-line"},{id:"about",label:"About",icon:"ri-information-line"},{id:"products",label:"Products",icon:"ri-product-hunt-line"},{id:"awards",label:"Awards",icon:"ri-award-line"},{id:"careers",label:"Careers",icon:"ri-briefcase-line"},{id:"specialties",label:"Specialties",icon:"ri-stethoscope-line"},{id:"investors",label:"Investors",icon:"ri-line-chart-line"},{id:"clients",label:"Clients",icon:"ri-user-heart-line"},{id:"management",label:"Management",icon:"ri-team-line"},{id:"presence",label:"Our Presence",icon:"ri-map-2-line"},{id:"production",label:"Production",icon:"ri-factory-line"},{id:"quality",label:"Quality",icon:"ri-shield-check-line"},{id:"demo",label:"Request Demo",icon:"ri-calendar-check-line"},{id:"contact",label:"Contact",icon:"ri-mail-line"},{id:"contact-info",label:"Contact Info",icon:"ri-contacts-line"},{id:"global-settings",label:"Global Settings",icon:"ri-settings-3-line"},{id:"social-links",label:"Social Links",icon:"ri-share-line"},{id:"testimonials",label:"Testimonials",icon:"ri-chat-quote-line"},{id:"users",label:"Users",icon:"ri-user-settings-line"},{id:"smtp",label:"SMTP",icon:"ri-mail-settings-line"},{id:"logs",label:"Activity Logs",icon:"ri-file-list-3-line"},{id:"bin",label:"Recycle Bin",icon:"ri-delete-bin-line"},{id:"versions",label:"Version History",icon:"ri-history-line"}];return e.jsxs("div",{className:"min-h-screen bg-[#F5F7FA]",children:[e.jsxs("div",{className:"bg-white border-b border-[#E5E7EB] sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:oe("2024/09/logo_adonis_4x-1.svg"),alt:"Adonis Medical",className:"h-10"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[#2563EB]",children:"Admin Dashboard"}),e.jsx("p",{className:"text-xs text-[#6B7280]",children:"Content Management System"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-[#1F2937]",children:["Welcome, ",e.jsx("span",{className:"text-[#2563EB]",children:a?.email||a?.fullName||"Admin"})]})}),e.jsxs("button",{onClick:s,className:"flex items-center space-x-2 px-4 py-2 bg-[#EF4444] text-white rounded-lg hover:bg-[#DC2626] transition-all duration-300 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line"}),e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),e.jsx("div",{className:"px-6",children:e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:r.map(l=>e.jsxs("button",{onClick:()=>i(l.id),className:`flex items-center space-x-2 px-6 py-3 font-medium text-sm whitespace-nowrap transition-all duration-300 border-b-2 cursor-pointer ${d===l.id?"text-[#2563EB] border-[#2563EB] bg-gradient-to-b from-[#EFF6FF] to-transparent":"text-[#6B7280] border-transparent hover:text-[#2563EB] hover:bg-[#F9FAFB]"}`,children:[e.jsx("i",{className:`${l.icon} text-lg`}),e.jsx("span",{children:l.label})]},l.id))})})]}),e.jsxs("div",{className:"p-6",children:[d==="home"&&e.jsx(fe,{}),d==="header-footer"&&e.jsx(Ae,{}),d==="about"&&e.jsx(Ue,{}),d==="products"&&e.jsx(mt,{}),d==="awards"&&e.jsx(ht,{}),d==="careers"&&e.jsx(yt,{}),d==="specialties"&&e.jsx(It,{}),d==="investors"&&e.jsx(Tt,{}),d==="clients"&&e.jsx(Mt,{}),d==="management"&&e.jsx(Rt,{}),d==="presence"&&e.jsx(Ht,{}),d==="production"&&e.jsx(zt,{}),d==="quality"&&e.jsx(Jt,{}),d==="demo"&&e.jsx(Qt,{}),d==="contact"&&e.jsx(Ct,{}),d==="contact-info"&&e.jsx(Xt,{}),d==="global-settings"&&e.jsx(Zt,{}),d==="social-links"&&e.jsx(ts,{}),d==="testimonials"&&e.jsx(as,{}),d==="users"&&e.jsx(Re,{}),d==="smtp"&&e.jsx(St,{}),d==="logs"&&e.jsx(is,{}),d==="bin"&&e.jsx(ns,{}),d==="versions"&&e.jsx(os,{})]})]})}export{us as default};
//# sourceMappingURL=page-BxFM4XgF.js.map
